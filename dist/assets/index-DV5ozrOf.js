(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function r0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sd={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function iS(){if(p_)return dl;p_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return dl.Fragment=t,dl.jsx=n,dl.jsxs=n,dl}var y_;function rS(){return y_||(y_=1,Sd.exports=iS()),Sd.exports}var at=rS(),bd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function sS(){if(__)return Rt;__=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,J={};function $(D,Z,nt){this.props=D,this.context=Z,this.refs=J,this.updater=nt||z}$.prototype.isReactComponent={},$.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ut(){}ut.prototype=$.prototype;function lt(D,Z,nt){this.props=D,this.context=Z,this.refs=J,this.updater=nt||z}var st=lt.prototype=new ut;st.constructor=lt,H(st,$.prototype),st.isPureReactComponent=!0;var bt=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},wt=Object.prototype.hasOwnProperty;function V(D,Z,nt,W,mt,Ot){return nt=Ot.ref,{$$typeof:r,type:D,key:Z,ref:nt!==void 0?nt:null,props:Ot}}function b(D,Z){return V(D.type,Z,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return Z[nt]})}var M=/\/+/g;function P(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):Z.toString(36)}function S(){}function At(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(S,S):(D.status="pending",D.then(function(Z){D.status==="pending"&&(D.status="fulfilled",D.value=Z)},function(Z){D.status==="pending"&&(D.status="rejected",D.reason=Z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Dt(D,Z,nt,W,mt){var Ot=typeof D;(Ot==="undefined"||Ot==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(Ot){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case r:case t:Et=!0;break;case T:return Et=D._init,Dt(Et(D._payload),Z,nt,W,mt)}}if(Et)return mt=mt(D),Et=W===""?"."+P(D,0):W,bt(mt)?(nt="",Et!=null&&(nt=Et.replace(M,"$&/")+"/"),Dt(mt,Z,nt,"",function(Hn){return Hn})):mt!=null&&(I(mt)&&(mt=b(mt,nt+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(M,"$&/")+"/")+Et)),Z.push(mt)),1;Et=0;var De=W===""?".":W+":";if(bt(D))for(var te=0;te<D.length;te++)W=D[te],Ot=De+P(W,te),Et+=Dt(W,Z,nt,Ot,mt);else if(te=C(D),typeof te=="function")for(D=te.call(D),te=0;!(W=D.next()).done;)W=W.value,Ot=De+P(W,te++),Et+=Dt(W,Z,nt,Ot,mt);else if(Ot==="object"){if(typeof D.then=="function")return Dt(At(D),Z,nt,W,mt);throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Et}function F(D,Z,nt){if(D==null)return D;var W=[],mt=0;return Dt(D,W,"","",function(Ot){return Z.call(nt,Ot,mt++)}),W}function et(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var ht=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function jt(){}return Rt.Children={map:F,forEach:function(D,Z,nt){F(D,function(){Z.apply(this,arguments)},nt)},count:function(D){var Z=0;return F(D,function(){Z++}),Z},toArray:function(D){return F(D,function(Z){return Z})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Rt.Component=$,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=lt,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ct.H.useMemoCache(D)}},Rt.cache=function(D){return function(){return D.apply(null,arguments)}},Rt.cloneElement=function(D,Z,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=H({},D.props),mt=D.key,Ot=void 0;if(Z!=null)for(Et in Z.ref!==void 0&&(Ot=void 0),Z.key!==void 0&&(mt=""+Z.key),Z)!wt.call(Z,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&Z.ref===void 0||(W[Et]=Z[Et]);var Et=arguments.length-2;if(Et===1)W.children=nt;else if(1<Et){for(var De=Array(Et),te=0;te<Et;te++)De[te]=arguments[te+2];W.children=De}return V(D.type,mt,void 0,void 0,Ot,W)},Rt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Rt.createElement=function(D,Z,nt){var W,mt={},Ot=null;if(Z!=null)for(W in Z.key!==void 0&&(Ot=""+Z.key),Z)wt.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(mt[W]=Z[W]);var Et=arguments.length-2;if(Et===1)mt.children=nt;else if(1<Et){for(var De=Array(Et),te=0;te<Et;te++)De[te]=arguments[te+2];mt.children=De}if(D&&D.defaultProps)for(W in Et=D.defaultProps,Et)mt[W]===void 0&&(mt[W]=Et[W]);return V(D,Ot,void 0,void 0,null,mt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(D){return{$$typeof:g,render:D}},Rt.isValidElement=I,Rt.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:et}},Rt.memo=function(D,Z){return{$$typeof:_,type:D,compare:Z===void 0?null:Z}},Rt.startTransition=function(D){var Z=ct.T,nt={};ct.T=nt;try{var W=D(),mt=ct.S;mt!==null&&mt(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(jt,ht)}catch(Ot){ht(Ot)}finally{ct.T=Z}},Rt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},Rt.use=function(D){return ct.H.use(D)},Rt.useActionState=function(D,Z,nt){return ct.H.useActionState(D,Z,nt)},Rt.useCallback=function(D,Z){return ct.H.useCallback(D,Z)},Rt.useContext=function(D){return ct.H.useContext(D)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(D,Z){return ct.H.useDeferredValue(D,Z)},Rt.useEffect=function(D,Z,nt){var W=ct.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(D,Z)},Rt.useId=function(){return ct.H.useId()},Rt.useImperativeHandle=function(D,Z,nt){return ct.H.useImperativeHandle(D,Z,nt)},Rt.useInsertionEffect=function(D,Z){return ct.H.useInsertionEffect(D,Z)},Rt.useLayoutEffect=function(D,Z){return ct.H.useLayoutEffect(D,Z)},Rt.useMemo=function(D,Z){return ct.H.useMemo(D,Z)},Rt.useOptimistic=function(D,Z){return ct.H.useOptimistic(D,Z)},Rt.useReducer=function(D,Z,nt){return ct.H.useReducer(D,Z,nt)},Rt.useRef=function(D){return ct.H.useRef(D)},Rt.useState=function(D){return ct.H.useState(D)},Rt.useSyncExternalStore=function(D,Z,nt){return ct.H.useSyncExternalStore(D,Z,nt)},Rt.useTransition=function(){return ct.H.useTransition()},Rt.version="19.1.0",Rt}var v_;function dm(){return v_||(v_=1,bd.exports=sS()),bd.exports}var Yt=dm();const aS=r0(Yt);var wd={exports:{}},ml={},Rd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function oS(){return E_||(E_=1,function(r){function t(F,et){var ht=F.length;F.push(et);t:for(;0<ht;){var jt=ht-1>>>1,D=F[jt];if(0<o(D,et))F[jt]=et,F[ht]=D,ht=jt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var et=F[0],ht=F.pop();if(ht!==et){F[0]=ht;t:for(var jt=0,D=F.length,Z=D>>>1;jt<Z;){var nt=2*(jt+1)-1,W=F[nt],mt=nt+1,Ot=F[mt];if(0>o(W,ht))mt<D&&0>o(Ot,W)?(F[jt]=Ot,F[mt]=ht,jt=mt):(F[jt]=W,F[nt]=ht,jt=nt);else if(mt<D&&0>o(Ot,ht))F[jt]=Ot,F[mt]=ht,jt=mt;else break t}}return et}function o(F,et){var ht=F.sortIndex-et.sortIndex;return ht!==0?ht:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],T=1,w=null,C=3,z=!1,H=!1,J=!1,$=!1,ut=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function bt(F){for(var et=n(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=F)s(_),et.sortIndex=et.expirationTime,t(p,et);else break;et=n(_)}}function ct(F){if(J=!1,bt(F),!H)if(n(p)!==null)H=!0,wt||(wt=!0,P());else{var et=n(_);et!==null&&Dt(ct,et.startTime-F)}}var wt=!1,V=-1,b=5,I=-1;function N(){return $?!0:!(r.unstable_now()-I<b)}function M(){if($=!1,wt){var F=r.unstable_now();I=F;var et=!0;try{t:{H=!1,J&&(J=!1,lt(V),V=-1),z=!0;var ht=C;try{e:{for(bt(F),w=n(p);w!==null&&!(w.expirationTime>F&&N());){var jt=w.callback;if(typeof jt=="function"){w.callback=null,C=w.priorityLevel;var D=jt(w.expirationTime<=F);if(F=r.unstable_now(),typeof D=="function"){w.callback=D,bt(F),et=!0;break e}w===n(p)&&s(p),bt(F)}else s(p);w=n(p)}if(w!==null)et=!0;else{var Z=n(_);Z!==null&&Dt(ct,Z.startTime-F),et=!1}}break t}finally{w=null,C=ht,z=!1}et=void 0}}finally{et?P():wt=!1}}}var P;if(typeof st=="function")P=function(){st(M)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,At=S.port2;S.port1.onmessage=M,P=function(){At.postMessage(null)}}else P=function(){ut(M,0)};function Dt(F,et){V=ut(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(F){switch(C){case 1:case 2:case 3:var et=3;break;default:et=C}var ht=C;C=et;try{return F()}finally{C=ht}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=C;C=F;try{return et()}finally{C=ht}},r.unstable_scheduleCallback=function(F,et,ht){var jt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?jt+ht:jt):ht=jt,F){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ht+D,F={id:T++,callback:et,priorityLevel:F,startTime:ht,expirationTime:D,sortIndex:-1},ht>jt?(F.sortIndex=ht,t(_,F),n(p)===null&&F===n(_)&&(J?(lt(V),V=-1):J=!0,Dt(ct,ht-jt))):(F.sortIndex=D,t(p,F),H||z||(H=!0,wt||(wt=!0,P()))),F},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(F){var et=C;return function(){var ht=C;C=et;try{return F.apply(this,arguments)}finally{C=ht}}}}(Id)),Id}var T_;function lS(){return T_||(T_=1,Rd.exports=oS()),Rd.exports}var Cd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function uS(){if(A_)return Ke;A_=1;var r=dm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,_,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,T)},Ke.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Ke.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Ke.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ke.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:z}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:C,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Ke.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,w=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Ke.requestFormReset=function(p){s.d.r(p)},Ke.unstable_batchedUpdates=function(p,_){return p(_)},Ke.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.1.0",Ke}var S_;function cS(){if(S_)return Cd.exports;S_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=uS(),Cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function hS(){if(b_)return ml;b_=1;var r=lS(),t=dm(),n=cS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ut=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function At(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case $:return"Profiler";case J:return"StrictMode";case ct:return"Suspense";case wt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case st:return(e.displayName||"Context")+".Provider";case lt:return(e._context.displayName||"Context")+".Consumer";case bt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:At(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return At(e(i))}catch{}}return null}var Dt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},jt=[],D=-1;function Z(e){return{current:e}}function nt(e){0>D||(e.current=jt[D],jt[D]=null,D--)}function W(e,i){D++,jt[D]=e.current,e.current=i}var mt=Z(null),Ot=Z(null),Et=Z(null),De=Z(null);function te(e,i){switch(W(Et,i),W(Ot,e),W(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Fy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Fy(i),e=Gy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(mt),W(mt,e)}function Hn(){nt(mt),nt(Ot),nt(Et)}function $i(e){e.memoizedState!==null&&W(De,e);var i=mt.current,a=Gy(i,e.type);i!==a&&(W(Ot,e),W(mt,a))}function mi(e){Ot.current===e&&(nt(mt),nt(Ot)),De.current===e&&(nt(De),ll._currentValue=ht)}var Qr=Object.prototype.hasOwnProperty,Kr=r.unstable_scheduleCallback,Yr=r.unstable_cancelCallback,ro=r.unstable_shouldYield,Yl=r.unstable_requestPaint,_n=r.unstable_now,Ah=r.unstable_getCurrentPriorityLevel,so=r.unstable_ImmediatePriority,Bs=r.unstable_UserBlockingPriority,Xr=r.unstable_NormalPriority,Sh=r.unstable_LowPriority,js=r.unstable_IdlePriority,ao=r.log,Xl=r.unstable_setDisableYieldValue,le=null,Gt=null;function ln(e){if(typeof ao=="function"&&Xl(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(le,e)}catch{}}var Ge=Math.clz32?Math.clz32:$r,$l=Math.log,bh=Math.LN2;function $r(e){return e>>>=0,e===0?32:31-($l(e)/bh|0)|0}var Zr=256,Jr=4194304;function Mn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qs(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=Mn(l):(v&=E,v!==0?h=Mn(v):a||(a=E&~e,a!==0&&(h=Mn(a))))):(E=l&~d,E!==0?h=Mn(E):v!==0?h=Mn(v):a||(a=l&~e,a!==0&&(h=Mn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Wr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function oo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lo(){var e=Zr;return Zr<<=1,(Zr&4194048)===0&&(Zr=256),e}function uo(){var e=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),e}function gi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function pi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function co(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Ge(a),Y=1<<G;E[G]=0,R[G]=-1;var B=L[G];if(B!==null)for(L[G]=null,G=0;G<B.length;G++){var j=B[G];j!==null&&(j.lane&=-536870913)}a&=~Y}l!==0&&Fn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Fn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function ho(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ge(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Zi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ji(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function Zl(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var re=Math.random().toString(36).slice(2),Se="__reactFiber$"+re,pe="__reactProps$"+re,vn="__reactContainer$"+re,fo="__reactEvents$"+re,wh="__reactListeners$"+re,Wi="__reactHandles$"+re,Jl="__reactResources$"+re,ts="__reactMarker$"+re;function tr(e){delete e[Se],delete e[pe],delete e[fo],delete e[wh],delete e[Wi]}function yi(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[vn]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Xy(e);e!==null;){if(a=e[Se])return a;e=Xy(e)}return i}e=a,a=e.parentNode}return null}function Gn(e){if(e=e[Se]||e[vn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Qn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Je(e){var i=e[Jl];return i||(i=e[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fe(e){e[ts]=!0}var mo=new Set,Fs={};function xn(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(Fs[e]=i,e=0;e<i.length;e++)mo.add(i[e])}var Wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tu={},es={};function eu(e){return Qr.call(es,e)?!0:Qr.call(tu,e)?!1:Wl.test(e)?es[e]=!0:(tu[e]=!0,!1)}function er(e,i,a){if(eu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Kn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ke(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var ns,nu;function vi(e){if(ns===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ns=i&&i[1]||"",nu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ns+e+nu}var Gs=!1;function Qs(e,i){if(!e||Gs)return"";Gs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var B=j}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(j){B=j}e.call(Y.prototype)}}else{try{throw Error()}catch(j){B=j}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var R=v.split(`
`),L=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===L.length)for(l=R.length-1,h=L.length-1;1<=l&&0<=h&&R[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==L[h]){var G=`
`+R[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{Gs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?vi(a):""}function go(e){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Qs(e.type,!1);case 11:return Qs(e.type.render,!1);case 1:return Qs(e.type,!0);case 31:return vi("Activity");default:return""}}function Ks(e){try{var i="";do i+=go(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function po(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rh(e){var i=po(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ys(e){e._valueTracker||(e._valueTracker=Rh(e))}function yo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=po(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ih=/[\n"\\]/g;function ye(e){return e.replace(Ih,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function un(e,i,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+We(i)):e.value!==""+We(i)&&(e.value=""+We(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?nr(e,v,We(i)):a!=null?nr(e,v,We(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+We(E):e.removeAttribute("name")}function rs(e,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+We(a):"",i=i!=null?""+We(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function nr(e,i,a){i==="number"&&is(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ei(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Xt(e,i,a){if(i!=null&&(i=""+We(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+We(a):""}function ss(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=We(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function En(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var as=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||as.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function _o(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&iu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&iu(e,d,i[d])}function vo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return Dh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Si=null;function Eo(e){var i=Gn(e);if(i&&(e=i.stateNode)){var a=e[pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(un(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[pe]||null;if(!h)throw Error(s(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&yo(l)}break t;case"textarea":Xt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ei(e,!!a.multiple,i,!1)}}}var Yn=!1;function ru(e,i,a){if(Yn)return e(i,a);Yn=!0;try{var l=e(i);return l}finally{if(Yn=!1,(Ai!==null||Si!==null)&&(Zu(),Ai&&(i=Ai,e=Si,Si=Ai=null,Eo(i),e)))for(i=0;i<e.length;i++)Eo(e[i])}}function os(e,i){var a=e.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Pn)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){An=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{An=!1}var Xn=null,ir=null,bi=null;function To(){if(bi)return bi;var e,i=ir,a=i.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return bi=h.slice(e,1<l?1-l:void 0)}function $n(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function Ao(){return!1}function Oe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:Ao,this.isPropagationStopped=Ao,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Oe(Ht),us=T({},Ht,{view:0,detail:0}),su=Oe(us),Zs,Js,Jn,cs=T({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jn&&(Jn&&e.type==="mousemove"?(Zs=e.screenX-Jn.screenX,Js=e.screenY-Jn.screenY):Js=Zs=0,Jn=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),Sn=Oe(cs),au=T({},cs,{dataTransfer:0}),Oh=Oe(au),hs=T({},us,{relatedTarget:0}),Ws=Oe(hs),So=T({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=Oe(So),ou=T({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ea=Oe(ou),Nh=T({},Ht,{data:0}),bo=Oe(Nh),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=uu[e])?!!i[e]:!1}function ds(){return wo}var cu=T({},us,{key:function(e){if(e.key){var i=fs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),na=Oe(cu),hu=T({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=Oe(hu),wi=T({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),fu=Oe(wi),du=T({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),mu=Oe(du),gu=T({},cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=Oe(gu),tn=T({},Ht,{newState:0,oldState:0}),pu=Oe(tn),yu=[9,13,27,32],Wn=Pn&&"CompositionEvent"in window,u=null;Pn&&"documentMode"in document&&(u=document.documentMode);var m=Pn&&"TextEvent"in window&&!u,y=Pn&&(!Wn||u&&8<u&&11>=u),A=" ",k=!1;function q(e,i){switch(e){case"keyup":return yu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function be(e,i){switch(e){case"compositionend":return tt(i);case"keypress":return i.which!==32?null:(k=!0,A);case"textInput":return e=i.data,e===A&&k?null:e;default:return null}}function Ut(e,i){if(kt)return e==="compositionend"||!Wn&&q(e,i)?(e=To(),bi=ir=Xn=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function Ri(e,i,a,l){Ai?Si?Si.push(l):Si=[l]:Ai=l,i=ic(i,"onChange"),0<i.length&&(a=new $s("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ue=null,ti=null;function Io(e){zy(e,0)}function _u(e){var i=Qn(e);if(yo(i))return e}function ag(e,i){if(e==="change")return i}var og=!1;if(Pn){var Vh;if(Pn){var Mh="oninput"in document;if(!Mh){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),Mh=typeof lg.oninput=="function"}Vh=Mh}else Vh=!1;og=Vh&&(!document.documentMode||9<document.documentMode)}function ug(){Ue&&(Ue.detachEvent("onpropertychange",cg),ti=Ue=null)}function cg(e){if(e.propertyName==="value"&&_u(ti)){var i=[];Ri(i,ti,e,Tn(e)),ru(Io,i)}}function MT(e,i,a){e==="focusin"?(ug(),Ue=i,ti=a,Ue.attachEvent("onpropertychange",cg)):e==="focusout"&&ug()}function xT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(ti)}function PT(e,i){if(e==="click")return _u(i)}function kT(e,i){if(e==="input"||e==="change")return _u(i)}function UT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var cn=typeof Object.is=="function"?Object.is:UT;function Co(e,i){if(cn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Qr.call(i,h)||!cn(e[h],i[h]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fg(e,i){var a=hg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=hg(a)}}function dg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?dg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=is(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=is(e.document)}return i}function xh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var LT=Pn&&"documentMode"in document&&11>=document.documentMode,ra=null,Ph=null,Do=null,kh=!1;function gg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kh||ra==null||ra!==is(l)||(l=ra,"selectionStart"in l&&xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Do&&Co(Do,l)||(Do=l,l=ic(Ph,"onSelect"),0<l.length&&(i=new $s("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ra)))}function ms(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var sa={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Uh={},pg={};Pn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function gs(e){if(Uh[e])return Uh[e];if(!sa[e])return e;var i=sa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in pg)return Uh[e]=i[a];return e}var yg=gs("animationend"),_g=gs("animationiteration"),vg=gs("animationstart"),zT=gs("transitionrun"),BT=gs("transitionstart"),jT=gs("transitioncancel"),Eg=gs("transitionend"),Tg=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function kn(e,i){Tg.set(e,i),xn(i,[e])}var Ag=new WeakMap;function bn(e,i){if(typeof e=="object"&&e!==null){var a=Ag.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ks(i)},Ag.set(e,i),i)}return{value:e,source:i,stack:Ks(i)}}var wn=[],aa=0,zh=0;function vu(){for(var e=aa,i=zh=aa=0;i<e;){var a=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Sg(a,h,d)}}function Eu(e,i,a,l){wn[aa++]=e,wn[aa++]=i,wn[aa++]=a,wn[aa++]=l,zh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bh(e,i,a,l){return Eu(e,i,a,l),Tu(e)}function oa(e,i){return Eu(e,null,null,i),Tu(e)}function Sg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ge(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Tu(e){if(50<tl)throw tl=0,Kf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var la={};function qT(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,i,a,l){return new qT(e,i,a,l)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,i){var a=e.alternate;return a===null?(a=hn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function bg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Au(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")jh(e)&&(v=1);else if(typeof e=="string")v=FA(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=hn(31,a,i,h),e.elementType=I,e.lanes=d,e;case H:return ps(a.children,h,d,i);case J:v=8,h|=24;break;case $:return e=hn(12,a,i,h|2),e.elementType=$,e.lanes=d,e;case ct:return e=hn(13,a,i,h),e.elementType=ct,e.lanes=d,e;case wt:return e=hn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:case st:v=10;break t;case lt:v=9;break t;case bt:v=11;break t;case V:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=hn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ps(e,i,a,l){return e=hn(7,e,l,i),e.lanes=a,e}function qh(e,i,a){return e=hn(6,e,null,i),e.lanes=a,e}function Hh(e,i,a){return i=hn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ua=[],ca=0,Su=null,bu=0,Rn=[],In=0,ys=null,Ci=1,Di="";function _s(e,i){ua[ca++]=bu,ua[ca++]=Su,Su=e,bu=i}function wg(e,i,a){Rn[In++]=Ci,Rn[In++]=Di,Rn[In++]=ys,ys=e;var l=Ci;e=Di;var h=32-Ge(l)-1;l&=~(1<<h),a+=1;var d=32-Ge(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ci=1<<32-Ge(i)+h|a<<h|l,Di=d+e}else Ci=1<<d|a<<h|l,Di=e}function Fh(e){e.return!==null&&(_s(e,1),wg(e,1,0))}function Gh(e){for(;e===Su;)Su=ua[--ca],ua[ca]=null,bu=ua[--ca],ua[ca]=null;for(;e===ys;)ys=Rn[--In],Rn[In]=null,Di=Rn[--In],Rn[In]=null,Ci=Rn[--In],Rn[In]=null}var en=null,ue=null,qt=!1,vs=null,ei=!1,Qh=Error(s(519));function Es(e){var i=Error(s(418,""));throw Vo(bn(i,e)),Qh}function Rg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Se]=e,i[pe]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<nl.length;a++)Mt(nl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),rs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ys(i);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),ss(i,l.value,l.defaultValue,l.children),Ys(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Hy(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=rc),i=!0):i=!1,i||Es(e)}function Ig(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:en=en.return}}function Oo(e){if(e!==en)return!1;if(!qt)return Ig(e),qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ud(e.type,e.memoizedProps)),a=!a),a&&ue&&Es(e),Ig(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ue=Ln(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ue=null}}else i===27?(i=ue,vr(e.type)?(e=dd,dd=null,ue=e):ue=i):ue=en?Ln(e.stateNode.nextSibling):null;return!0}function No(){ue=en=null,qt=!1}function Cg(){var e=vs;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),vs=null),e}function Vo(e){vs===null?vs=[e]:vs.push(e)}var Kh=Z(null),Ts=null,Oi=null;function rr(e,i,a){W(Kh,i._currentValue),i._currentValue=a}function Ni(e){e._currentValue=Kh.current,nt(Kh)}function Yh(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Xh(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Yh(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Yh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Mo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;cn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}h=h.return}e!==null&&Xh(i,e,a,l),i.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){Ts=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Dg(Ts,e)}function Ru(e,i){return Ts===null&&As(e),Dg(e,i)}function Dg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Oi=Oi.next=i;return a}var HT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},FT=r.unstable_scheduleCallback,GT=r.unstable_NormalPriority,Re={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new HT,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&FT(GT,function(){e.controller.abort()})}var Po=null,Zh=0,ha=0,fa=null;function QT(e,i){if(Po===null){var a=Po=[];Zh=0,ha=td(),fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zh++,i.then(Og,Og),i}function Og(){if(--Zh===0&&Po!==null){fa!==null&&(fa.status="fulfilled");var e=Po;Po=null,ha=0,fa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function KT(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ng=F.S;F.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&QT(e,i),Ng!==null&&Ng(e,i)};var Ss=Z(null);function Jh(){var e=Ss.current;return e!==null?e:ee.pooledCache}function Iu(e,i){i===null?W(Ss,Ss.current):W(Ss,i.pool)}function Vg(){var e=Jh();return e===null?null:{parent:Re._currentValue,pool:e}}var ko=Error(s(460)),Mg=Error(s(474)),Cu=Error(s(542)),Wh={then:function(){}};function xg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Du(){}function Pg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Du,Du),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ug(e),e;default:if(typeof i.status=="string")i.then(Du,Du);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ug(e),e}throw Uo=i,ko}}var Uo=null;function kg(){if(Uo===null)throw Error(s(459));var e=Uo;return Uo=null,e}function Ug(e){if(e===ko||e===Cu)throw Error(s(483))}var sr=!1;function tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function or(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Tu(e),Sg(e,null,a),i}return Eu(e,l,i,a),Tu(e)}function Lo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ho(e,a)}}function nf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var rf=!1;function zo(){if(rf){var e=fa;if(e!==null)throw e}}function Bo(e,i,a,l){rf=!1;var h=e.updateQueue;sr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,L=R.next;R.next=null,v===null?d=L:v.next=L,v=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=R))}if(d!==null){var Y=h.baseState;v=0,G=L=R=null,E=d;do{var B=E.lane&-536870913,j=B!==E.lane;if(j?(Lt&B)===B:(l&B)===B){B!==0&&B===ha&&(rf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=e,gt=E;B=i;var Jt=a;switch(gt.tag){case 1:if(_t=gt.payload,typeof _t=="function"){Y=_t.call(Jt,Y,B);break t}Y=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=gt.payload,B=typeof _t=="function"?_t.call(Jt,Y,B):_t,B==null)break t;Y=T({},Y,B);break t;case 2:sr=!0}}B=E.callback,B!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[B]:j.push(B))}else j={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=j,R=Y):G=G.next=j,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=L,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),gr|=v,e.lanes=v,e.memoizedState=Y}}function Lg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function zg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Lg(a[e],i)}var da=Z(null),Ou=Z(0);function Bg(e,i){e=Li,W(Ou,e),W(da,i),Li=e|i.baseLanes}function sf(){W(Ou,Li),W(da,da.current)}function af(){Li=Ou.current,nt(da),nt(Ou)}var lr=0,It=null,$t=null,_e=null,Nu=!1,ma=!1,bs=!1,Vu=0,jo=0,ga=null,YT=0;function de(){throw Error(s(321))}function of(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!cn(e[a],i[a]))return!1;return!0}function lf(e,i,a,l,h,d){return lr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?Sp:bp,bs=!1,d=a(l,h),bs=!1,ma&&(d=qg(i,a,l,h)),jg(e),d}function jg(e){F.H=Lu;var i=$t!==null&&$t.next!==null;if(lr=0,_e=$t=It=null,Nu=!1,jo=0,ga=null,i)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&wu(e)&&(Ve=!0))}function qg(e,i,a,l){It=e;var h=0;do{if(ma&&(ga=null),jo=0,ma=!1,25<=h)throw Error(s(301));if(h+=1,_e=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=eA,d=i(a,l)}while(ma);return d}function XT(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?qo(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(It.flags|=1024),i}function uf(){var e=Vu!==0;return Vu=0,e}function cf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function hf(e){if(Nu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Nu=!1}lr=0,_e=$t=It=null,ma=!1,jo=Vu=0,ga=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?It.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if($t===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=_e===null?It.memoizedState:_e.next;if(i!==null)_e=i,$t=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},_e===null?It.memoizedState=_e=e:_e=_e.next=e}return _e}function ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var i=jo;return jo+=1,ga===null&&(ga=[]),e=Pg(ga,e,i),i=It,(_e===null?i.memoizedState:_e.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Sp:bp),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===st)return Qe(e)}throw Error(s(438,String(e)))}function df(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ff(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=N;return i.index++,a}function Vi(e,i){return typeof i=="function"?i(e):i}function xu(e){var i=ve();return mf(i,$t,e)}function mf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,R=null,L=i,G=!1;do{var Y=L.lane&-536870913;if(Y!==L.lane?(Lt&Y)===Y:(lr&Y)===Y){var B=L.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Y===ha&&(G=!0);else if((lr&B)===B){L=L.next,B===ha&&(G=!0);continue}else Y={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=Y,v=d):R=R.next=Y,It.lanes|=B,gr|=B;Y=L.action,bs&&a(d,Y),d=L.hasEagerState?L.eagerState:a(d,Y)}else B={lane:Y,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=B,v=d):R=R.next=B,It.lanes|=Y,gr|=Y;L=L.next}while(L!==null&&L!==i);if(R===null?v=d:R.next=E,!cn(d,e.memoizedState)&&(Ve=!0,G&&(a=fa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function gf(e){var i=ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);cn(d,i.memoizedState)||(Ve=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Hg(e,i,a){var l=It,h=ve(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!cn(($t||h).memoizedState,a);v&&(h.memoizedState=a,Ve=!0),h=h.queue;var E=Qg.bind(null,l,h,e);if(Ho(2048,8,E,[e]),h.getSnapshot!==i||v||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,pa(9,Pu(),Gg.bind(null,l,h,a,i),null),ee===null)throw Error(s(349));d||(lr&124)!==0||Fg(l,i,a)}return a}function Fg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=ff(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Gg(e,i,a,l){i.value=a,i.getSnapshot=l,Kg(i)&&Yg(e)}function Qg(e,i,a){return a(function(){Kg(i)&&Yg(e)})}function Kg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!cn(e,a)}catch{return!0}}function Yg(e){var i=oa(e,2);i!==null&&pn(i,e,2)}function pf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),bs){ln(!0);try{a()}finally{ln(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},i}function Xg(e,i,a,l){return e.baseState=a,mf(e,$t,typeof l=="function"?l:Vi)}function $T(e,i,a,l,h){if(Uu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,$g(i,d)):(d.next=a.next,i.pending=a.next=d)}}function $g(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=F.T,v={};F.T=v;try{var E=a(h,l),R=F.S;R!==null&&R(v,E),Zg(e,i,E)}catch(L){yf(e,i,L)}finally{F.T=d}}else try{d=a(h,l),Zg(e,i,d)}catch(L){yf(e,i,L)}}function Zg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jg(e,i,l)},function(l){return yf(e,i,l)}):Jg(e,i,a)}function Jg(e,i,a){i.status="fulfilled",i.value=a,Wg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,$g(e,a)))}function yf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Wg(i),i=i.next;while(i!==l)}e.action=null}function Wg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function tp(e,i){return i}function ep(e,i){if(qt){var a=ee.formState;if(a!==null){t:{var l=It;if(qt){if(ue){e:{for(var h=ue,d=ei;h.nodeType!==8;){if(!d){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=Ln(h.nextSibling),l=h.data==="F!";break t}}Es(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tp,lastRenderedState:i},a.queue=l,a=Ep.bind(null,It,l),l.dispatch=a,l=pf(!1),d=Af.bind(null,It,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=$T.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function np(e){var i=ve();return ip(i,$t,e)}function ip(e,i,a){if(i=mf(e,i,tp)[0],e=xu(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=qo(i)}catch(v){throw v===ko?Cu:v}else l=i;i=ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,pa(9,Pu(),ZT.bind(null,h,a),null)),[l,d,e]}function ZT(e,i){e.action=i}function rp(e){var i=ve(),a=$t;if(a!==null)return ip(i,a,e);ve(),i=i.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function pa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=ff(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Pu(){return{destroy:void 0,resource:void 0}}function sp(){return ve().memoizedState}function ku(e,i,a,l){var h=nn();l=l===void 0?null:l,It.flags|=e,h.memoizedState=pa(1|i,Pu(),a,l)}function Ho(e,i,a,l){var h=ve();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&of(l,$t.memoizedState.deps)?h.memoizedState=pa(i,d,a,l):(It.flags|=e,h.memoizedState=pa(1|i,d,a,l))}function ap(e,i){ku(8390656,8,e,i)}function op(e,i){Ho(2048,8,e,i)}function lp(e,i){return Ho(4,2,e,i)}function up(e,i){return Ho(4,4,e,i)}function cp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function hp(e,i,a){a=a!=null?a.concat([e]):null,Ho(4,4,cp.bind(null,i,e),a)}function _f(){}function fp(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&of(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function dp(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&of(i,l[1]))return l[0];if(l=e(),bs){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,i],l}function vf(e,i,a){return a===void 0||(lr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=py(),It.lanes|=e,gr|=e,a)}function mp(e,i,a,l){return cn(a,i)?a:da.current!==null?(e=vf(e,a,l),cn(e,i)||(Ve=!0),e):(lr&42)===0?(Ve=!0,e.memoizedState=a):(e=py(),It.lanes|=e,gr|=e,i)}function gp(e,i,a,l,h){var d=et.p;et.p=d!==0&&8>d?d:8;var v=F.T,E={};F.T=E,Af(e,!1,i,a);try{var R=h(),L=F.S;if(L!==null&&L(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=KT(R,l);Fo(e,i,G,gn(e))}else Fo(e,i,l,gn(e))}catch(Y){Fo(e,i,{then:function(){},status:"rejected",reason:Y},gn())}finally{et.p=d,F.T=v}}function JT(){}function Ef(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=pp(e).queue;gp(e,h,i,ht,a===null?JT:function(){return yp(e),a(l)})}function pp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function yp(e){var i=pp(e).next.queue;Fo(e,i,{},gn())}function Tf(){return Qe(ll)}function _p(){return ve().memoizedState}function vp(){return ve().memoizedState}function WT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();e=ar(a);var l=or(i,e,a);l!==null&&(pn(l,i,a),Lo(l,i,a)),i={cache:$h()},e.payload=i;return}i=i.return}}function tA(e,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Uu(e)?Tp(i,a):(a=Bh(e,i,a,l),a!==null&&(pn(a,e,l),Ap(a,i,l)))}function Ep(e,i,a){var l=gn();Fo(e,i,a,l)}function Fo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))Tp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,cn(E,v))return Eu(e,i,h,0),ee===null&&vu(),!1}catch{}finally{}if(a=Bh(e,i,h,l),a!==null)return pn(a,e,l),Ap(a,i,l),!0}return!1}function Af(e,i,a,l){if(l={lane:2,revertLane:td(),action:l,hasEagerState:!1,eagerState:null,next:null},Uu(e)){if(i)throw Error(s(479))}else i=Bh(e,a,l,2),i!==null&&pn(i,e,2)}function Uu(e){var i=e.alternate;return e===It||i!==null&&i===It}function Tp(e,i){ma=Nu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ap(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ho(e,a)}}var Lu={readContext:Qe,use:Mu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},Sp={readContext:Qe,use:Mu,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:ap,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ku(4194308,4,cp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ku(4194308,4,e,i)},useInsertionEffect:function(e,i){ku(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(bs){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(bs){ln(!0);try{a(i)}finally{ln(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=tA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=pf(e);var i=e.queue,a=Ep.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:_f,useDeferredValue:function(e,i){var a=nn();return vf(a,e,i)},useTransition:function(){var e=pf(!1);return e=gp.bind(null,It,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=nn();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ee===null)throw Error(s(349));(Lt&124)!==0||Fg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ap(Qg.bind(null,l,d,e),[e]),l.flags|=2048,pa(9,Pu(),Gg.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=ee.identifierPrefix;if(qt){var a=Di,l=Ci;a=(l&~(1<<32-Ge(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Vu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=YT++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Tf,useFormState:ep,useActionState:ep,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Af.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:df,useCacheRefresh:function(){return nn().memoizedState=WT.bind(null,It)}},bp={readContext:Qe,use:Mu,useCallback:fp,useContext:Qe,useEffect:op,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:xu,useRef:sp,useState:function(){return xu(Vi)},useDebugValue:_f,useDeferredValue:function(e,i){var a=ve();return mp(a,$t.memoizedState,e,i)},useTransition:function(){var e=xu(Vi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:qo(e),i]},useSyncExternalStore:Hg,useId:_p,useHostTransitionStatus:Tf,useFormState:np,useActionState:np,useOptimistic:function(e,i){var a=ve();return Xg(a,$t,e,i)},useMemoCache:df,useCacheRefresh:vp},eA={readContext:Qe,use:Mu,useCallback:fp,useContext:Qe,useEffect:op,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:gf,useRef:sp,useState:function(){return gf(Vi)},useDebugValue:_f,useDeferredValue:function(e,i){var a=ve();return $t===null?vf(a,e,i):mp(a,$t.memoizedState,e,i)},useTransition:function(){var e=gf(Vi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:qo(e),i]},useSyncExternalStore:Hg,useId:_p,useHostTransitionStatus:Tf,useFormState:rp,useActionState:rp,useOptimistic:function(e,i){var a=ve();return $t!==null?Xg(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:df,useCacheRefresh:vp},ya=null,Go=0;function zu(e){var i=Go;return Go+=1,ya===null&&(ya=[]),Pg(ya,e,i)}function Qo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Bu(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function wp(e){var i=e._init;return i(e._payload)}function Rp(e){function i(x,O){if(e){var U=x.deletions;U===null?(x.deletions=[O],x.flags|=16):U.push(O)}}function a(x,O){if(!e)return null;for(;O!==null;)i(x,O),O=O.sibling;return null}function l(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=Ii(x,O),x.index=0,x.sibling=null,x}function d(x,O,U){return x.index=U,e?(U=x.alternate,U!==null?(U=U.index,U<O?(x.flags|=67108866,O):U):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,U,Q){return O===null||O.tag!==6?(O=qh(U,x.mode,Q),O.return=x,O):(O=h(O,U),O.return=x,O)}function R(x,O,U,Q){var ot=U.type;return ot===H?G(x,O,U.props.children,Q,U.key):O!==null&&(O.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&wp(ot)===O.type)?(O=h(O,U.props),Qo(O,U),O.return=x,O):(O=Au(U.type,U.key,U.props,null,x.mode,Q),Qo(O,U),O.return=x,O)}function L(x,O,U,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Hh(U,x.mode,Q),O.return=x,O):(O=h(O,U.children||[]),O.return=x,O)}function G(x,O,U,Q,ot){return O===null||O.tag!==7?(O=ps(U,x.mode,Q,ot),O.return=x,O):(O=h(O,U),O.return=x,O)}function Y(x,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=qh(""+O,x.mode,U),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return U=Au(O.type,O.key,O.props,null,x.mode,U),Qo(U,O),U.return=x,U;case z:return O=Hh(O,x.mode,U),O.return=x,O;case b:var Q=O._init;return O=Q(O._payload),Y(x,O,U)}if(Dt(O)||P(O))return O=ps(O,x.mode,U,null),O.return=x,O;if(typeof O.then=="function")return Y(x,zu(O),U);if(O.$$typeof===st)return Y(x,Ru(x,O),U);Bu(x,O)}return null}function B(x,O,U,Q){var ot=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ot!==null?null:E(x,O,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return U.key===ot?R(x,O,U,Q):null;case z:return U.key===ot?L(x,O,U,Q):null;case b:return ot=U._init,U=ot(U._payload),B(x,O,U,Q)}if(Dt(U)||P(U))return ot!==null?null:G(x,O,U,Q,null);if(typeof U.then=="function")return B(x,O,zu(U),Q);if(U.$$typeof===st)return B(x,O,Ru(x,U),Q);Bu(x,U)}return null}function j(x,O,U,Q,ot){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(U)||null,E(O,x,""+Q,ot);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return x=x.get(Q.key===null?U:Q.key)||null,R(O,x,Q,ot);case z:return x=x.get(Q.key===null?U:Q.key)||null,L(O,x,Q,ot);case b:var Nt=Q._init;return Q=Nt(Q._payload),j(x,O,U,Q,ot)}if(Dt(Q)||P(Q))return x=x.get(U)||null,G(O,x,Q,ot,null);if(typeof Q.then=="function")return j(x,O,U,zu(Q),ot);if(Q.$$typeof===st)return j(x,O,U,Ru(O,Q),ot);Bu(O,Q)}return null}function _t(x,O,U,Q){for(var ot=null,Nt=null,ft=O,pt=O=0,xe=null;ft!==null&&pt<U.length;pt++){ft.index>pt?(xe=ft,ft=null):xe=ft.sibling;var Bt=B(x,ft,U[pt],Q);if(Bt===null){ft===null&&(ft=xe);break}e&&ft&&Bt.alternate===null&&i(x,ft),O=d(Bt,O,pt),Nt===null?ot=Bt:Nt.sibling=Bt,Nt=Bt,ft=xe}if(pt===U.length)return a(x,ft),qt&&_s(x,pt),ot;if(ft===null){for(;pt<U.length;pt++)ft=Y(x,U[pt],Q),ft!==null&&(O=d(ft,O,pt),Nt===null?ot=ft:Nt.sibling=ft,Nt=ft);return qt&&_s(x,pt),ot}for(ft=l(ft);pt<U.length;pt++)xe=j(ft,x,pt,U[pt],Q),xe!==null&&(e&&xe.alternate!==null&&ft.delete(xe.key===null?pt:xe.key),O=d(xe,O,pt),Nt===null?ot=xe:Nt.sibling=xe,Nt=xe);return e&&ft.forEach(function(br){return i(x,br)}),qt&&_s(x,pt),ot}function gt(x,O,U,Q){if(U==null)throw Error(s(151));for(var ot=null,Nt=null,ft=O,pt=O=0,xe=null,Bt=U.next();ft!==null&&!Bt.done;pt++,Bt=U.next()){ft.index>pt?(xe=ft,ft=null):xe=ft.sibling;var br=B(x,ft,Bt.value,Q);if(br===null){ft===null&&(ft=xe);break}e&&ft&&br.alternate===null&&i(x,ft),O=d(br,O,pt),Nt===null?ot=br:Nt.sibling=br,Nt=br,ft=xe}if(Bt.done)return a(x,ft),qt&&_s(x,pt),ot;if(ft===null){for(;!Bt.done;pt++,Bt=U.next())Bt=Y(x,Bt.value,Q),Bt!==null&&(O=d(Bt,O,pt),Nt===null?ot=Bt:Nt.sibling=Bt,Nt=Bt);return qt&&_s(x,pt),ot}for(ft=l(ft);!Bt.done;pt++,Bt=U.next())Bt=j(ft,x,pt,Bt.value,Q),Bt!==null&&(e&&Bt.alternate!==null&&ft.delete(Bt.key===null?pt:Bt.key),O=d(Bt,O,pt),Nt===null?ot=Bt:Nt.sibling=Bt,Nt=Bt);return e&&ft.forEach(function(nS){return i(x,nS)}),qt&&_s(x,pt),ot}function Jt(x,O,U,Q){if(typeof U=="object"&&U!==null&&U.type===H&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case C:t:{for(var ot=U.key;O!==null;){if(O.key===ot){if(ot=U.type,ot===H){if(O.tag===7){a(x,O.sibling),Q=h(O,U.props.children),Q.return=x,x=Q;break t}}else if(O.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&wp(ot)===O.type){a(x,O.sibling),Q=h(O,U.props),Qo(Q,U),Q.return=x,x=Q;break t}a(x,O);break}else i(x,O);O=O.sibling}U.type===H?(Q=ps(U.props.children,x.mode,Q,U.key),Q.return=x,x=Q):(Q=Au(U.type,U.key,U.props,null,x.mode,Q),Qo(Q,U),Q.return=x,x=Q)}return v(x);case z:t:{for(ot=U.key;O!==null;){if(O.key===ot)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(x,O.sibling),Q=h(O,U.children||[]),Q.return=x,x=Q;break t}else{a(x,O);break}else i(x,O);O=O.sibling}Q=Hh(U,x.mode,Q),Q.return=x,x=Q}return v(x);case b:return ot=U._init,U=ot(U._payload),Jt(x,O,U,Q)}if(Dt(U))return _t(x,O,U,Q);if(P(U)){if(ot=P(U),typeof ot!="function")throw Error(s(150));return U=ot.call(U),gt(x,O,U,Q)}if(typeof U.then=="function")return Jt(x,O,zu(U),Q);if(U.$$typeof===st)return Jt(x,O,Ru(x,U),Q);Bu(x,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(x,O.sibling),Q=h(O,U),Q.return=x,x=Q):(a(x,O),Q=qh(U,x.mode,Q),Q.return=x,x=Q),v(x)):a(x,O)}return function(x,O,U,Q){try{Go=0;var ot=Jt(x,O,U,Q);return ya=null,ot}catch(ft){if(ft===ko||ft===Cu)throw ft;var Nt=hn(29,ft,null,x.mode);return Nt.lanes=Q,Nt.return=x,Nt}finally{}}}var _a=Rp(!0),Ip=Rp(!1),Cn=Z(null),ni=null;function ur(e){var i=e.alternate;W(Ie,Ie.current&1),W(Cn,e),ni===null&&(i===null||da.current!==null||i.memoizedState!==null)&&(ni=e)}function Cp(e){if(e.tag===22){if(W(Ie,Ie.current),W(Cn,e),ni===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ni=e)}}else cr()}function cr(){W(Ie,Ie.current),W(Cn,Cn.current)}function Mi(e){nt(Cn),ni===e&&(ni=null),nt(Ie)}var Ie=Z(0);function ju(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||fd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var bf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=gn(),h=ar(l);h.payload=i,a!=null&&(h.callback=a),i=or(e,h,l),i!==null&&(pn(i,e,l),Lo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=gn(),h=ar(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=or(e,h,l),i!==null&&(pn(i,e,l),Lo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=gn(),l=ar(a);l.tag=2,i!=null&&(l.callback=i),i=or(e,l,a),i!==null&&(pn(i,e,a),Lo(i,e,a))}};function Dp(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Co(a,l)||!Co(h,d):!0}function Op(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&bf.enqueueReplaceState(i,i.state,null)}function ws(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Np(e){qu(e)}function Vp(e){console.error(e)}function Mp(e){qu(e)}function Hu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function xp(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,i,a){return a=ar(a),a.tag=3,a.payload={element:null},a.callback=function(){Hu(e,i)},a}function Pp(e){return e=ar(e),e.tag=3,e}function kp(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){xp(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){xp(i,a,l),typeof h!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function nA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Mo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ni===null?Xf():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Zf(e,l,h)),!1;case 22:return a.flags|=65536,l===Wh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Zf(e,l,h)),!1}throw Error(s(435,a.tag))}return Zf(e,l,h),Xf(),!1}if(qt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Qh&&(e=Error(s(422),{cause:l}),Vo(bn(e,a)))):(l!==Qh&&(i=Error(s(423),{cause:l}),Vo(bn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=bn(l,a),h=wf(e.stateNode,l,h),nf(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,a),Wo===null?Wo=[d]:Wo.push(d),ce!==4&&(ce=2),i===null)return!0;l=bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=wf(a.stateNode,l,e),nf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(pr===null||!pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Pp(h),kp(h,e,a,l),nf(a,h),!1}a=a.return}while(a!==null);return!1}var Up=Error(s(461)),Ve=!1;function Le(e,i,a,l){i.child=e===null?Ip(i,null,a,l):_a(i,e.child,a,l)}function Lp(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return As(i),l=lf(e,i,a,v,d,h),E=uf(),e!==null&&!Ve?(cf(e,i,h),xi(e,i,h)):(qt&&E&&Fh(i),i.flags|=1,Le(e,i,l,h),i.child)}function zp(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!jh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Bp(e,i,d,l,h)):(e=Au(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Mf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Co,a(v,l)&&e.ref===i.ref)return xi(e,i,h)}return i.flags|=1,e=Ii(d,l),e.ref=i.ref,e.return=i,i.child=e}function Bp(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Co(d,l)&&e.ref===i.ref)if(Ve=!1,i.pendingProps=l=d,Mf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return i.lanes=e.lanes,xi(e,i,h)}return Rf(e,i,a,l,h)}function jp(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return qp(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(i,d!==null?d.cachePool:null),d!==null?Bg(i,d):sf(),Cp(i);else return i.lanes=i.childLanes=536870912,qp(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Iu(i,d.cachePool),Bg(i,d),cr(),i.memoizedState=null):(e!==null&&Iu(i,null),sf(),cr());return Le(e,i,h,a),i.child}function qp(e,i,a,l){var h=Jh();return h=h===null?null:{parent:Re._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Iu(i,null),sf(),Cp(i),e!==null&&Mo(e,i,l,!0),null}function Fu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Rf(e,i,a,l,h){return As(i),a=lf(e,i,a,l,void 0,h),l=uf(),e!==null&&!Ve?(cf(e,i,h),xi(e,i,h)):(qt&&l&&Fh(i),i.flags|=1,Le(e,i,a,h),i.child)}function Hp(e,i,a,l,h,d){return As(i),i.updateQueue=null,a=qg(i,l,a,h),jg(e),l=uf(),e!==null&&!Ve?(cf(e,i,d),xi(e,i,d)):(qt&&l&&Fh(i),i.flags|=1,Le(e,i,a,d),i.child)}function Fp(e,i,a,l,h){if(As(i),i.stateNode===null){var d=la,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},tf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):la,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Sf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&bf.enqueueReplaceState(d,d.state,null),Bo(i,l,d,h),zo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,R=ws(a,E);d.props=R;var L=d.context,G=a.contextType;v=la,typeof G=="object"&&G!==null&&(v=Qe(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==v)&&Op(i,d,l,v),sr=!1;var B=i.memoizedState;d.state=B,Bo(i,l,d,h),zo(),L=i.memoizedState,E||B!==L||sr?(typeof Y=="function"&&(Sf(i,a,Y,l),L=i.memoizedState),(R=sr||Dp(i,a,R,l,B,L,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ef(e,i),v=i.memoizedProps,G=ws(a,v),d.props=G,Y=i.pendingProps,B=d.context,L=a.contextType,R=la,typeof L=="object"&&L!==null&&(R=Qe(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Y||B!==R)&&Op(i,d,l,R),sr=!1,B=i.memoizedState,d.state=B,Bo(i,l,d,h),zo();var j=i.memoizedState;v!==Y||B!==j||sr||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof E=="function"&&(Sf(i,a,E,l),j=i.memoizedState),(G=sr||Dp(i,a,G,l,B,j,R)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=R,l=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Fu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=_a(i,e.child,null,h),i.child=_a(i,null,a,h)):Le(e,i,a,h),i.memoizedState=d.state,e=i.child):e=xi(e,i,h),e}function Gp(e,i,a,l){return No(),i.flags|=256,Le(e,i,a,l),i.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(e){return{baseLanes:e,cachePool:Vg()}}function Df(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Dn),e}function Qp(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?ur(i):cr(),qt){var E=ue,R;if(R=E){t:{for(R=E,E=ei;R.nodeType!==8;){if(!E){E=null;break t}if(R=Ln(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:ys!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},R=hn(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,en=i,ue=null,R=!0):R=!1}R||Es(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return fd(E)?i.lanes=32:i.lanes=536870912,null;Mi(i)}return E=l.children,l=l.fallback,h?(cr(),h=i.mode,E=Gu({mode:"hidden",children:E},h),l=ps(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Cf(a),h.childLanes=Df(e,v,a),i.memoizedState=If,l):(ur(i),Of(i,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(d)i.flags&256?(ur(i),i.flags&=-257,i=Nf(e,i,a)):i.memoizedState!==null?(cr(),i.child=e.child,i.flags|=128,i=null):(cr(),h=l.fallback,E=i.mode,l=Gu({mode:"visible",children:l.children},E),h=ps(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,_a(i,e.child,null,a),l=i.child,l.memoizedState=Cf(a),l.childLanes=Df(e,v,a),i.memoizedState=If,i=h);else if(ur(i),fd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,Vo({value:l,source:null,stack:null}),i=Nf(e,i,a)}else if(Ve||Mo(e,i,a,!1),v=(a&e.childLanes)!==0,Ve||v){if(v=ee,v!==null&&(l=a&-a,l=(l&42)!==0?1:Zi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,oa(e,l),pn(v,e,l),Up;E.data==="$?"||Xf(),i=Nf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ue=Ln(E.nextSibling),en=i,qt=!0,vs=null,ei=!1,e!==null&&(Rn[In++]=Ci,Rn[In++]=Di,Rn[In++]=ys,Ci=e.id,Di=e.overflow,ys=i),i=Of(i,l.children),i.flags|=4096);return i}return h?(cr(),h=l.fallback,E=i.mode,R=e.child,L=R.sibling,l=Ii(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,L!==null?h=Ii(L,h):(h=ps(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=Cf(a):(R=E.cachePool,R!==null?(L=Re._currentValue,R=R.parent!==L?{parent:L,pool:L}:R):R=Vg(),E={baseLanes:E.baseLanes|a,cachePool:R}),h.memoizedState=E,h.childLanes=Df(e,v,a),i.memoizedState=If,l):(ur(i),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Of(e,i){return i=Gu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Gu(e,i){return e=hn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Nf(e,i,a){return _a(i,e.child,null,a),e=Of(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Kp(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Yh(e.return,i,a)}function Vf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Yp(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Le(e,i,l.children,a),l=Ie.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kp(e,a,i);else if(e.tag===19)Kp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(W(Ie,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&ju(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Vf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Vf(i,!0,a,null,d);break;case"together":Vf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function xi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),gr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Mo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ii(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Mf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function iA(e,i,a){switch(i.tag){case 3:te(i,i.stateNode.containerInfo),rr(i,Re,e.memoizedState.cache),No();break;case 27:case 5:$i(i);break;case 4:te(i,i.stateNode.containerInfo);break;case 10:rr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Qp(e,i,a):(ur(i),e=xi(e,i,a),e!==null?e.sibling:null);ur(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Mo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Yp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Ie,Ie.current),l)break;return null;case 22:case 23:return i.lanes=0,jp(e,i,a);case 24:rr(i,Re,e.memoizedState.cache)}return xi(e,i,a)}function Xp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ve=!0;else{if(!Mf(e,a)&&(i.flags&128)===0)return Ve=!1,iA(e,i,a);Ve=(e.flags&131072)!==0}else Ve=!1,qt&&(i.flags&1048576)!==0&&wg(i,bu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")jh(l)?(e=ws(l,e),i.tag=1,i=Fp(null,i,l,e,a)):(i.tag=0,i=Rf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===bt){i.tag=11,i=Lp(null,i,l,e,a);break t}else if(h===V){i.tag=14,i=zp(null,i,l,e,a);break t}}throw i=At(l)||l,Error(s(306,i,""))}}return i;case 0:return Rf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ws(l,i.pendingProps),Fp(e,i,l,h,a);case 3:t:{if(te(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,ef(e,i),Bo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,rr(i,Re,l),l!==d.cache&&Xh(i,[Re],a,!0),zo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Gp(e,i,l,a);break t}else if(l!==h){h=bn(Error(s(424)),i),Vo(h),i=Gp(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Ln(e.firstChild),en=i,qt=!0,vs=null,ei=!0,a=Ip(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(No(),l===h){i=xi(e,i,a);break t}Le(e,i,l,a)}i=i.child}return i;case 26:return Fu(e,i),e===null?(a=Wy(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,l=sc(Et.current).createElement(a),l[Se]=i,l[pe]=e,Be(l,a,e),fe(l),i.stateNode=l):i.memoizedState=Wy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return $i(i),e===null&&qt&&(l=i.stateNode=$y(i.type,i.pendingProps,Et.current),en=i,ei=!0,h=ue,vr(i.type)?(dd=h,ue=Ln(l.firstChild)):ue=h),Le(e,i,i.pendingProps.children,a),Fu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=l=ue)&&(l=NA(l,i.type,i.pendingProps,ei),l!==null?(i.stateNode=l,en=i,ue=Ln(l.firstChild),ei=!1,h=!0):h=!1),h||Es(i)),$i(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,ud(h,d)?l=null:v!==null&&ud(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=lf(e,i,XT,null,null,a),ll._currentValue=h),Fu(e,i),Le(e,i,l,a),i.child;case 6:return e===null&&qt&&((e=a=ue)&&(a=VA(a,i.pendingProps,ei),a!==null?(i.stateNode=a,en=i,ue=null,e=!0):e=!1),e||Es(i)),null;case 13:return Qp(e,i,a);case 4:return te(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=_a(i,null,l,a):Le(e,i,l,a),i.child;case 11:return Lp(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,rr(i,i.type,l.value),Le(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,As(i),h=Qe(h),l=l(h),i.flags|=1,Le(e,i,l,a),i.child;case 14:return zp(e,i,i.type,i.pendingProps,a);case 15:return Bp(e,i,i.type,i.pendingProps,a);case 19:return Yp(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Gu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ii(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return jp(e,i,a);case 24:return As(i),l=Qe(Re),e===null?(h=Jh(),h===null&&(h=ee,d=$h(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},tf(i),rr(i,Re,h)):((e.lanes&a)!==0&&(ef(e,i),Bo(i,null,null,a),zo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),rr(i,Re,l)):(l=d.cache,rr(i,Re,l),l!==h.cache&&Xh(i,[Re],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Pi(e){e.flags|=4}function $p(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r_(i)){if(i=Cn.current,i!==null&&((Lt&4194048)===Lt?ni!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||i!==ni))throw Uo=Wh,Mg;e.flags|=8192}}function Qu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?uo():536870912,e.lanes|=i,Aa|=i)}function Ko(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function rA(e,i,a){var l=i.pendingProps;switch(Gh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(i),null;case 1:return ae(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ni(Re),Hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oo(i)?Pi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cg())),ae(i),null;case 26:return a=i.memoizedState,e===null?(Pi(i),a!==null?(ae(i),$p(i,a)):(ae(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Pi(i),ae(i),$p(i,a)):(ae(i),i.flags&=-16777217):(e.memoizedProps!==l&&Pi(i),ae(i),i.flags&=-16777217),null;case 27:mi(i),a=Et.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}e=mt.current,Oo(i)?Rg(i):(e=$y(h,l,a),i.stateNode=e,Pi(i))}return ae(i),null;case 5:if(mi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}if(e=mt.current,Oo(i))Rg(i);else{switch(h=sc(Et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Se]=i,e[pe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Be(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(i)}}return ae(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Pi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Et.current,Oo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Hy(e.nodeValue,a)),e||Es(i)}else e=sc(e).createTextNode(l),e[Se]=i,i.stateNode=e}return ae(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Oo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=i}else No(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),h=!1}else h=Cg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Qu(i,i.updateQueue),ae(i),null;case 4:return Hn(),e===null&&rd(i.stateNode.containerInfo),ae(i),null;case 10:return Ni(i.type),ae(i),null;case 19:if(nt(Ie),h=i.memoizedState,h===null)return ae(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Ko(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=ju(e),d!==null){for(i.flags|=128,Ko(h,!1),e=d.updateQueue,i.updateQueue=e,Qu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)bg(a,e),a=a.sibling;return W(Ie,Ie.current&1|2),i.child}e=e.sibling}h.tail!==null&&_n()>Xu&&(i.flags|=128,l=!0,Ko(h,!1),i.lanes=4194304)}else{if(!l)if(e=ju(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Qu(i,e),Ko(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return ae(i),null}else 2*_n()-h.renderingStartTime>Xu&&a!==536870912&&(i.flags|=128,l=!0,Ko(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=_n(),i.sibling=null,e=Ie.current,W(Ie,l?e&1|2:e&1),i):(ae(i),null);case 22:case 23:return Mi(i),af(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ae(i),i.subtreeFlags&6&&(i.flags|=8192)):ae(i),a=i.updateQueue,a!==null&&Qu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&nt(Ss),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(Re),ae(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function sA(e,i){switch(Gh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(Re),Hn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return mi(i),null;case 13:if(Mi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));No()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(Ie),null;case 4:return Hn(),null;case 10:return Ni(i.type),null;case 22:case 23:return Mi(i),af(),e!==null&&nt(Ss),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(Re),null;case 25:return null;default:return null}}function Zp(e,i){switch(Gh(i),i.tag){case 3:Ni(Re),Hn();break;case 26:case 27:case 5:mi(i);break;case 4:Hn();break;case 13:Mi(i);break;case 19:nt(Ie);break;case 10:Ni(i.type);break;case 22:case 23:Mi(i),af(),e!==null&&nt(Ss);break;case 24:Ni(Re)}}function Yo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Wt(i,i.return,E)}}function hr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var R=a,L=E;try{L()}catch(G){Wt(h,R,G)}}}l=l.next}while(l!==d)}}catch(G){Wt(i,i.return,G)}}function Jp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{zg(i,a)}catch(l){Wt(e,e.return,l)}}}function Wp(e,i,a){a.props=ws(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,i,l)}}function Xo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Wt(e,i,h)}}function ii(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,i,h)}else a.current=null}function ty(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function xf(e,i,a){try{var l=e.stateNode;RA(l,e.type,a,i),l[pe]=i}catch(h){Wt(e,e.return,h)}}function ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vr(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=rc));else if(l!==4&&(l===27&&vr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(kf(e,i,a),e=e.sibling;e!==null;)kf(e,i,a),e=e.sibling}function Ku(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&vr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ku(e,i,a),e=e.sibling;e!==null;)Ku(e,i,a),e=e.sibling}function ny(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Be(i,l,a),i[Se]=e,i[pe]=a}catch(d){Wt(e,e.return,d)}}var ki=!1,me=!1,Uf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Me=null;function aA(e,i){if(e=e.containerInfo,od=hc,e=mg(e),xh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,R=-1,L=0,G=0,Y=e,B=null;e:for(;;){for(var j;Y!==a||h!==0&&Y.nodeType!==3||(E=v+h),Y!==d||l!==0&&Y.nodeType!==3||(R=v+l),Y.nodeType===3&&(v+=Y.nodeValue.length),(j=Y.firstChild)!==null;)B=Y,Y=j;for(;;){if(Y===e)break e;if(B===a&&++L===h&&(E=v),B===d&&++G===l&&(R=v),(j=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=j}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(ld={focusedElem:e,selectionRange:a},hc=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _t=ws(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(_t,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Wt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)hd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}}function ry(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fr(e,a),l&4&&Yo(5,a);break;case 1:if(fr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Wt(a,a.return,v)}else{var h=ws(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(a,a.return,v)}}l&64&&Jp(a),l&512&&Xo(a,a.return);break;case 3:if(fr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zg(e,i)}catch(v){Wt(a,a.return,v)}}break;case 27:i===null&&l&4&&ny(a);case 26:case 5:fr(e,a),i===null&&l&4&&ty(a),l&512&&Xo(a,a.return);break;case 12:fr(e,a);break;case 13:fr(e,a),l&4&&oy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=gA.bind(null,a),MA(e,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||me,h=ki;var d=me;ki=l,(me=i)&&!d?dr(e,a,(a.subtreeFlags&8772)!==0):fr(e,a),ki=h,me=d}break;case 30:break;default:fr(e,a)}}function sy(e){var i=e.alternate;i!==null&&(e.alternate=null,sy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&tr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,rn=!1;function Ui(e,i,a){for(a=a.child;a!==null;)ay(e,i,a),a=a.sibling}function ay(e,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:me||ii(a,i),Ui(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||ii(a,i);var l=se,h=rn;vr(a.type)&&(se=a.stateNode,rn=!1),Ui(e,i,a),rl(a.stateNode),se=l,rn=h;break;case 5:me||ii(a,i);case 6:if(l=se,h=rn,se=null,Ui(e,i,a),se=l,rn=h,se!==null)if(rn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(d){Wt(a,i,d)}else try{se.removeChild(a.stateNode)}catch(d){Wt(a,i,d)}break;case 18:se!==null&&(rn?(e=se,Yy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),fl(e)):Yy(se,a.stateNode));break;case 4:l=se,h=rn,se=a.stateNode.containerInfo,rn=!0,Ui(e,i,a),se=l,rn=h;break;case 0:case 11:case 14:case 15:me||hr(2,a,i),me||hr(4,a,i),Ui(e,i,a);break;case 1:me||(ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Wp(a,i,l)),Ui(e,i,a);break;case 21:Ui(e,i,a);break;case 22:me=(l=me)||a.memoizedState!==null,Ui(e,i,a),me=l;break;default:Ui(e,i,a)}}function oy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fl(e)}catch(a){Wt(i,i.return,a)}}function oA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new iy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new iy),i;default:throw Error(s(435,e.tag))}}function Lf(e,i){var a=oA(e);i.forEach(function(l){var h=pA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(vr(E.type)){se=E.stateNode,rn=!1;break t}break;case 5:se=E.stateNode,rn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(se===null)throw Error(s(160));ay(d,v,h),se=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ly(i,e),i=i.sibling}var Un=null;function ly(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(i,e),dn(e),l&4&&(hr(3,e,e.return),Yo(3,e),hr(5,e,e.return));break;case 1:fn(i,e),dn(e),l&512&&(me||a===null||ii(a,a.return)),l&64&&ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(fn(i,e),dn(e),l&512&&(me||a===null||ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ts]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,a),d[Se]=e,fe(d),l=d;break t;case"link":var v=n_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;case"meta":if(v=n_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Se]=e,fe(d),l=d}e.stateNode=l}else i_(h,e.type,e.stateNode);else e.stateNode=e_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?i_(h,e.type,e.stateNode):e_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&xf(e,e.memoizedProps,a.memoizedProps)}break;case 27:fn(i,e),dn(e),l&512&&(me||a===null||ii(a,a.return)),a!==null&&l&4&&xf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,e),dn(e),l&512&&(me||a===null||ii(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(j){Wt(e,e.return,j)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,xf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Uf=!0);break;case 6:if(fn(i,e),dn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(j){Wt(e,e.return,j)}}break;case 3:if(lc=null,h=Un,Un=ac(i.containerInfo),fn(i,e),Un=h,dn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fl(i.containerInfo)}catch(j){Wt(e,e.return,j)}Uf&&(Uf=!1,uy(e));break;case 4:l=Un,Un=ac(e.stateNode.containerInfo),fn(i,e),dn(e),Un=l;break;case 12:fn(i,e),dn(e);break;case 13:fn(i,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ff=_n()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lf(e,l)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,L=ki,G=me;if(ki=L||h,me=G||R,fn(i,e),me=G,ki=L,dn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||ki||me||Rs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){Wt(R,R.return,j)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(j){Wt(R,R.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lf(e,a))));break;case 19:fn(i,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lf(e,l)));break;case 30:break;case 21:break;default:fn(i,e),dn(e)}}function dn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(ey(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Pf(e);Ku(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(En(v,""),a.flags&=-33);var E=Pf(e);Ku(e,E,v);break;case 3:case 4:var R=a.stateNode.containerInfo,L=Pf(e);kf(e,L,R);break;default:throw Error(s(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;uy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function fr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ry(e,i.alternate,i),i=i.sibling}function Rs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:hr(4,i,i.return),Rs(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Wp(i,i.return,a),Rs(i);break;case 27:rl(i.stateNode);case 26:case 5:ii(i,i.return),Rs(i);break;case 22:i.memoizedState===null&&Rs(i);break;case 30:Rs(i);break;default:Rs(i)}e=e.sibling}}function dr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:dr(h,d,a),Yo(4,d);break;case 1:if(dr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Wt(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Lg(R[h],E)}catch(L){Wt(l,l.return,L)}}a&&v&64&&Jp(d),Xo(d,d.return);break;case 27:ny(d);case 26:case 5:dr(h,d,a),a&&l===null&&v&4&&ty(d),Xo(d,d.return);break;case 12:dr(h,d,a);break;case 13:dr(h,d,a),a&&v&4&&oy(h,d);break;case 22:d.memoizedState===null&&dr(h,d,a),Xo(d,d.return);break;case 30:break;default:dr(h,d,a)}i=i.sibling}}function zf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xo(a))}function Bf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xo(e))}function ri(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cy(e,i,a,l),i=i.sibling}function cy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i,a,l),h&2048&&Yo(9,i);break;case 1:ri(e,i,a,l);break;case 3:ri(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){ri(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Wt(i,i.return,R)}}else ri(e,i,a,l);break;case 13:ri(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ri(e,i,a,l):$o(e,i):d._visibility&2?ri(e,i,a,l):(d._visibility|=2,va(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&zf(v,i);break;case 24:ri(e,i,a,l),h&2048&&Bf(i.alternate,i);break;default:ri(e,i,a,l)}}function va(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,R=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:va(d,v,E,R,h),Yo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?va(d,v,E,R,h):$o(d,v):(G._visibility|=2,va(d,v,E,R,h)),h&&L&2048&&zf(v.alternate,v);break;case 24:va(d,v,E,R,h),h&&L&2048&&Bf(v.alternate,v);break;default:va(d,v,E,R,h)}i=i.sibling}}function $o(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:$o(a,l),h&2048&&zf(l.alternate,l);break;case 24:$o(a,l),h&2048&&Bf(l.alternate,l);break;default:$o(a,l)}i=i.sibling}}var Zo=8192;function Ea(e){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)hy(e),e=e.sibling}function hy(e){switch(e.tag){case 26:Ea(e),e.flags&Zo&&e.memoizedState!==null&&QA(Un,e.memoizedState,e.memoizedProps);break;case 5:Ea(e);break;case 3:case 4:var i=Un;Un=ac(e.stateNode.containerInfo),Ea(e),Un=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Zo,Zo=16777216,Ea(e),Zo=i):Ea(e));break;default:Ea(e)}}function fy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Jo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,my(l,e)}fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dy(e),e=e.sibling}function dy(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&hr(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Yu(e)):Jo(e);break;default:Jo(e)}}function Yu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,my(l,e)}fy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:hr(8,i,i.return),Yu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Yu(i));break;default:Yu(i)}e=e.sibling}}function my(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:hr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=e;Me!==null;){l=Me;var h=l.sibling,d=l.return;if(sy(l),l===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}var lA={getCacheForType:function(e){var i=Qe(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},uA=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ee=null,Vt=null,Lt=0,Kt=0,mn=null,mr=!1,Ta=!1,jf=!1,Li=0,ce=0,gr=0,Is=0,qf=0,Dn=0,Aa=0,Wo=null,sn=null,Hf=!1,Ff=0,Xu=1/0,$u=null,pr=null,ze=0,yr=null,Sa=null,ba=0,Gf=0,Qf=null,gy=null,tl=0,Kf=null;function gn(){if((Qt&2)!==0&&Lt!==0)return Lt&-Lt;if(F.T!==null){var e=ha;return e!==0?e:td()}return Ji()}function py(){Dn===0&&(Dn=(Lt&536870912)===0||qt?lo():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Dn}function pn(e,i,a){(e===ee&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(wa(e,0),_r(e,Lt,Dn,!1)),pi(e,a),((Qt&2)===0||e!==ee)&&(e===ee&&((Qt&2)===0&&(Is|=a),ce===4&&_r(e,Lt,Dn,!1)),si(e))}function yy(e,i,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Wr(e,i),h=l?fA(e,i):$f(e,i,!0),d=l;do{if(h===0){Ta&&!l&&_r(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!cA(a)){h=$f(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Wo;var R=E.current.memoizedState.isDehydrated;if(R&&(wa(E,v).flags|=256),v=$f(E,v,!1),v!==2){if(jf&&!R){E.errorRecoveryDisabledLanes|=d,Is|=d,h=4;break t}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){wa(e,0),_r(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:_r(l,i,Dn,!mr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ff+300-_n(),10<h)){if(_r(l,i,Dn,!mr),qs(l,0,!0)!==0)break t;l.timeoutHandle=Qy(_y.bind(null,l,a,sn,$u,Hf,i,Dn,Is,Aa,mr,d,2,-0,0),h);break t}_y(l,a,sn,$u,Hf,i,Dn,Is,Aa,mr,d,0,-0,0)}}break}while(!0);si(e)}function _y(e,i,a,l,h,d,v,E,R,L,G,Y,B,j){if(e.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(ol={stylesheets:null,count:0,unsuspend:GA},hy(i),Y=KA(),Y!==null)){e.cancelPendingCommit=Y(wy.bind(null,e,i,d,a,l,h,v,E,R,G,1,B,j)),_r(e,d,v,!L);return}wy(e,i,d,a,l,h,v,E,R)}function cA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _r(e,i,a,l){i&=~qf,i&=~Is,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ge(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Fn(e,a,i)}function Zu(){return(Qt&6)===0?(el(0),!1):!0}function Yf(){if(Vt!==null){if(Kt===0)var e=Vt.return;else e=Vt,Oi=Ts=null,hf(e),ya=null,Go=0,e=Vt;for(;e!==null;)Zp(e.alternate,e),e=e.return;Vt=null}}function wa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,CA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Yf(),ee=e,Vt=a=Ii(e.current,null),Lt=i,Kt=0,mn=null,mr=!1,Ta=Wr(e,i),jf=!1,Aa=Dn=qf=Is=gr=ce=0,sn=Wo=null,Hf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ge(l),d=1<<h;i|=e[h],l&=~d}return Li=i,vu(),a}function vy(e,i){It=null,F.H=Lu,i===ko||i===Cu?(i=kg(),Kt=3):i===Mg?(i=kg(),Kt=4):Kt=i===Up?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Vt===null&&(ce=1,Hu(e,bn(i,e.current)))}function Ey(){var e=F.H;return F.H=Lu,e===null?Lu:e}function Ty(){var e=F.A;return F.A=lA,e}function Xf(){ce=4,mr||(Lt&4194048)!==Lt&&Cn.current!==null||(Ta=!0),(gr&134217727)===0&&(Is&134217727)===0||ee===null||_r(ee,Lt,Dn,!1)}function $f(e,i,a){var l=Qt;Qt|=2;var h=Ey(),d=Ty();(ee!==e||Lt!==i)&&($u=null,wa(e,i)),i=!1;var v=ce;t:do try{if(Kt!==0&&Vt!==null){var E=Vt,R=mn;switch(Kt){case 8:Yf(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var L=Kt;if(Kt=0,mn=null,Ra(e,E,R,L),a&&Ta){v=0;break t}break;default:L=Kt,Kt=0,mn=null,Ra(e,E,R,L)}}hA(),v=ce;break}catch(G){vy(e,G)}while(!0);return i&&e.shellSuspendCounter++,Oi=Ts=null,Qt=l,F.H=h,F.A=d,Vt===null&&(ee=null,Lt=0,vu()),v}function hA(){for(;Vt!==null;)Ay(Vt)}function fA(e,i){var a=Qt;Qt|=2;var l=Ey(),h=Ty();ee!==e||Lt!==i?($u=null,Xu=_n()+500,wa(e,i)):Ta=Wr(e,i);t:do try{if(Kt!==0&&Vt!==null){i=Vt;var d=mn;e:switch(Kt){case 1:Kt=0,mn=null,Ra(e,i,d,1);break;case 2:case 9:if(xg(d)){Kt=0,mn=null,Sy(i);break}i=function(){Kt!==2&&Kt!==9||ee!==e||(Kt=7),si(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:xg(d)?(Kt=0,mn=null,Sy(i)):(Kt=0,mn=null,Ra(e,i,d,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||r_(v)){Kt=0,mn=null;var R=E.sibling;if(R!==null)Vt=R;else{var L=E.return;L!==null?(Vt=L,Ju(L)):Vt=null}break e}}Kt=0,mn=null,Ra(e,i,d,5);break;case 6:Kt=0,mn=null,Ra(e,i,d,6);break;case 8:Yf(),ce=6;break t;default:throw Error(s(462))}}dA();break}catch(G){vy(e,G)}while(!0);return Oi=Ts=null,F.H=l,F.A=h,Qt=a,Vt!==null?0:(ee=null,Lt=0,vu(),ce)}function dA(){for(;Vt!==null&&!ro();)Ay(Vt)}function Ay(e){var i=Xp(e.alternate,e,Li);e.memoizedProps=e.pendingProps,i===null?Ju(e):Vt=i}function Sy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Hp(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=Hp(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:hf(i);default:Zp(a,i),i=Vt=bg(i,Li),i=Xp(a,i,Li)}e.memoizedProps=e.pendingProps,i===null?Ju(e):Vt=i}function Ra(e,i,a,l){Oi=Ts=null,hf(i),ya=null,Go=0;var h=i.return;try{if(nA(e,h,i,a,Lt)){ce=1,Hu(e,bn(a,e.current)),Vt=null;return}}catch(d){if(h!==null)throw Vt=h,d;ce=1,Hu(e,bn(a,e.current)),Vt=null;return}i.flags&32768?(qt||l===1?e=!0:Ta||(Lt&536870912)!==0?e=!1:(mr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),by(i,e)):Ju(i)}function Ju(e){var i=e;do{if((i.flags&32768)!==0){by(i,mr);return}e=i.return;var a=rA(i.alternate,i,Li);if(a!==null){Vt=a;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=e}while(i!==null);ce===0&&(ce=5)}function by(e,i){do{var a=sA(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);ce=6,Vt=null}function wy(e,i,a,l,h,d,v,E,R){e.cancelPendingCommit=null;do Wu();while(ze!==0);if((Qt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=zh,co(e,a,d,v,E,R),e===ee&&(Vt=ee=null,Lt=0),Sa=i,yr=e,ba=a,Gf=d,Qf=h,gy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yA(Xr,function(){return Oy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=et.p,et.p=2,v=Qt,Qt|=4;try{aA(e,i,a)}finally{Qt=v,et.p=h,F.T=l}}ze=1,Ry(),Iy(),Cy()}}function Ry(){if(ze===1){ze=0;var e=yr,i=Sa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=et.p;et.p=2;var h=Qt;Qt|=4;try{ly(i,e);var d=ld,v=mg(e.containerInfo),E=d.focusedElem,R=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&dg(E.ownerDocument.documentElement,E)){if(R!==null&&xh(E)){var L=R.start,G=R.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var j=B.getSelection(),_t=E.textContent.length,gt=Math.min(R.start,_t),Jt=R.end===void 0?gt:Math.min(R.end,_t);!j.extend&&gt>Jt&&(v=Jt,Jt=gt,gt=v);var x=fg(E,gt),O=fg(E,Jt);if(x&&O&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var U=Y.createRange();U.setStart(x.node,x.offset),j.removeAllRanges(),gt>Jt?(j.addRange(U),j.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),j.addRange(U))}}}}for(Y=[],j=E;j=j.parentNode;)j.nodeType===1&&Y.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}hc=!!od,ld=od=null}finally{Qt=h,et.p=l,F.T=a}}e.current=i,ze=2}}function Iy(){if(ze===2){ze=0;var e=yr,i=Sa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=et.p;et.p=2;var h=Qt;Qt|=4;try{ry(e,i.alternate,i)}finally{Qt=h,et.p=l,F.T=a}}ze=3}}function Cy(){if(ze===4||ze===3){ze=0,Yl();var e=yr,i=Sa,a=ba,l=gy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ze=5:(ze=0,Sa=yr=null,Dy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(pr=null),Hs(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=et.p,et.p=2,F.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{F.T=i,et.p=h}}(ba&3)!==0&&Wu(),si(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Kf?tl++:(tl=0,Kf=e):tl=0,el(0)}}function Dy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,xo(i)))}function Wu(e){return Ry(),Iy(),Cy(),Oy()}function Oy(){if(ze!==5)return!1;var e=yr,i=Gf;Gf=0;var a=Hs(ba),l=F.T,h=et.p;try{et.p=32>a?32:a,F.T=null,a=Qf,Qf=null;var d=yr,v=ba;if(ze=0,Sa=yr=null,ba=0,(Qt&6)!==0)throw Error(s(331));var E=Qt;if(Qt|=4,dy(d.current),cy(d,d.current,v,a),Qt=E,el(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(le,d)}catch{}return!0}finally{et.p=h,F.T=l,Dy(e,i)}}function Ny(e,i,a){i=bn(a,i),i=wf(e.stateNode,i,2),e=or(e,i,2),e!==null&&(pi(e,2),si(e))}function Wt(e,i,a){if(e.tag===3)Ny(e,e,a);else for(;i!==null;){if(i.tag===3){Ny(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pr===null||!pr.has(l))){e=bn(a,e),a=Pp(2),l=or(i,a,2),l!==null&&(kp(a,l,i,e),pi(l,2),si(l));break}}i=i.return}}function Zf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new uA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(jf=!0,h.add(a),e=mA.bind(null,e,i,a),i.then(e,e))}function mA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Lt&a)===a&&(ce===4||ce===3&&(Lt&62914560)===Lt&&300>_n()-Ff?(Qt&2)===0&&wa(e,0):qf|=a,Aa===Lt&&(Aa=0)),si(e)}function Vy(e,i){i===0&&(i=uo()),e=oa(e,i),e!==null&&(pi(e,i),si(e))}function gA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Vy(e,a)}function pA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Vy(e,a)}function yA(e,i){return Kr(e,i)}var tc=null,Ia=null,Jf=!1,ec=!1,Wf=!1,Cs=0;function si(e){e!==Ia&&e.next===null&&(Ia===null?tc=Ia=e:Ia=Ia.next=e),ec=!0,Jf||(Jf=!0,vA())}function el(e,i){if(!Wf&&ec){Wf=!0;do for(var a=!1,l=tc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ky(l,d))}else d=Lt,d=qs(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wr(l,d)||(a=!0,ky(l,d));l=l.next}while(a);Wf=!1}}function _A(){My()}function My(){ec=Jf=!1;var e=0;Cs!==0&&(IA()&&(e=Cs),Cs=0);for(var i=_n(),a=null,l=tc;l!==null;){var h=l.next,d=xy(l,i);d===0?(l.next=null,a===null?tc=h:a.next=h,h===null&&(Ia=a)):(a=l,(e!==0||(d&3)!==0)&&(ec=!0)),l=h}el(e)}function xy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),E=1<<v,R=h[v];R===-1?((E&a)===0||(E&l)!==0)&&(h[v]=oo(E,i)):R<=i&&(e.expiredLanes|=E),d&=~E}if(i=ee,a=Lt,a=qs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Yr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Yr(l),Hs(a)){case 2:case 8:a=Bs;break;case 32:a=Xr;break;case 268435456:a=js;break;default:a=Xr}return l=Py.bind(null,e),a=Kr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Yr(l),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,i){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wu()&&e.callbackNode!==a)return null;var l=Lt;return l=qs(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yy(e,l,i),xy(e,_n()),e.callbackNode!=null&&e.callbackNode===a?Py.bind(null,e):null)}function ky(e,i){if(Wu())return null;yy(e,i,!0)}function vA(){DA(function(){(Qt&6)!==0?Kr(so,_A):My()})}function td(){return Cs===0&&(Cs=lo()),Cs}function Uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function Ly(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function EA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Uy((h[pe]||null).action),v=l.submitter;v&&(i=(i=v[pe]||null)?Uy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new $s("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cs!==0){var R=v?Ly(h,v):new FormData(h);Ef(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(E.preventDefault(),R=v?Ly(h,v):new FormData(h),Ef(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var ed=0;ed<Lh.length;ed++){var nd=Lh[ed],TA=nd.toLowerCase(),AA=nd[0].toUpperCase()+nd.slice(1);kn(TA,"on"+AA)}kn(yg,"onAnimationEnd"),kn(_g,"onAnimationIteration"),kn(vg,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(zT,"onTransitionRun"),kn(BT,"onTransitionStart"),kn(jT,"onTransitionCancel"),kn(Eg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function zy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,L=E.currentTarget;if(E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(G){qu(G)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,L=E.currentTarget,E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(G){qu(G)}h.currentTarget=null,d=R}}}}function Mt(e,i){var a=i[fo];a===void 0&&(a=i[fo]=new Set);var l=e+"__bubble";a.has(l)||(By(i,e,2,!1),a.add(l))}function id(e,i,a){var l=0;i&&(l|=4),By(a,e,l,i)}var nc="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[nc]){e[nc]=!0,mo.forEach(function(a){a!=="selectionchange"&&(SA.has(a)||id(a,!1,e),id(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[nc]||(i[nc]=!0,id("selectionchange",!1,i))}}function By(e,i,a,l){switch(c_(i)){case 2:var h=$A;break;case 8:h=ZA;break;default:h=_d}a=h.bind(null,i,a,e),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function sd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=yi(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue t}E=E.parentNode}}l=l.return}ru(function(){var L=d,G=Tn(a),Y=[];t:{var B=Tg.get(e);if(B!==void 0){var j=$s,_t=e;switch(e){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":j=na;break;case"focusin":_t="focus",j=Ws;break;case"focusout":_t="blur",j=Ws;break;case"beforeblur":case"afterblur":j=Ws;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=fu;break;case yg:case _g:case vg:j=ta;break;case Eg:j=mu;break;case"scroll":case"scrollend":j=su;break;case"wheel":j=ia;break;case"copy":case"cut":case"paste":j=ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ro;break;case"toggle":case"beforetoggle":j=pu}var gt=(i&4)!==0,Jt=!gt&&(e==="scroll"||e==="scrollend"),x=gt?B!==null?B+"Capture":null:B;gt=[];for(var O=L,U;O!==null;){var Q=O;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||x===null||(Q=os(O,x),Q!=null&&gt.push(il(O,Q,U))),Jt)break;O=O.return}0<gt.length&&(B=new j(B,_t,null,a,G),Y.push({event:B,listeners:gt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",B&&a!==Ti&&(_t=a.relatedTarget||a.fromElement)&&(yi(_t)||_t[vn]))break t;if((j||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,j?(_t=a.relatedTarget||a.toElement,j=L,_t=_t?yi(_t):null,_t!==null&&(Jt=c(_t),gt=_t.tag,_t!==Jt||gt!==5&&gt!==27&&gt!==6)&&(_t=null)):(j=null,_t=L),j!==_t)){if(gt=Sn,Q="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Ro,Q="onPointerLeave",x="onPointerEnter",O="pointer"),Jt=j==null?B:Qn(j),U=_t==null?B:Qn(_t),B=new gt(Q,O+"leave",j,a,G),B.target=Jt,B.relatedTarget=U,Q=null,yi(G)===L&&(gt=new gt(x,O+"enter",_t,a,G),gt.target=U,gt.relatedTarget=Jt,Q=gt),Jt=Q,j&&_t)e:{for(gt=j,x=_t,O=0,U=gt;U;U=Ca(U))O++;for(U=0,Q=x;Q;Q=Ca(Q))U++;for(;0<O-U;)gt=Ca(gt),O--;for(;0<U-O;)x=Ca(x),U--;for(;O--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=Ca(gt),x=Ca(x)}gt=null}else gt=null;j!==null&&jy(Y,B,j,gt,!1),_t!==null&&Jt!==null&&jy(Y,Jt,_t,gt,!0)}}t:{if(B=L?Qn(L):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var ot=ag;else if(we(B))if(og)ot=kT;else{ot=xT;var Nt=MT}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&vo(L.elementType)&&(ot=ag):ot=PT;if(ot&&(ot=ot(e,L))){Ri(Y,ot,a,G);break t}Nt&&Nt(e,B,L),e==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&nr(B,"number",B.value)}switch(Nt=L?Qn(L):window,e){case"focusin":(we(Nt)||Nt.contentEditable==="true")&&(ra=Nt,Ph=L,Do=null);break;case"focusout":Do=Ph=ra=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,gg(Y,a,G);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":gg(Y,a,G)}var ft;if(Wn)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else kt?q(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(y&&a.locale!=="ko"&&(kt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&kt&&(ft=To()):(Xn=G,ir="value"in Xn?Xn.value:Xn.textContent,kt=!0)),Nt=ic(L,pt),0<Nt.length&&(pt=new bo(pt,e,null,a,G),Y.push({event:pt,listeners:Nt}),ft?pt.data=ft:(ft=tt(a),ft!==null&&(pt.data=ft)))),(ft=m?be(e,a):Ut(e,a))&&(pt=ic(L,"onBeforeInput"),0<pt.length&&(Nt=new bo("onBeforeInput","beforeinput",null,a,G),Y.push({event:Nt,listeners:pt}),Nt.data=ft)),EA(Y,e,L,a,G)}zy(Y,i)})}function il(e,i,a){return{instance:e,listener:i,currentTarget:a}}function ic(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=os(e,a),h!=null&&l.unshift(il(e,h,d)),h=os(e,i),h!=null&&l.push(il(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jy(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,R=E.alternate,L=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||L===null||(R=L,h?(L=os(a,d),L!=null&&v.unshift(il(a,L,R))):h||(L=os(a,d),L!=null&&v.push(il(a,L,R)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var bA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function qy(e){return(typeof e=="string"?e:""+e).replace(bA,`
`).replace(wA,"")}function Hy(e,i){return i=qy(i),qy(e)===i}function rc(){}function Zt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(e,""+l);break;case"className":Kn(e,"class",l);break;case"tabIndex":Kn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(e,a,l);break;case"style":_o(e,l,d);break;case"data":if(i!=="object"){Kn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xs(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xs(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=rc);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Xs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),er(e,"popover",l);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":er(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ch.get(a)||a,er(e,a,l))}}function ad(e,i,a,l,h,d){switch(a){case"style":_o(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):er(e,a,l)}}}function Be(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,d,v,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),l&&Zt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var E=d=v=h=null,R=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":v=G;break;case"checked":R=G;break;case"defaultChecked":L=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Zt(e,i,l,G,a,null)}}rs(e,d,E,R,L,v,h,!1),Ys(e);return;case"select":Mt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Zt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ei(e,!!l,i,!1):a!=null&&Ei(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,i,v,E,a,null)}ss(e,l,h,d),Ys(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(e,i,R,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<nl.length;l++)Mt(nl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,L,l,a,null)}return;default:if(vo(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&ad(e,i,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(e,i,E,l,a,null))}function RA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,R=null,L=null,G=null;for(j in a){var Y=a[j];if(a.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(j)||Zt(e,i,j,null,l,Y)}}for(var B in l){var j=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(j!=null||Y!=null))switch(B){case"type":d=j;break;case"name":h=j;break;case"checked":L=j;break;case"defaultChecked":G=j;break;case"value":v=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:j!==Y&&Zt(e,i,B,j,l,Y)}}un(e,v,E,R,L,G,d,h);return;case"select":j=v=E=B=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":j=R;default:l.hasOwnProperty(d)||Zt(e,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==R&&Zt(e,i,h,d,l,R)}i=E,a=v,l=j,B!=null?Ei(e,!!a,B,!1):!!l!=!!a&&(i!=null?Ei(e,!!a,i,!0):Ei(e,!!a,a?[]:"",!1));return;case"textarea":j=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Zt(e,i,v,h,l,d)}Xt(e,B,j);return;case"option":for(var _t in a)if(B=a[_t],a.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":e.selected=!1;break;default:Zt(e,i,_t,null,l,B)}for(R in l)if(B=l[R],j=a[R],l.hasOwnProperty(R)&&B!==j&&(B!=null||j!=null))switch(R){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Zt(e,i,R,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Zt(e,i,gt,null,l,B);for(L in l)if(B=l[L],j=a[L],l.hasOwnProperty(L)&&B!==j&&(B!=null||j!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Zt(e,i,L,B,l,j)}return;default:if(vo(i)){for(var Jt in a)B=a[Jt],a.hasOwnProperty(Jt)&&B!==void 0&&!l.hasOwnProperty(Jt)&&ad(e,i,Jt,void 0,l,B);for(G in l)B=l[G],j=a[G],!l.hasOwnProperty(G)||B===j||B===void 0&&j===void 0||ad(e,i,G,B,l,j);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Zt(e,i,x,null,l,B);for(Y in l)B=l[Y],j=a[Y],!l.hasOwnProperty(Y)||B===j||B==null&&j==null||Zt(e,i,Y,B,l,j)}var od=null,ld=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function Fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ud(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cd=null;function IA(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,CA=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(e){return Ky.resolve(null).then(e).catch(OA)}:Qy;function OA(e){setTimeout(function(){throw e})}function vr(e){return e==="head"}function Yy(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&rl(v.documentElement),a&2&&rl(v.body),a&4)for(a=v.head,rl(a),v=a.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[ts]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),fl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);fl(i)}function hd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hd(a),tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function NA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ts])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function VA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function MA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var dd=null;function Xy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function $y(e,i,a){switch(i=sc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function rl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);tr(e)}var On=new Map,Zy=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=et.d;et.d={f:xA,r:PA,D:kA,C:UA,L:LA,m:zA,X:jA,S:BA,M:qA};function xA(){var e=zi.f(),i=Zu();return e||i}function PA(e){var i=Gn(e);i!==null&&i.tag===5&&i.type==="form"?yp(i):zi.r(e)}var Da=typeof document>"u"?null:document;function Jy(e,i,a){var l=Da;if(l&&typeof i=="string"&&i){var h=ye(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Zy.has(h)||(Zy.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Be(i,"link",e),fe(i),l.head.appendChild(i)))}}function kA(e){zi.D(e),Jy("dns-prefetch",e,null)}function UA(e,i){zi.C(e,i),Jy("preconnect",e,i)}function LA(e,i,a){zi.L(e,i,a);var l=Da;if(l&&e&&i){var h='link[rel="preload"][as="'+ye(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ye(a.imageSizes)+'"]')):h+='[href="'+ye(e)+'"]';var d=h;switch(i){case"style":d=Oa(e);break;case"script":d=Na(e)}On.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),On.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(sl(d))||i==="script"&&l.querySelector(al(d))||(i=l.createElement("link"),Be(i,"link",e),fe(i),l.head.appendChild(i)))}}function zA(e,i){zi.m(e,i);var a=Da;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ye(l)+'"][href="'+ye(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Na(e)}if(!On.has(d)&&(e=T({rel:"modulepreload",href:e},i),On.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(al(d)))return}l=a.createElement("link"),Be(l,"link",e),fe(l),a.head.appendChild(l)}}}function BA(e,i,a){zi.S(e,i,a);var l=Da;if(l&&e){var h=Je(l).hoistableStyles,d=Oa(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(sl(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=On.get(d))&&md(e,a);var R=v=l.createElement("link");fe(R),Be(R,"link",e),R._p=new Promise(function(L,G){R.onload=L,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function jA(e,i){zi.X(e,i);var a=Da;if(a&&e){var l=Je(a).hoistableScripts,h=Na(e),d=l.get(h);d||(d=a.querySelector(al(h)),d||(e=T({src:e,async:!0},i),(i=On.get(h))&&gd(e,i),d=a.createElement("script"),fe(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function qA(e,i){zi.M(e,i);var a=Da;if(a&&e){var l=Je(a).hoistableScripts,h=Na(e),d=l.get(h);d||(d=a.querySelector(al(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=On.get(h))&&gd(e,i),d=a.createElement("script"),fe(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Wy(e,i,a,l){var h=(h=Et.current)?ac(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Oa(a.href),a=Je(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Oa(a.href);var d=Je(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(sl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(e,a),d||HA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Na(a),a=Je(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Oa(e){return'href="'+ye(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function t_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function HA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Be(i,"link",a),fe(i),e.head.appendChild(i))}function Na(e){return'[src="'+ye(e)+'"]'}function al(e){return"script[async]"+e}function e_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ye(a.href)+'"]');if(l)return i.instance=l,fe(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),fe(l),Be(l,"style",h),oc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Oa(a.href);var d=e.querySelector(sl(h));if(d)return i.state.loading|=4,i.instance=d,fe(d),d;l=t_(a),(h=On.get(h))&&md(l,h),d=(e.ownerDocument||e).createElement("link"),fe(d);var v=d;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Be(d,"link",l),i.state.loading|=4,oc(d,a.precedence,e),i.instance=d;case"script":return d=Na(a.src),(h=e.querySelector(al(d)))?(i.instance=h,fe(h),h):(l=a,(h=On.get(d))&&(l=T({},a),gd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),Be(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,oc(l,a.precedence,e));return i.instance}function oc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function md(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function gd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var lc=null;function n_(e,i,a){if(lc===null){var l=new Map,h=lc=new Map;h.set(a,l)}else h=lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ts]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function i_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function FA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function r_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ol=null;function GA(){}function QA(e,i,a){if(ol===null)throw Error(s(475));var l=ol;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Oa(a.href),d=e.querySelector(sl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=uc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,fe(d);return}d=e.ownerDocument||e,a=t_(a),(h=On.get(h))&&md(a,h),d=d.createElement("link"),fe(d);var v=d;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Be(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=uc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function KA(){if(ol===null)throw Error(s(475));var e=ol;return e.stylesheets&&e.count===0&&pd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&pd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function uc(){if(this.count--,this.count===0){if(this.stylesheets)pd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function pd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,i.forEach(YA,e),cc=null,uc.call(e))}function YA(e,i){if(!(i.state.loading&4)){var a=cc.get(e);if(a)var l=a.get(null);else{a=new Map,cc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ll={$$typeof:st,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function XA(e,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function s_(e,i,a,l,h,d,v,E,R,L,G,Y){return e=new XA(e,i,a,v,E,R,L,Y),i=1,d===!0&&(i|=24),d=hn(3,null,null,i),e.current=d,d.stateNode=e,i=$h(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},tf(d),e}function a_(e){return e?(e=la,e):la}function o_(e,i,a,l,h,d){h=a_(h),l.context===null?l.context=h:l.pendingContext=h,l=ar(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=or(e,l,i),a!==null&&(pn(a,e,i),Lo(a,e,i))}function l_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function yd(e,i){l_(e,i),(e=e.alternate)&&l_(e,i)}function u_(e){if(e.tag===13){var i=oa(e,67108864);i!==null&&pn(i,e,67108864),yd(e,67108864)}}var hc=!0;function $A(e,i,a,l){var h=F.T;F.T=null;var d=et.p;try{et.p=2,_d(e,i,a,l)}finally{et.p=d,F.T=h}}function ZA(e,i,a,l){var h=F.T;F.T=null;var d=et.p;try{et.p=8,_d(e,i,a,l)}finally{et.p=d,F.T=h}}function _d(e,i,a,l){if(hc){var h=vd(l);if(h===null)sd(e,i,l,fc,a),h_(e,l);else if(WA(h,e,i,a,l))l.stopPropagation();else if(h_(e,l),i&4&&-1<JA.indexOf(e)){for(;h!==null;){var d=Gn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Mn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Ge(v);E.entanglements[1]|=R,v&=~R}si(d),(Qt&6)===0&&(Xu=_n()+500,el(0))}}break;case 13:E=oa(d,2),E!==null&&pn(E,d,2),Zu(),yd(d,2)}if(d=vd(l),d===null&&sd(e,i,l,fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else sd(e,i,l,null,a)}}function vd(e){return e=Tn(e),Ed(e)}var fc=null;function Ed(e){if(fc=null,e=yi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return fc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ah()){case so:return 2;case Bs:return 8;case Xr:case Sh:return 32;case js:return 268435456;default:return 32}default:return 32}}var Td=!1,Er=null,Tr=null,Ar=null,ul=new Map,cl=new Map,Sr=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,i){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(i.pointerId)}}function hl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Gn(i),i!==null&&u_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function WA(e,i,a,l,h){switch(i){case"focusin":return Er=hl(Er,e,i,a,l,h),!0;case"dragenter":return Tr=hl(Tr,e,i,a,l,h),!0;case"mouseover":return Ar=hl(Ar,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ul.set(d,hl(ul.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,cl.set(d,hl(cl.get(d)||null,e,i,a,l,h)),!0}return!1}function f_(e){var i=yi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Zl(e.priority,function(){if(a.tag===13){var l=gn();l=Zi(l);var h=oa(a,l);h!==null&&pn(h,a,l),yd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ti=l,a.target.dispatchEvent(l),Ti=null}else return i=Gn(a),i!==null&&u_(i),e.blockedOn=a,!1;i.shift()}return!0}function d_(e,i,a){dc(e)&&a.delete(i)}function tS(){Td=!1,Er!==null&&dc(Er)&&(Er=null),Tr!==null&&dc(Tr)&&(Tr=null),Ar!==null&&dc(Ar)&&(Ar=null),ul.forEach(d_),cl.forEach(d_)}function mc(e,i){e.blockedOn===i&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tS)))}var gc=null;function m_(e){gc!==e&&(gc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Ed(l||a)===null)continue;break}var d=Gn(a);d!==null&&(e.splice(i,3),i-=3,Ef(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function fl(e){function i(R){return mc(R,e)}Er!==null&&mc(Er,e),Tr!==null&&mc(Tr,e),Ar!==null&&mc(Ar,e),ul.forEach(i),cl.forEach(i);for(var a=0;a<Sr.length;a++){var l=Sr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Sr.length&&(a=Sr[0],a.blockedOn===null);)f_(a),a.blockedOn===null&&Sr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pe]||null;if(typeof d=="function")v||m_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pe]||null)E=v.formAction;else if(Ed(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),m_(a)}}}function Ad(e){this._internalRoot=e}pc.prototype.render=Ad.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();o_(a,l,e,i,null,null)},pc.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;o_(e.current,2,null,e,null,null),Zu(),i[vn]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ji();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Sr.length&&i!==0&&i<Sr[a].priority;a++);Sr.splice(a,0,e),a===0&&f_(e)}};var g_=t.version;if(g_!=="19.1.0")throw Error(s(527,g_,"19.1.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var eS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{le=yc.inject(eS),Gt=yc}catch{}}return ml.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Np,d=Vp,v=Mp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=s_(e,1,!1,null,null,a,l,h,d,v,E,null),e[vn]=i.current,rd(e),new Ad(i)},ml.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Np,v=Vp,E=Mp,R=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=s_(e,1,!0,i,a??null,l,h,d,v,E,R,L),i.context=a_(null),a=i.current,l=gn(),l=Zi(l),h=ar(l),h.callback=null,or(a,h,l),a=l,i.current.lanes=a,pi(i,a),si(i),e[vn]=i.current,rd(e),new pc(i)},ml.version="19.1.0",ml}var w_;function fS(){if(w_)return wd.exports;w_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=hS(),wd.exports}var dS=fS();const mS=r0(dS),gS=()=>{};var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},pS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],g=r[n++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},a0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,g=f?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,T=c>>2,w=(c&3)<<4|g>>4;let C=(g&15)<<2|_>>6,z=_&63;p||(z=64,f||(C=64)),s.push(n[T],n[w],n[C],n[z])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(s0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):pS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||g==null||_==null||w==null)throw new yS;const C=c<<2|g>>4;if(s.push(C),_!==64){const z=g<<4&240|_>>2;if(s.push(z),w!==64){const H=_<<6&192|w;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _S=function(r){const t=s0(r);return a0.encodeByteArray(t,!0)},Pc=function(r){return _S(r).replace(/\./g,"")},o0=function(r){try{return a0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=()=>vS().__FIREBASE_DEFAULTS__,TS=()=>{if(typeof process>"u"||typeof R_>"u")return;const r=R_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},AS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&o0(r[1]);return t&&JSON.parse(t)},eh=()=>{try{return gS()||ES()||TS()||AS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},l0=r=>{var t,n;return(n=(t=eh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},SS=r=>{const t=l0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},u0=()=>{var r;return(r=eh())===null||r===void 0?void 0:r.config},c0=r=>{var t;return(t=eh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Pc(JSON.stringify(n)),Pc(JSON.stringify(f)),""].join(".")}const El={};function RS(){const r={prod:[],emulator:[]};for(const t of Object.keys(El))El[t]?r.emulator.push(t):r.prod.push(t);return r}function IS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let I_=!1;function f0(r,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||El[r]===t||El[r]||I_)return;El[r]=t;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=RS().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,z){C.setAttribute("width","24"),C.setAttribute("id",z),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{I_=!0,f()},C}function T(C,z){C.setAttribute("id",z),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function w(){const C=IS(s),z=n("text"),H=document.getElementById(z)||document.createElement("span"),J=n("learnmore"),$=document.getElementById(J)||document.createElement("a"),ut=n("preprendIcon"),lt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const st=C.element;g(st),T($,J);const bt=_();p(lt,ut),st.append(lt,H,$,bt),document.body.appendChild(st)}c?(H.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function DS(){var r;const t=(r=eh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function VS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MS(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xS(){return!DS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="FirebaseError";class Xi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=US,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?LS(c,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Xi(o,g,s)}}function LS(r,t){return r.replace(zS,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const zS=/\{\$([^}]+)}/g;function BS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const c=r[o],f=t[o];if(C_(c)&&C_(f)){if(!Vs(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function C_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function jS(r,t){const n=new qS(r,t);return n.subscribe.bind(n)}class qS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Dd),o.error===void 0&&(o.error=Dd),o.complete===void 0&&(o.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(r){return r&&r._delegate?r._delegate:r}class Ms{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new bS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t?.identifier),o=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QS(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&t(f,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(r){return r===Ds?void 0:r}function QS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new FS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const YS={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},XS=xt.INFO,$S={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},ZS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=$S[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mm{constructor(t){this.name=t,this._logLevel=XS,this._logHandler=ZS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const JS=(r,t)=>t.some(n=>r instanceof n);let D_,O_;function WS(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tb(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d0=new WeakMap,Bd=new WeakMap,m0=new WeakMap,Od=new WeakMap,gm=new WeakMap;function eb(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Nr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&d0.set(n,r)}).catch(()=>{}),gm.set(t,r),t}function nb(r){if(Bd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Bd.set(r,t)}let jd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Bd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||m0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function ib(r){jd=r(jd)}function rb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Nd(this),t,...n);return m0.set(s,t.sort?t.sort():[t]),Nr(s)}:tb().includes(r)?function(...t){return r.apply(Nd(this),t),Nr(d0.get(this))}:function(...t){return Nr(r.apply(Nd(this),t))}}function sb(r){return typeof r=="function"?rb(r):(r instanceof IDBTransaction&&nb(r),JS(r,WS())?new Proxy(r,jd):r)}function Nr(r){if(r instanceof IDBRequest)return eb(r);if(Od.has(r))return Od.get(r);const t=sb(r);return t!==r&&(Od.set(r,t),gm.set(t,r)),t}const Nd=r=>gm.get(r);function ab(r,t,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,t),g=Nr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Nr(f.result),p.oldVersion,p.newVersion,Nr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const ob=["get","getKey","getAll","getAllKeys","count"],lb=["put","add","delete","clear"],Vd=new Map;function N_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=lb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ob.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),o&&p.done]))[0]};return Vd.set(t,c),c}ib(r=>({...r,get:(t,n,s)=>N_(t,n)||r.get(t,n,s),has:(t,n)=>!!N_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cb(r){const t=r.getComponent();return t?.type==="VERSION"}const qd="@firebase/app",V_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new mm("@firebase/app"),hb="@firebase/app-compat",fb="@firebase/analytics-compat",db="@firebase/analytics",mb="@firebase/app-check-compat",gb="@firebase/app-check",pb="@firebase/auth",yb="@firebase/auth-compat",_b="@firebase/database",vb="@firebase/data-connect",Eb="@firebase/database-compat",Tb="@firebase/functions",Ab="@firebase/functions-compat",Sb="@firebase/installations",bb="@firebase/installations-compat",wb="@firebase/messaging",Rb="@firebase/messaging-compat",Ib="@firebase/performance",Cb="@firebase/performance-compat",Db="@firebase/remote-config",Ob="@firebase/remote-config-compat",Nb="@firebase/storage",Vb="@firebase/storage-compat",Mb="@firebase/firestore",xb="@firebase/ai",Pb="@firebase/firestore-compat",kb="firebase",Ub="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",Lb={[qd]:"fire-core",[hb]:"fire-core-compat",[db]:"fire-analytics",[fb]:"fire-analytics-compat",[gb]:"fire-app-check",[mb]:"fire-app-check-compat",[pb]:"fire-auth",[yb]:"fire-auth-compat",[_b]:"fire-rtdb",[vb]:"fire-data-connect",[Eb]:"fire-rtdb-compat",[Tb]:"fire-fn",[Ab]:"fire-fn-compat",[Sb]:"fire-iid",[bb]:"fire-iid-compat",[wb]:"fire-fcm",[Rb]:"fire-fcm-compat",[Ib]:"fire-perf",[Cb]:"fire-perf-compat",[Db]:"fire-rc",[Ob]:"fire-rc-compat",[Nb]:"fire-gcs",[Vb]:"fire-gcs-compat",[Mb]:"fire-fst",[Pb]:"fire-fst-compat",[xb]:"fire-vertex","fire-js":"fire-js",[kb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Map,zb=new Map,Fd=new Map;function M_(r,t){try{r.container.addComponent(t)}catch(n){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fa(r){const t=r.name;if(Fd.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;Fd.set(t,r);for(const n of kc.values())M_(n,r);for(const n of zb.values())M_(n,r);return!0}function pm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Nn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new xl("app","Firebase",Bb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=Ub;function g0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Hd,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Vr.create("bad-app-name",{appName:String(o)});if(n||(n=u0()),!n)throw Vr.create("no-options");const c=kc.get(o);if(c){if(Vs(n,c.options)&&Vs(s,c.config))return c;throw Vr.create("duplicate-app",{appName:o})}const f=new KS(o);for(const p of Fd.values())f.addComponent(p);const g=new jb(n,s,f);return kc.set(o,g),g}function p0(r=Hd){const t=kc.get(r);if(!t&&r===Hd&&u0())return g0();if(!t)throw Vr.create("no-app",{appName:r});return t}function Mr(r,t,n){var s;let o=(s=Lb[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const c=o.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${o}" with version "${t}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(g.join(" "));return}Fa(new Ms(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebase-heartbeat-database",Hb=1,Rl="firebase-heartbeat-store";let Md=null;function y0(){return Md||(Md=ab(qb,Hb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Rl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Vr.create("idb-open",{originalErrorMessage:r.message})})),Md}async function Fb(r){try{const n=(await y0()).transaction(Rl),s=await n.objectStore(Rl).get(_0(r));return await n.done,s}catch(t){if(t instanceof Xi)Hi.warn(t.message);else{const n=Vr.create("idb-get",{originalErrorMessage:t?.message});Hi.warn(n.message)}}}async function x_(r,t){try{const s=(await y0()).transaction(Rl,"readwrite");await s.objectStore(Rl).put(t,_0(r)),await s.done}catch(n){if(n instanceof Xi)Hi.warn(n.message);else{const s=Vr.create("idb-set",{originalErrorMessage:n?.message});Hi.warn(s.message)}}}function _0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=1024,Qb=30;class Kb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=P_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Qb){const f=$b(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Hi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P_(),{heartbeatsToSend:s,unsentEntries:o}=Yb(this._heartbeatsCache.heartbeats),c=Pc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Hi.warn(n),""}}}function P_(){return new Date().toISOString().substring(0,10)}function Yb(r,t=Gb){const n=[];let s=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),k_(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),k_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Xb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Fb(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function k_(r){return Pc(JSON.stringify({version:2,heartbeats:r})).length}function $b(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(r){Fa(new Ms("platform-logger",t=>new ub(t),"PRIVATE")),Fa(new Ms("heartbeat",t=>new Kb(t),"PRIVATE")),Mr(qd,V_,r),Mr(qd,V_,"esm2017"),Mr("fire-js","")}Zb("");var Jb="firebase",Wb="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(Jb,Wb,"app");function ym(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function v0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t1=v0,E0=new xl("auth","Firebase",v0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new mm("@firebase/auth");function e1(r,...t){Uc.logLevel<=xt.WARN&&Uc.warn(`Auth (${Za}): ${r}`,...t)}function bc(r,...t){Uc.logLevel<=xt.ERROR&&Uc.error(`Auth (${Za}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(r,...t){throw _m(r,...t)}function oi(r,...t){return _m(r,...t)}function T0(r,t,n){const s=Object.assign(Object.assign({},t1()),{[t]:n});return new xl("auth","Firebase",s).create(t,{appName:r.name})}function qi(r){return T0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _m(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return E0.create(r,...t)}function vt(r,t,...n){if(!r)throw _m(t,...n)}function Bi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw bc(t),new Error(t)}function Gi(r,t){r||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function n1(){return U_()==="http:"||U_()==="https:"}function U_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n1()||NS()||"connection"in navigator)?navigator.onLine:!0}function r1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gi(n>t,"Short delay should be less than long delay!"),this.isMobile=CS()||VS()}get(){return i1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(r,t){Gi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o1=new kl(3e4,6e4);function Ul(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ja(r,t,n,s,o={}){return S0(r,o,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=Pl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return OS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&$a(r.emulatorConfig.host)&&(_.credentials="include"),A0.fetch()(await b0(r,r.config.apiHost,n,g),_)})}async function S0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},s1),t);try{const o=new l1(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw _c(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw _c(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw _c(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw T0(r,T,_);Fi(r,T)}}catch(o){if(o instanceof Xi)throw o;Fi(r,"network-request-failed",{message:String(o)})}}async function Em(r,t,n,s,o={}){const c=await Ja(r,t,n,s,o);return"mfaPendingCredential"in c&&Fi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function b0(r,t,n,s){const o=`${t}${n}?${s}`,c=r,f=c.config.emulator?vm(r.config,o):`${r.config.apiScheme}://${o}`;return a1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class l1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),o1.get())})}}function _c(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=oi(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(r,t){return Ja(r,"POST","/v1/accounts:delete",t)}async function Lc(r,t){return Ja(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function c1(r,t=!1){const n=He(r),s=await n.getIdToken(t),o=Tm(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:s,authTime:Tl(xd(o.auth_time)),issuedAtTime:Tl(xd(o.iat)),expirationTime:Tl(xd(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function xd(r){return Number(r)*1e3}function Tm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=o0(n);return o?JSON.parse(o):(bc("Failed to decode base64 JWT payload"),null)}catch(o){return bc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function L_(r){const t=Tm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Xi&&h1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function h1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Il(r,Lc(n,{idToken:s}));vt(o?.users.length,n,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?w0(c.providerUserInfo):[],g=m1(r.providerData,f),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!g?.length,T=p?_:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Qd(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,w)}async function d1(r){const t=He(r);await zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function m1(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function w0(r){return r.map(t=>{var{providerId:n}=t,s=ym(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(r,t){const n=await S0(r,{},async()=>{const s=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=await b0(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&$a(r.emulatorConfig.host)&&(p.credentials="include"),A0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p1(r,t){return Ja(r,"POST","/v2/accounts:revokeToken",Ul(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):L_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=L_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await g1(t,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new Ua;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),c&&(vt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class zn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,c=ym(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Qd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Il(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return c1(this,t)}reload(){return d1(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new zn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await zc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(qi(this.auth));const t=await this.getIdToken();return await Il(this,u1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,c,f,g,p,_,T;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,z=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,H=(f=n.photoURL)!==null&&f!==void 0?f:void 0,J=(g=n.tenantId)!==null&&g!==void 0?g:void 0,$=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ut=(_=n.createdAt)!==null&&_!==void 0?_:void 0,lt=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:st,emailVerified:bt,isAnonymous:ct,providerData:wt,stsTokenManager:V}=n;vt(st&&V,t,"internal-error");const b=Ua.fromJSON(this.name,V);vt(typeof st=="string",t,"internal-error"),wr(w,t.name),wr(C,t.name),vt(typeof bt=="boolean",t,"internal-error"),vt(typeof ct=="boolean",t,"internal-error"),wr(z,t.name),wr(H,t.name),wr(J,t.name),wr($,t.name),wr(ut,t.name),wr(lt,t.name);const I=new zn({uid:st,auth:t,email:C,emailVerified:bt,displayName:w,isAnonymous:ct,photoURL:H,phoneNumber:z,tenantId:J,stsTokenManager:b,createdAt:ut,lastLoginAt:lt});return wt&&Array.isArray(wt)&&(I.providerData=wt.map(N=>Object.assign({},N))),$&&(I._redirectEventId=$),I}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ua;o.updateFromServerResponse(n);const c=new zn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await zc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?w0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,g=new Ua;g.updateFromIdToken(s);const p=new zn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;function ji(r){Gi(r instanceof Function,"Expected a class definition");let t=z_.get(r);return t?(Gi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,z_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}R0.type="NONE";const B_=R0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(r,t,n){return`firebase:${r}:${t}:${n}`}class La{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=wc(this.userKey,o.apiKey,c),this.fullPersistenceKey=wc("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Lc(this.auth,{idToken:t}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,t):null}return zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new La(ji(B_),t,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ji(B_);const f=wc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(f);if(T){let w;if(typeof T=="string"){const C=await Lc(t,{idToken:T}).catch(()=>{});if(!C)break;w=await zn._fromGetAccountInfoResponse(t,C,T)}else w=zn._fromJSON(t,T);_!==c&&(g=w),c=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new La(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new La(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(O0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(I0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(V0(t))return"Blackberry";if(M0(t))return"Webos";if(C0(t))return"Safari";if((t.includes("chrome/")||D0(t))&&!t.includes("edge/"))return"Chrome";if(N0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function I0(r=Ze()){return/firefox\//i.test(r)}function C0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function D0(r=Ze()){return/crios\//i.test(r)}function O0(r=Ze()){return/iemobile/i.test(r)}function N0(r=Ze()){return/android/i.test(r)}function V0(r=Ze()){return/blackberry/i.test(r)}function M0(r=Ze()){return/webos/i.test(r)}function Am(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function y1(r=Ze()){var t;return Am(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _1(){return MS()&&document.documentMode===10}function x0(r=Ze()){return Am(r)||N0(r)||M0(r)||V0(r)||/windows phone/i.test(r)||O0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(r,t=[]){let n;switch(r){case"Browser":n=j_(Ze());break;case"Worker":n=`${j_(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(r,t={}){return Ja(r,"GET","/v2/passwordPolicy",Ul(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=6;class A1{constructor(t){var n,s,o,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:T1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q_(this),this.idTokenSubscription=new q_(this),this.beforeStateQueue=new v1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{var s,o,c;if(!this._deleted&&(this.persistenceManager=await La.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Lc(this,{idToken:t}),s=await zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Nn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=o?._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&p?.user&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await zc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=r1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Nn(this.app))return Promise.reject(qi(this));const n=t?He(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Nn(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await E1(this),n=new A1(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new xl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await p1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ji(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=P0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&e1(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Ll(r){return He(r)}class q_{constructor(t){this.auth=t,this.observer=null,this.addObserver=jS(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b1(r){Sm=r}function w1(r){return Sm.loadJS(r)}function R1(){return Sm.gapiScript}function I1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(r,t){const n=pm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Vs(c,t??{}))return o;Fi(o,"already-initialized")}return n.initialize({options:t})}function D1(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function O1(r,t,n){const s=Ll(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,c=k0(t),{host:f,port:g}=N1(t),p=g===null?"":`:${g}`,_={url:`${c}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(Vs(_,s.config.emulator)&&Vs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,$a(f)?(h0(`${c}//${f}${p}`),f0("Auth",!0)):V1()}function k0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function N1(r){const t=k0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:H_(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:H_(f)}}}function H_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function V1(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,n){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(r,t){return Em(r,"POST","/v1/accounts:signInWithIdp",Ul(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="http://localhost";class xs extends U0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,c=ym(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new xs(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return za(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,za(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,za(t,n)}buildRequest(){const t={requestUri:M1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Pl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends L0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends zl{constructor(){super("facebook.com")}static credential(t){return xs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rr.credential(t.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return xs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Ir.credential(n,s)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends zl{constructor(){super("github.com")}static credential(t){return xs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cr.credential(t.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends zl{constructor(){super("twitter.com")}static credential(t,n){return xs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Dr.credential(n,s)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(r,t){return Em(r,"POST","/v1/accounts:signUp",Ul(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const c=await zn._fromIdTokenResponse(t,s,o),f=F_(s);return new Qi({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=F_(s);return new Qi({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function F_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G_(r){var t;if(Nn(r.app))return Promise.reject(qi(r));const n=Ll(r);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Qi({user:n.currentUser,providerId:null,operationType:"signIn"});const s=await x1(n,{returnSecureToken:!0}),o=await Qi._fromIdTokenResponse(n,"signIn",s,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Xi{constructor(t,n,s,o){var c;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Bc(t,n,s,o)}}function z0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Bc._fromErrorAndOperation(r,c,t,s):c})}async function P1(r,t,n=!1){const s=await Il(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Qi._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(r,t,n=!1){const{auth:s}=r;if(Nn(s.app))return Promise.reject(qi(s));const o="reauthenticate";try{const c=await Il(r,z0(s,o,t,r),n);vt(c.idToken,s,"internal-error");const f=Tm(c.idToken);vt(f,s,"internal-error");const{sub:g}=f;return vt(r.uid===g,s,"user-mismatch"),Qi._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Fi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(r,t,n=!1){if(Nn(r.app))return Promise.reject(qi(r));const s="signIn",o=await z0(r,s,t),c=await Qi._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(r,t){return Em(r,"POST","/v1/accounts:signInWithCustomToken",Ul(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(r,t){if(Nn(r.app))return Promise.reject(qi(r));const n=Ll(r),s=await L1(n,{token:t,returnSecureToken:!0}),o=await Qi._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function B1(r,t,n,s){return He(r).onIdTokenChanged(t,n,s)}function j1(r,t,n){return He(r).beforeAuthStateChanged(t,n)}function q1(r,t,n,s){return He(r).onAuthStateChanged(t,n,s)}const jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=1e3,F1=10;class j0 extends B0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);_1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,F1):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},H1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}j0.type="LOCAL";const G1=j0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends B0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}q0.type="SESSION";const H0=q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new nh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(f).map(async _=>_(n.origin,c)),p=await Q1(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const _=bm("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const C=w;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function Y1(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function X1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $1(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Z1(){return F0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="firebaseLocalStorageDb",J1=1,qc="firebaseLocalStorage",Q0="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ih(r,t){return r.transaction([qc],t?"readwrite":"readonly").objectStore(qc)}function W1(){const r=indexedDB.deleteDatabase(G0);return new Bl(r).toPromise()}function Kd(){const r=indexedDB.open(G0,J1);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(qc,{keyPath:Q0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(qc)?t(s):(s.close(),await W1(),t(await Kd()))})})}async function Q_(r,t,n){const s=ih(r,!0).put({[Q0]:t,value:n});return new Bl(s).toPromise()}async function tw(r,t){const n=ih(r,!1).get(t),s=await new Bl(n).toPromise();return s===void 0?null:s.value}function K_(r,t){const n=ih(r,!0).delete(t);return new Bl(n).toPromise()}const ew=800,nw=3;class K0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>nw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(Z1()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await X1(),!this.activeServiceWorker)return;this.sender=new K1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kd();return await Q_(t,jc,"1"),await K_(t,jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Q_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>tw(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>K_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=ih(o,!1).getAll();return new Bl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K0.type="LOCAL";const iw=K0;new kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(r,t){return t?ji(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends U0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,n){return za(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sw(r){return U1(r.auth,new wm(r),r.bypassAuthState)}function aw(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),k1(n,new wm(r),r.bypassAuthState)}async function ow(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),P1(n,new wm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t,n,s,o,c=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sw;case"linkViaPopup":case"linkViaRedirect":return ow;case"reauthViaPopup":case"reauthViaRedirect":return aw;default:Fi(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new kl(2e3,1e4);class ka extends Y0{constructor(t,n,s,o,c){super(t,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lw.get())};t()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="pendingRedirect",Rc=new Map;class cw extends Y0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Rc.get(this.auth._key());if(!t){try{const s=await hw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Rc.set(this.auth._key(),t)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hw(r,t){const n=mw(t),s=dw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function fw(r,t){Rc.set(r._key(),t)}function dw(r){return ji(r._redirectPersistence)}function mw(r){return wc(uw,r.config.apiKey,r.name)}async function gw(r,t,n=!1){if(Nn(r.app))return Promise.reject(qi(r));const s=Ll(r),o=rw(s,t),f=await new cw(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=10*60*1e3;class yw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_w(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!X0(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y_(t))}saveEventToCache(t){this.cachedEventUids.add(Y_(t)),this.lastProcessedEventTime=Date.now()}}function Y_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function X0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function _w(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(r,t={}){return Ja(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tw=/^https?/;async function Aw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await vw(r);for(const n of t)try{if(Sw(n))return}catch{}Fi(r,"unauthorized-domain")}function Sw(r){const t=Gd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Tw.test(n))return!1;if(Ew.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new kl(3e4,6e4);function X_(){const r=li().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function ww(r){return new Promise((t,n)=>{var s,o,c;function f(){X_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{X_(),n(oi(r,"network-request-failed"))},timeout:bw.get()})}if(!((o=(s=li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((c=li().gapi)===null||c===void 0)&&c.load)f();else{const g=I1("iframefcb");return li()[g]=()=>{gapi.load?f():n(oi(r,"network-request-failed"))},w1(`${R1()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Ic=null,t})}let Ic=null;function Rw(r){return Ic=Ic||ww(r),Ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new kl(5e3,15e3),Cw="__/auth/iframe",Dw="emulator/auth/iframe",Ow={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vw(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?vm(t,Dw):`https://${r.config.authDomain}/${Cw}`,s={apiKey:t.apiKey,appName:r.name,v:Za},o=Nw.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Pl(s).slice(1)}`}async function Mw(r){const t=await Rw(r),n=li().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:Vw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ow,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=oi(r,"network-request-failed"),g=li().setTimeout(()=>{c(f)},Iw.get());function p(){li().clearTimeout(g),o(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pw=500,kw=600,Uw="_blank",Lw="http://localhost";class $_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zw(r,t,n,s=Pw,o=kw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},xw),{width:s.toString(),height:o.toString(),top:c,left:f}),_=Ze().toLowerCase();n&&(g=D0(_)?Uw:n),I0(_)&&(t=t||Lw,p.scrollbars="yes");const T=Object.entries(p).reduce((C,[z,H])=>`${C}${z}=${H},`,"");if(y1(_)&&g!=="_self")return Bw(t||"",g),new $_(null);const w=window.open(t||"",g,T);vt(w,r,"popup-blocked");try{w.focus()}catch{}return new $_(w)}function Bw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="__/auth/handler",qw="emulator/auth/handler",Hw=encodeURIComponent("fac");async function Z_(r,t,n,s,o,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Za,eventId:o};if(t instanceof L0){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",BS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(t instanceof zl){const T=t.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${Hw}=${encodeURIComponent(p)}`:"";return`${Fw(r)}?${Pl(g).slice(1)}${_}`}function Fw({config:r}){return r.emulator?vm(r,qw):`https://${r.authDomain}/${jw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="webStorageSupport";class Gw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H0,this._completeRedirectFn=gw,this._overrideRedirectResult=fw}async _openPopup(t,n,s,o){var c;Gi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await Z_(t,n,s,Gd(),o);return zw(t,f,bm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const c=await Z_(t,n,s,Gd(),o);return Y1(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Gi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Mw(t),s=new yw(t);return n.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Pd,{type:Pd},o=>{var c;const f=(c=o?.[0])===null||c===void 0?void 0:c[Pd];f!==void 0&&n(!!f),Fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Aw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return x0()||C0()||Am()}}const Qw=Gw;var J_="@firebase/auth",W_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xw(r){Fa(new Ms("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P0(r)},_=new S1(s,o,c,p);return D1(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Fa(new Ms("auth-internal",t=>{const n=Ll(t.getProvider("auth").getImmediate());return(s=>new Kw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(J_,W_,Yw(r)),Mr(J_,W_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=5*60,Zw=c0("authIdTokenMaxAge")||$w;let tv=null;const Jw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Zw)return;const o=n?.token;tv!==o&&(tv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ww(r=p0()){const t=pm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=C1(r,{popupRedirectResolver:Qw,persistence:[iw,G1,H0]}),s=c0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=Jw(c.toString());j1(n,f,()=>f(n.currentUser)),B1(n,g=>f(g))}}const o=l0("auth");return o&&O1(n,`http://${o}`),n}function tR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}b1({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const c=oi("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",tR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xw("Browser");var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,$0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,b){function I(){}I.prototype=b.prototype,V.D=b.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(N,M,P){for(var S=Array(arguments.length-2),At=2;At<arguments.length;At++)S[At-2]=arguments[At];return b.prototype[M].apply(N,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,b,I){I||(I=0);var N=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)N[M]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(M=0;16>M;++M)N[M]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=V.g[0],I=V.g[1],M=V.g[2];var P=V.g[3],S=b+(P^I&(M^P))+N[0]+3614090360&4294967295;b=I+(S<<7&4294967295|S>>>25),S=P+(M^b&(I^M))+N[1]+3905402710&4294967295,P=b+(S<<12&4294967295|S>>>20),S=M+(I^P&(b^I))+N[2]+606105819&4294967295,M=P+(S<<17&4294967295|S>>>15),S=I+(b^M&(P^b))+N[3]+3250441966&4294967295,I=M+(S<<22&4294967295|S>>>10),S=b+(P^I&(M^P))+N[4]+4118548399&4294967295,b=I+(S<<7&4294967295|S>>>25),S=P+(M^b&(I^M))+N[5]+1200080426&4294967295,P=b+(S<<12&4294967295|S>>>20),S=M+(I^P&(b^I))+N[6]+2821735955&4294967295,M=P+(S<<17&4294967295|S>>>15),S=I+(b^M&(P^b))+N[7]+4249261313&4294967295,I=M+(S<<22&4294967295|S>>>10),S=b+(P^I&(M^P))+N[8]+1770035416&4294967295,b=I+(S<<7&4294967295|S>>>25),S=P+(M^b&(I^M))+N[9]+2336552879&4294967295,P=b+(S<<12&4294967295|S>>>20),S=M+(I^P&(b^I))+N[10]+4294925233&4294967295,M=P+(S<<17&4294967295|S>>>15),S=I+(b^M&(P^b))+N[11]+2304563134&4294967295,I=M+(S<<22&4294967295|S>>>10),S=b+(P^I&(M^P))+N[12]+1804603682&4294967295,b=I+(S<<7&4294967295|S>>>25),S=P+(M^b&(I^M))+N[13]+4254626195&4294967295,P=b+(S<<12&4294967295|S>>>20),S=M+(I^P&(b^I))+N[14]+2792965006&4294967295,M=P+(S<<17&4294967295|S>>>15),S=I+(b^M&(P^b))+N[15]+1236535329&4294967295,I=M+(S<<22&4294967295|S>>>10),S=b+(M^P&(I^M))+N[1]+4129170786&4294967295,b=I+(S<<5&4294967295|S>>>27),S=P+(I^M&(b^I))+N[6]+3225465664&4294967295,P=b+(S<<9&4294967295|S>>>23),S=M+(b^I&(P^b))+N[11]+643717713&4294967295,M=P+(S<<14&4294967295|S>>>18),S=I+(P^b&(M^P))+N[0]+3921069994&4294967295,I=M+(S<<20&4294967295|S>>>12),S=b+(M^P&(I^M))+N[5]+3593408605&4294967295,b=I+(S<<5&4294967295|S>>>27),S=P+(I^M&(b^I))+N[10]+38016083&4294967295,P=b+(S<<9&4294967295|S>>>23),S=M+(b^I&(P^b))+N[15]+3634488961&4294967295,M=P+(S<<14&4294967295|S>>>18),S=I+(P^b&(M^P))+N[4]+3889429448&4294967295,I=M+(S<<20&4294967295|S>>>12),S=b+(M^P&(I^M))+N[9]+568446438&4294967295,b=I+(S<<5&4294967295|S>>>27),S=P+(I^M&(b^I))+N[14]+3275163606&4294967295,P=b+(S<<9&4294967295|S>>>23),S=M+(b^I&(P^b))+N[3]+4107603335&4294967295,M=P+(S<<14&4294967295|S>>>18),S=I+(P^b&(M^P))+N[8]+1163531501&4294967295,I=M+(S<<20&4294967295|S>>>12),S=b+(M^P&(I^M))+N[13]+2850285829&4294967295,b=I+(S<<5&4294967295|S>>>27),S=P+(I^M&(b^I))+N[2]+4243563512&4294967295,P=b+(S<<9&4294967295|S>>>23),S=M+(b^I&(P^b))+N[7]+1735328473&4294967295,M=P+(S<<14&4294967295|S>>>18),S=I+(P^b&(M^P))+N[12]+2368359562&4294967295,I=M+(S<<20&4294967295|S>>>12),S=b+(I^M^P)+N[5]+4294588738&4294967295,b=I+(S<<4&4294967295|S>>>28),S=P+(b^I^M)+N[8]+2272392833&4294967295,P=b+(S<<11&4294967295|S>>>21),S=M+(P^b^I)+N[11]+1839030562&4294967295,M=P+(S<<16&4294967295|S>>>16),S=I+(M^P^b)+N[14]+4259657740&4294967295,I=M+(S<<23&4294967295|S>>>9),S=b+(I^M^P)+N[1]+2763975236&4294967295,b=I+(S<<4&4294967295|S>>>28),S=P+(b^I^M)+N[4]+1272893353&4294967295,P=b+(S<<11&4294967295|S>>>21),S=M+(P^b^I)+N[7]+4139469664&4294967295,M=P+(S<<16&4294967295|S>>>16),S=I+(M^P^b)+N[10]+3200236656&4294967295,I=M+(S<<23&4294967295|S>>>9),S=b+(I^M^P)+N[13]+681279174&4294967295,b=I+(S<<4&4294967295|S>>>28),S=P+(b^I^M)+N[0]+3936430074&4294967295,P=b+(S<<11&4294967295|S>>>21),S=M+(P^b^I)+N[3]+3572445317&4294967295,M=P+(S<<16&4294967295|S>>>16),S=I+(M^P^b)+N[6]+76029189&4294967295,I=M+(S<<23&4294967295|S>>>9),S=b+(I^M^P)+N[9]+3654602809&4294967295,b=I+(S<<4&4294967295|S>>>28),S=P+(b^I^M)+N[12]+3873151461&4294967295,P=b+(S<<11&4294967295|S>>>21),S=M+(P^b^I)+N[15]+530742520&4294967295,M=P+(S<<16&4294967295|S>>>16),S=I+(M^P^b)+N[2]+3299628645&4294967295,I=M+(S<<23&4294967295|S>>>9),S=b+(M^(I|~P))+N[0]+4096336452&4294967295,b=I+(S<<6&4294967295|S>>>26),S=P+(I^(b|~M))+N[7]+1126891415&4294967295,P=b+(S<<10&4294967295|S>>>22),S=M+(b^(P|~I))+N[14]+2878612391&4294967295,M=P+(S<<15&4294967295|S>>>17),S=I+(P^(M|~b))+N[5]+4237533241&4294967295,I=M+(S<<21&4294967295|S>>>11),S=b+(M^(I|~P))+N[12]+1700485571&4294967295,b=I+(S<<6&4294967295|S>>>26),S=P+(I^(b|~M))+N[3]+2399980690&4294967295,P=b+(S<<10&4294967295|S>>>22),S=M+(b^(P|~I))+N[10]+4293915773&4294967295,M=P+(S<<15&4294967295|S>>>17),S=I+(P^(M|~b))+N[1]+2240044497&4294967295,I=M+(S<<21&4294967295|S>>>11),S=b+(M^(I|~P))+N[8]+1873313359&4294967295,b=I+(S<<6&4294967295|S>>>26),S=P+(I^(b|~M))+N[15]+4264355552&4294967295,P=b+(S<<10&4294967295|S>>>22),S=M+(b^(P|~I))+N[6]+2734768916&4294967295,M=P+(S<<15&4294967295|S>>>17),S=I+(P^(M|~b))+N[13]+1309151649&4294967295,I=M+(S<<21&4294967295|S>>>11),S=b+(M^(I|~P))+N[4]+4149444226&4294967295,b=I+(S<<6&4294967295|S>>>26),S=P+(I^(b|~M))+N[11]+3174756917&4294967295,P=b+(S<<10&4294967295|S>>>22),S=M+(b^(P|~I))+N[2]+718787259&4294967295,M=P+(S<<15&4294967295|S>>>17),S=I+(P^(M|~b))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+b&4294967295,V.g[1]=V.g[1]+(M+(S<<21&4294967295|S>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+P&4294967295}s.prototype.u=function(V,b){b===void 0&&(b=V.length);for(var I=b-this.blockSize,N=this.B,M=this.h,P=0;P<b;){if(M==0)for(;P<=I;)o(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<b;)if(N[M++]=V.charCodeAt(P++),M==this.blockSize){o(this,N),M=0;break}}else for(;P<b;)if(N[M++]=V[P++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var b=1;b<V.length-8;++b)V[b]=0;var I=8*this.o;for(b=V.length-8;b<V.length;++b)V[b]=I&255,I/=256;for(this.u(V),V=Array(16),b=I=0;4>b;++b)for(var N=0;32>N;N+=8)V[I++]=this.g[b]>>>N&255;return V};function c(V,b){var I=g;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=b(V)}function f(V,b){this.h=b;for(var I=[],N=!0,M=V.length-1;0<=M;M--){var P=V[M]|0;N&&P==b||(I[M]=P,N=!1)}this.g=I}var g={};function p(V){return-128<=V&&128>V?c(V,function(b){return new f([b|0],0>b?-1:0)}):new f([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return $(_(-V));for(var b=[],I=1,N=0;V>=I;N++)b[N]=V/I|0,I*=4294967296;return new f(b,0)}function T(V,b){if(V.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(V.charAt(0)=="-")return $(T(V.substring(1),b));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(b,8)),N=w,M=0;M<V.length;M+=8){var P=Math.min(8,V.length-M),S=parseInt(V.substring(M,M+P),b);8>P?(P=_(Math.pow(b,P)),N=N.j(P).add(_(S))):(N=N.j(I),N=N.add(_(S)))}return N}var w=p(0),C=p(1),z=p(16777216);r=f.prototype,r.m=function(){if(J(this))return-$(this).m();for(var V=0,b=1,I=0;I<this.g.length;I++){var N=this.i(I);V+=(0<=N?N:4294967296+N)*b,b*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(H(this))return"0";if(J(this))return"-"+$(this).toString(V);for(var b=_(Math.pow(V,6)),I=this,N="";;){var M=bt(I,b).g;I=ut(I,M.j(b));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=M,H(I))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function H(V){if(V.h!=0)return!1;for(var b=0;b<V.g.length;b++)if(V.g[b]!=0)return!1;return!0}function J(V){return V.h==-1}r.l=function(V){return V=ut(this,V),J(V)?-1:H(V)?0:1};function $(V){for(var b=V.g.length,I=[],N=0;N<b;N++)I[N]=~V.g[N];return new f(I,~V.h).add(C)}r.abs=function(){return J(this)?$(this):this},r.add=function(V){for(var b=Math.max(this.g.length,V.g.length),I=[],N=0,M=0;M<=b;M++){var P=N+(this.i(M)&65535)+(V.i(M)&65535),S=(P>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=S>>>16,P&=65535,S&=65535,I[M]=S<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ut(V,b){return V.add($(b))}r.j=function(V){if(H(this)||H(V))return w;if(J(this))return J(V)?$(this).j($(V)):$($(this).j(V));if(J(V))return $(this.j($(V)));if(0>this.l(z)&&0>V.l(z))return _(this.m()*V.m());for(var b=this.g.length+V.g.length,I=[],N=0;N<2*b;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var P=this.i(N)>>>16,S=this.i(N)&65535,At=V.i(M)>>>16,Dt=V.i(M)&65535;I[2*N+2*M]+=S*Dt,lt(I,2*N+2*M),I[2*N+2*M+1]+=P*Dt,lt(I,2*N+2*M+1),I[2*N+2*M+1]+=S*At,lt(I,2*N+2*M+1),I[2*N+2*M+2]+=P*At,lt(I,2*N+2*M+2)}for(N=0;N<b;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=b;N<2*b;N++)I[N]=0;return new f(I,0)};function lt(V,b){for(;(V[b]&65535)!=V[b];)V[b+1]+=V[b]>>>16,V[b]&=65535,b++}function st(V,b){this.g=V,this.h=b}function bt(V,b){if(H(b))throw Error("division by zero");if(H(V))return new st(w,w);if(J(V))return b=bt($(V),b),new st($(b.g),$(b.h));if(J(b))return b=bt(V,$(b)),new st($(b.g),b.h);if(30<V.g.length){if(J(V)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var I=C,N=b;0>=N.l(V);)I=ct(I),N=ct(N);var M=wt(I,1),P=wt(N,1);for(N=wt(N,2),I=wt(I,2);!H(N);){var S=P.add(N);0>=S.l(V)&&(M=M.add(I),P=S),N=wt(N,1),I=wt(I,1)}return b=ut(V,M.j(b)),new st(M,b)}for(M=w;0<=V.l(b);){for(I=Math.max(1,Math.floor(V.m()/b.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=_(I),S=P.j(b);J(S)||0<S.l(V);)I-=N,P=_(I),S=P.j(b);H(P)&&(P=C),M=M.add(P),V=ut(V,S)}return new st(M,V)}r.A=function(V){return bt(this,V).h},r.and=function(V){for(var b=Math.max(this.g.length,V.g.length),I=[],N=0;N<b;N++)I[N]=this.i(N)&V.i(N);return new f(I,this.h&V.h)},r.or=function(V){for(var b=Math.max(this.g.length,V.g.length),I=[],N=0;N<b;N++)I[N]=this.i(N)|V.i(N);return new f(I,this.h|V.h)},r.xor=function(V){for(var b=Math.max(this.g.length,V.g.length),I=[],N=0;N<b;N++)I[N]=this.i(N)^V.i(N);return new f(I,this.h^V.h)};function ct(V){for(var b=V.g.length+1,I=[],N=0;N<b;N++)I[N]=V.i(N)<<1|V.i(N-1)>>>31;return new f(I,V.h)}function wt(V,b){var I=b>>5;b%=32;for(var N=V.g.length-I,M=[],P=0;P<N;P++)M[P]=0<b?V.i(P+I)>>>b|V.i(P+I+1)<<32-b:V.i(P+I);return new f(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,xr=f}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z0,gl,J0,Cc,Yd,W0,tE,eE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var k=u[A];if(!(k in y))break t;y=y[k]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,k={next:function(){if(!A&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function w(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function C(u,m,y){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,C.apply(null,arguments)}function z(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function H(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,k,q){for(var tt=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)tt[kt-2]=arguments[kt];return m.prototype[k].apply(A,tt)}}function J(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function $(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const k=u.length||0,q=A.length||0;u.length=k+q;for(let tt=0;tt<q;tt++)u[k+tt]=A[tt]}else u.push(A)}}class ut{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function lt(u){return/^[\s\xa0]*$/.test(u)}function st(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function bt(u){return bt[" "](u),u}bt[" "]=function(){};var ct=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function wt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function V(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function b(u){const m={};for(const y in u)m[y]=u[y];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(y in A)u[y]=A[y];for(let q=0;q<I.length;q++)y=I[q],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){g.setTimeout(()=>{throw u},0)}function S(){var u=jt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class At{constructor(){this.h=this.g=null}add(m,y){const A=Dt.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var Dt=new ut(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ht=!1,jt=new At,D=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(Z)}};var Z=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(y){P(y)}var m=Dt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Ot(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ct){t:{try{bt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ot.aa.h.call(this)}}H(Ot,W);var Et={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),te=0;function Hn(u,m,y,A,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=k,this.key=++te,this.da=this.fa=!1}function $i(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mi(u){this.src=u,this.g={},this.h=0}mi.prototype.add=function(u,m,y,A,k){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=Kr(u,m,A,k);return-1<tt?(m=u[tt],y||(m.fa=!1)):(m=new Hn(m,this.src,q,!!A,k),m.fa=y,u.push(m)),m};function Qr(u,m){var y=m.type;if(y in u.g){var A=u.g[y],k=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=k)&&Array.prototype.splice.call(A,k,1),q&&($i(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Kr(u,m,y,A){for(var k=0;k<u.length;++k){var q=u[k];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==A)return k}return-1}var Yr="closure_lm_"+(1e6*Math.random()|0),ro={};function Yl(u,m,y,A,k){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Yl(u,m[q],y,A,k);return null}return y=Xl(y),u&&u[De]?u.K(m,y,_(A)?!!A.capture:!1,k):_n(u,m,y,!1,A,k)}function _n(u,m,y,A,k,q){if(!m)throw Error("Invalid event type");var tt=_(k)?!!k.capture:!!k,kt=js(u);if(kt||(u[Yr]=kt=new mi(u)),y=kt.add(m,y,A,tt,q),y.proxy)return y;if(A=Ah(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)mt||(k=tt),k===void 0&&(k=!1),u.addEventListener(m.toString(),A,k);else if(u.attachEvent)u.attachEvent(Xr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ah(){function u(y){return m.call(u.src,u.listener,y)}const m=Sh;return u}function so(u,m,y,A,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)so(u,m[q],y,A,k);else A=_(A)?!!A.capture:!!A,y=Xl(y),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Kr(q,y,A,k),-1<y&&($i(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=js(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Kr(m,y,A,k)),(y=-1<u?m[u]:null)&&Bs(y))}function Bs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Qr(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(Xr(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=js(m))?(Qr(y,u),y.h==0&&(y.src=null,m[Yr]=null)):$i(u)}}}function Xr(u){return u in ro?ro[u]:ro[u]="on"+u}function Sh(u,m){if(u.da)u=!0;else{m=new Ot(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&Bs(u),u=y.call(A,m)}return u}function js(u){return u=u[Yr],u instanceof mi?u:null}var ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function le(){nt.call(this),this.i=new mi(this),this.M=this,this.F=null}H(le,nt),le.prototype[De]=!0,le.prototype.removeEventListener=function(u,m,y,A){so(this,u,m,y,A)};function Gt(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var k=m;m=new W(A,u),N(m,k)}if(k=!0,y)for(var q=y.length-1;0<=q;q--){var tt=m.g=y[q];k=ln(tt,A,!0,m)&&k}if(tt=m.g=u,k=ln(tt,A,!0,m)&&k,k=ln(tt,A,!1,m)&&k,y)for(q=0;q<y.length;q++)tt=m.g=y[q],k=ln(tt,A,!1,m)&&k}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)$i(y[A]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},le.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function ln(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==y){var kt=tt.listener,be=tt.ha||tt.src;tt.fa&&Qr(u.i,tt),k=kt.call(be,A)!==!1&&k}}return k&&!A.defaultPrevented}function Ge(u,m,y){if(typeof u=="function")y&&(u=C(u,y));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function $l(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class bh extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(u){nt.call(this),this.h=u,this.g={}}H($r,nt);var Zr=[];function Jr(u){wt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Bs(m)},u),u.g={}}$r.prototype.N=function(){$r.aa.N.call(this),Jr(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=g.JSON.stringify,qs=g.JSON.parse,Wr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function oo(){}oo.prototype.h=null;function lo(u){return u.h||(u.h=u.i())}function uo(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){W.call(this,"d")}H(pi,W);function co(){W.call(this,"c")}H(co,W);var Fn={},ho=null;function Zi(){return ho=ho||new le}Fn.La="serverreachability";function Hs(u){W.call(this,Fn.La,u)}H(Hs,W);function Ji(u){const m=Zi();Gt(m,new Hs(m))}Fn.STAT_EVENT="statevent";function Zl(u,m){W.call(this,Fn.STAT_EVENT,u),this.stat=m}H(Zl,W);function re(u){const m=Zi();Gt(m,new Zl(m,u))}Fn.Ma="timingevent";function Se(u,m){W.call(this,Fn.Ma,u),this.size=m}H(Se,W);function pe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function fo(u,m,y,A,k,q){u.info(function(){if(u.g)if(q)for(var tt="",kt=q.split("&"),be=0;be<kt.length;be++){var Ut=kt[be].split("=");if(1<Ut.length){var Ne=Ut[0];Ut=Ut[1];var we=Ne.split("_");tt=2<=we.length&&we[1]=="type"?tt+(Ne+"="+Ut+"&"):tt+(Ne+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+m+`
`+y+`
`+tt})}function wh(u,m,y,A,k,q,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+m+`
`+y+`
`+q+" "+tt})}function Wi(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ts(u,y)+(A?" "+A:"")})}function Jl(u,m){u.info(function(){return"TIMEOUT: "+m})}vn.prototype.info=function(){};function ts(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<k.length;tt++)k[tt]=""}}}}return Mn(y)}catch{return m}}var tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Qn(){}H(Qn,oo),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Gn=new Qn;function Je(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var mo={},Fs={};function xn(u,m,y){u.L=1,u.v=ss(un(m)),u.m=y,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),es(u),u.A=un(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Eo(y.i,"t",A),u.C=0,y=u.j.J,u.h=new fe,u.g=mu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new bh(C(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Zr[0]=k.toString()),k=Zr);for(var q=0;q<k.length;q++){var tt=Yl(y,k[q],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ji(),fo(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const m=this.M;m&&Sn(u)==3?m.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)t:{const we=Sn(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||we!=4||m==7||(m==8||0>=Ri?Ji(3):Ji(2)),er(this);var y=this.g.Z();this.X=y;e:if(Wl(this)){var A=au(this.g);u="";var k=A.length,q=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),Kn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==k-1)});A.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=y==200,wh(this.i,this.u,this.A,this.l,this.R,we,y),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,be=this.g;if((kt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(kt)){var Ut=kt;break e}}Ut=null}if(y=Ut)Wi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ns(this,y);else{this.o=!1,this.s=3,re(12),ke(this),Kn(this);break t}}if(this.P){y=!0;let Ue;for(;!this.J&&this.C<tt.length;)if(Ue=tu(this,tt),Ue==Fs){we==4&&(this.s=4,re(14),y=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==mo){this.s=4,re(15),Wi(this.i,this.l,tt,"[Invalid Chunk]"),y=!1;break}else Wi(this.i,this.l,Ue,null),ns(this,Ue);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||tt.length!=0||this.h.h||(this.s=1,re(16),y=!1),this.o=this.o&&y,!y)Wi(this.i,this.l,tt,"[Invalid Chunked Response]"),ke(this),Kn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),ds(Ne),Ne.M=!0,re(11))}}else Wi(this.i,this.l,tt,null),ns(this,tt);we==4&&ke(this),this.o&&!this.J&&(we==4?hu(this.j,this):(this.o=!1,es(this)))}else Oh(this.g),y==400&&0<tt.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),ke(this),Kn(this)}}}catch{}finally{}};function Wl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tu(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?Fs:(y=Number(m.substring(y,A)),isNaN(y)?mo:(A+=1,A+y>m.length?Fs:(m=m.slice(A,A+y),u.C=A+y,m)))}Je.prototype.cancel=function(){this.J=!0,ke(this)};function es(u){u.S=Date.now()+u.I,eu(u,u.I)}function eu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(C(u.ba,u),m)}function er(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Jl(this.i,this.A),this.L!=2&&(Ji(),re(17)),ke(this),this.s=2,Kn(this)):eu(this,this.S-u)};function Kn(u){u.j.G==0||u.J||hu(u.j,u)}function ke(u){er(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Jr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ns(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||go(y.h,u))){if(!u.K&&go(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)na(y),ta(y);else break t;wo(y),re(18)}}else y.za=k[1],0<y.za-y.T&&37500>k[2]&&y.F&&y.v==0&&!y.C&&(y.C=pe(C(y.Za,y),6e3));if(1>=Qs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else wi(y,11)}else if((u.K||y.g==u)&&na(y),!lt(m))for(k=y.Da.g.parse(m),m=0;m<k.length;m++){let Ut=k[m];if(y.T=Ut[0],Ut=Ut[1],y.G==2)if(Ut[0]=="c"){y.K=Ut[1],y.ia=Ut[2];const Ne=Ut[3];Ne!=null&&(y.la=Ne,y.j.info("VER="+y.la));const we=Ut[4];we!=null&&(y.Aa=we,y.j.info("SVER="+y.Aa));const Ri=Ut[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Ue=u.g;if(Ue){const ti=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var q=A.h;q.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ks(q,q.h),q.h=null))}if(A.D){const Io=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(A.ya=Io,Xt(A.I,A.D,Io))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var tt=u;if(A.qa=du(A,A.J?A.ia:null,A.W),tt.K){We(A.h,tt);var kt=tt,be=A.L;be&&(kt.I=be),kt.B&&(er(kt),es(kt)),A.g=tt}else uu(A);0<y.i.length&&ea(y)}else Ut[0]!="stop"&&Ut[0]!="close"||wi(y,7);else y.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?wi(y,7):So(y):Ut[0]!="noop"&&y.l&&y.l.ta(Ut),y.v=0)}}Ji(4)}catch{}}var nu=class{constructor(u,m){this.g=u,this.map=m}};function vi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qs(u){return u.h?1:u.g?u.g.size:0}function go(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ks(u,m){u.g?u.g.add(m):u.h=m}function We(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vi.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function po(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return J(u.i)}function Rh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function Ys(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function yo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Ys(u),A=Rh(u),k=A.length,q=0;q<k;q++)m.call(void 0,A[q],y&&y[q],u)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ih(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),k=null;if(0<=A){var q=u[y].substring(0,A);k=u[y].substring(A+1)}else q=u[y];m(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ye(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ye){this.h=u.h,rs(this,u.j),this.o=u.o,this.g=u.g,nr(this,u.s),this.l=u.l;var m=u.i,y=new Ti;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Ei(this,y),this.m=u.m}else u&&(m=String(u).match(is))?(this.h=!1,rs(this,m[1]||"",!0),this.o=En(m[2]||""),this.g=En(m[3]||"",!0),nr(this,m[4]),this.l=En(m[5]||"",!0),Ei(this,m[6]||"",!0),this.m=En(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}ye.prototype.toString=function(){var u=[],m=this.j;m&&u.push(as(m,_o,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(as(m,_o,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(as(y,y.charAt(0)=="/"?Ch:vo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",as(y,Xs)),u.join("")};function un(u){return new ye(u)}function rs(u,m,y){u.j=y?En(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function nr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ei(u,m,y){m instanceof Ti?(u.i=m,ru(u.i,u.h)):(y||(m=as(m,Dh)),u.i=new Ti(m,u.h))}function Xt(u,m,y){u.i.set(m,y)}function ss(u){return Xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function En(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function as(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,iu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function iu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _o=/[#\/\?@]/g,vo=/[#\?:]/g,Ch=/[#\?]/g,Dh=/[#\?@]/g,Xs=/#/g;function Ti(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ih(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Ti.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Yn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Ai(u,m){Tn(u),m=Yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Si(u,m){return Tn(u),m=Yn(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(y,A){y.forEach(function(k){u.call(m,k,A,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const k=u[A];for(let q=0;q<k.length;q++)y.push(m[A])}return y},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")Si(this,u)&&(m=m.concat(this.g.get(Yn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Yn(this,u),Si(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Eo(u,m,y){Ai(u,m),0<y.length&&(u.i=null,u.g.set(Yn(u,m),J(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const q=encodeURIComponent(String(A)),tt=this.V(A);for(A=0;A<tt.length;A++){var k=q;tt[A]!==""&&(k+="="+encodeURIComponent(String(tt[A]))),u.push(k)}}return this.i=u.join("&")};function Yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ru(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(y,A){var k=A.toLowerCase();A!=k&&(Ai(this,A),Eo(this,k,y))},u)),u.j=m}function os(u,m){const y=new vn;if(g.Image){const A=new Image;A.onload=z(An,y,"TestLoadImage: loaded",!0,m,A),A.onerror=z(An,y,"TestLoadImage: error",!1,m,A),A.onabort=z(An,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=z(An,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Pn(u,m){const y=new vn,A=new AbortController,k=setTimeout(()=>{A.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(k),q.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(y)}catch{}}function ls(){this.g=new Wr}function Xn(u,m,y){const A=y||"";try{yo(u,function(k,q){let tt=k;_(k)&&(tt=Mn(k)),m.push(A+q+"="+encodeURIComponent(tt))})}catch(k){throw m.push(A+"type="+encodeURIComponent("_badmap")),k}}function ir(u){this.l=u.Ub||null,this.j=u.eb||!1}H(ir,oo),ir.prototype.g=function(){return new bi(this.l,this.j)},ir.prototype.i=function(u){return function(){return u}}({});function bi(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(bi,le),r=bi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;To(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function To(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Zn(this),this.readyState==3&&To(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ao(u){let m="";return wt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function Oe(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=Ao(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Xt(u,m,y))}function Ht(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(Ht,le);var $s=/^https?$/i,us=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?lo(this.o):lo(Gn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){su(this,q);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)y.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())y.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(us,m,void 0))||A||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of y)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){su(this,q)}};function su(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Zs(u),Jn(u)}function Zs(u){u.A||(u.A=!0,Gt(u,"complete"),Gt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Gt(this,"complete"),Gt(this,"abort"),Jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)Ge(u.Ea,0,u);else if(Gt(u,"readystatechange"),Sn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=tt===0){var k=String(u.D).match(is)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),A=!$s.test(k?k.toLowerCase():"")}y=A}if(y)Gt(u,"complete"),Gt(u,"success");else{u.m=6;try{var q=2<Sn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Zs(u)}}finally{Jn(u)}}}}function Jn(u,m){if(u.g){cs(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Gt(u,"ready");try{y.onreadystatechange=A}catch{}}}function cs(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qs(m)}};function au(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oh(u){const m={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(lt(u[A]))continue;var y=M(u[A]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[k]||[];m[k]=q,q.push(y)}V(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Ws(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hs("baseRetryDelayMs",5e3,u),this.cb=hs("retryDelaySeedMs",1e4,u),this.Wa=hs("forwardChannelMaxRetries",2,u),this.wa=hs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(u&&u.concurrentRequestLimit),this.Da=new ls,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ws.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){re(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=du(this,null,this.W),ea(this)};function So(u){if(ou(u),u.G==3){var m=u.U++,y=un(u.I);if(Xt(y,"SID",u.K),Xt(y,"RID",m),Xt(y,"TYPE","terminate"),fs(u,y),m=new Je(u,u.j,m),m.L=2,m.v=ss(un(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=mu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),es(m)}fu(u)}function ta(u){u.g&&(ds(u),u.g.cancel(),u.g=null)}function ou(u){ta(u),u.u&&(g.clearTimeout(u.u),u.u=null),na(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ea(u){if(!Gs(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||D(),ht||(et(),ht=!0),jt.add(m,u),u.B=0}}function Nh(u,m){return Qs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(C(u.Ga,u,m),Ro(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Je(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=lu(this,k,m),y=un(this.I),Xt(y,"RID",u),Xt(y,"CVER",22),this.D&&Xt(y,"X-HTTP-Session-Id",this.D),fs(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(Ao(q)))+"&"+m:this.m&&Oe(y,this.m,q)),Ks(this.h,k),this.Ua&&Xt(y,"TYPE","init"),this.P?(Xt(y,"$req",m),Xt(y,"SID","null"),k.T=!0,xn(k,y,null)):xn(k,y,m),this.G=2}}else this.G==3&&(u?bo(this,u):this.i.length==0||Gs(this.h)||bo(this))};function bo(u,m){var y;m?y=m.l:y=u.U++;const A=un(u.I);Xt(A,"SID",u.K),Xt(A,"RID",y),Xt(A,"AID",u.T),fs(u,A),u.m&&u.o&&Oe(A,u.m,u.o),y=new Je(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=lu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ks(u.h,y),xn(y,A,m)}function fs(u,m){u.H&&wt(u.H,function(y,A){Xt(m,A,y)}),u.l&&yo({},function(y,A){Xt(m,A,y)})}function lu(u,m,y){y=Math.min(u.i.length,y);var A=u.l?C(u.l.Na,u.l,u):null;t:{var k=u.i;let q=-1;for(;;){const tt=["count="+y];q==-1?0<y?(q=k[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let kt=!0;for(let be=0;be<y;be++){let Ut=k[be].g;const Ne=k[be].map;if(Ut-=q,0>Ut)q=Math.max(0,k[be].g-100),kt=!1;else try{Xn(Ne,tt,"req"+Ut+"_")}catch{A&&A(Ne)}}if(kt){A=tt.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function uu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||D(),ht||(et(),ht=!0),jt.add(m,u),u.v=0}}function wo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(C(u.Fa,u),Ro(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),ta(this),cu(this))};function ds(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function cu(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=un(u.qa);Xt(m,"RID","rpc"),Xt(m,"SID",u.K),Xt(m,"AID",u.T),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xt(m,"TO",u.ja),Xt(m,"TYPE","xmlhttp"),fs(u,m),u.m&&u.o&&Oe(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=ss(un(m)),y.m=null,y.P=!0,_i(y,u)}r.Za=function(){this.C!=null&&(this.C=null,ta(this),wo(this),re(19))};function na(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function hu(u,m){var y=null;if(u.g==m){na(u),ds(u),u.g=null;var A=2}else if(go(u.h,m))y=m.D,We(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;A=Zi(),Gt(A,new Se(A,y)),ea(u)}else uu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(A==1&&Nh(u,m)||A==2&&wo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),k){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function Ro(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var y=C(u.fb,u),A=u.Xa;const k=!A;A=new ye(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||rs(A,"https"),ss(A),k?os(A.toString(),y):Pn(A.toString(),y)}else re(2);u.G=0,u.l&&u.l.sa(m),fu(u),ou(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function fu(u){if(u.G=0,u.ka=[],u.l){const m=po(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function du(u,m,y){var A=y instanceof ye?un(y):new ye(y);if(A.g!="")m&&(A.g=m+"."+A.g),nr(A,A.s);else{var k=g.location;A=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var q=new ye(null);A&&rs(q,A),m&&(q.g=m),k&&nr(q,k),y&&(q.l=y),A=q}return y=u.D,m=u.ya,y&&m&&Xt(A,y,m),Xt(A,"VER",u.la),fs(u,A),A}function mu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new ir({eb:y})):new Ht(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ia(){}ia.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){le.call(this),this.g=new Ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!lt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!lt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wn(this)}H(tn,le),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){So(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Mn(u),u=y);m.i.push(new nu(m.Ya++,u)),m.G==3&&ea(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,tn.aa.N.call(this)};function pu(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}H(pu,pi);function yu(){co.call(this),this.status=1}H(yu,co);function Wn(u){this.g=u}H(Wn,gu),Wn.prototype.ua=function(){Gt(this.g,"a")},Wn.prototype.ta=function(u){Gt(this.g,new pu(u))},Wn.prototype.sa=function(u){Gt(this.g,new yu)},Wn.prototype.ra=function(){Gt(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,eE=function(){return new ia},tE=function(){return Zi()},W0=Fn,Yd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,Cc=tr,yi.COMPLETE="complete",J0=yi,uo.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",le.prototype.listen=le.prototype.K,gl=uo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Z0=Ht}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const nv="@firebase/firestore",iv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new mm("@firebase/firestore");function Va(){return Ps.logLevel}function rt(r,...t){if(Ps.logLevel<=xt.DEBUG){const n=t.map(Rm);Ps.debug(`Firestore (${Wa}): ${r}`,...n)}}function Ki(r,...t){if(Ps.logLevel<=xt.ERROR){const n=t.map(Rm);Ps.error(`Firestore (${Wa}): ${r}`,...n)}}function Ur(r,...t){if(Ps.logLevel<=xt.WARN){const n=t.map(Rm);Ps.warn(`Firestore (${Wa}): ${r}`,...n)}}function Rm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,nE(r,s,n)}function nE(r,t,n){let s=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ki(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||nE(t,o,s)}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Xi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}}class nR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iR{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new iE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class rR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new rR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=oR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=t.charAt(o[c]%62))}return s}}function Ct(r,t){return r<t?-1:r>t?1:0}function Xd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const c=rE(),f=lR(c.encode(sv(r,n)),c.encode(sv(t,n)));return f!==0?f:Ct(s,o)}}n+=s>65535?2:1}return Ct(r.length,t.length)}function sv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function lR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ct(r[n],t[n]);return Ct(r.length,t.length)}function Ga(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="__name__";class ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const c=ai.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return Ct(t.length,n.length)}static compareSegments(t,n){const s=ai.isNumericId(t),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(t).compare(ai.extractNumericId(n)):Xd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xr.fromString(t.substring(4,t.length-2))}}class ne extends ai{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const uR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ai{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return uR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===av}static keyField(){return new qe([av])}static fromServerFormat(t){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new it(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new it(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(c(),o++)}if(c(),f)throw new it(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ne.fromString(t))}static fromName(t){return new dt(ne.fromString(t).popFirst(5))}static empty(){return new dt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(r,t,n){if(!n)throw new it(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function cR(r,t,n,s){if(t===!0&&s===!0)throw new it(K.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function ov(r){if(!dt.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lv(r){if(dt.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function aE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function rh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Bn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rh(r);throw new it(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,t){const n={typeString:r};return t&&(n.value=t),n}function jl(r,t){if(!aE(r))throw new it(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new it(K.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-62135596800,cv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*cv);return new ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<uv)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ae("string",ie._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ie(0,0))}static max(){return new Tt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=-1;function hR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new ie(n+1,0):new ie(n,s));return new Lr(o,dt.empty(),t)}function fR(r){return new Lr(r.readTime,r.key,Cl)}class Lr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(Tt.min(),dt.empty(),Cl)}static max(){return new Lr(Tt.max(),dt.empty(),Cl)}}function dR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==mR)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):X.reject(n)}static resolve(t){return new X((n,s)=>{n(t)})}static reject(t){return new X((n,s)=>{s(t)})}static waitFor(t){return new X((n,s)=>{let o=0,c=0,f=!1;t.forEach(g=>{++o,g.next(()=>{++c,f&&c===o&&n()},p=>s(p))}),f=!0,c===o&&n()})}static or(t){let n=X.resolve(!1);for(const s of t)n=n.next(o=>o?X.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,c)=>{s.push(n.call(this,o,c))}),this.waitFor(s)}static mapArray(t,n){return new X((s,o)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(T=>{f[_]=T,++g,g===c&&s(f)},T=>o(T))}})}static doWhile(t,n){return new X((s,o)=>{const c=()=>{t()===!0?n().next(()=>{c()},o):s()};c()})}}function pR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}sh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=-1;function ah(r){return r==null}function Hc(r){return r===0&&1/r==-1/0}function yR(r){return typeof r=="number"&&Number.isInteger(r)&&!Hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="";function _R(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=hv(t)),t=vR(r.get(n),t);return hv(t)}function vR(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case oE:n+="";break;default:n+=c}}return n}function hv(r){return r+oE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Fr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function lE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,n){this.comparator=t,this.root=n||je.EMPTY}insert(t,n){return new oe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,n,s,o,c){this.key=t,this.value=n,this.color=s??je.RED,this.left=o??je.EMPTY,this.right=c??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,c){return new je(t??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,o,c){return this}insert(t,n,s){return new je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(t){return new dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ce(this.comparator);return n.data=t,n}}class dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new yn([])}unionWith(t){let n=new Ce(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new yn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ga(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new uE("Invalid base64 string: "+c):c}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const ER=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=ER.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Br(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="server_timestamp",hE="__type__",fE="__previous_value__",dE="__local_write_time__";function Dm(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[hE])===null||n===void 0?void 0:n.stringValue)===cE}function oh(r){const t=r.mapValue.fields[fE];return Dm(t)?oh(t):t}function Dl(r){const t=zr(r.mapValue.fields[dE].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,n,s,o,c,f,g,p,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Fc="(default)";class Ol{constructor(t,n){this.projectId=t,this.database=n||Fc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__type__",AR="__max__",Tc={mapValue:{}},gE="__vector__",Gc="value";function jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dm(r)?4:bR(r)?9007199254740991:SR(r)?10:11:yt(28295,{value:r})}function di(r,t){if(r===t)return!0;const n=jr(r);if(n!==jr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Dl(r).isEqual(Dl(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=zr(o.timestampValue),g=zr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Br(o.bytesValue).isEqual(Br(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return ge(o.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ge(o.integerValue)===ge(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=ge(o.doubleValue),g=ge(c.doubleValue);return f===g?Hc(f)===Hc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return Ga(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},g=c.mapValue.fields||{};if(fv(f)!==fv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!di(f[p],g[p])))return!1;return!0}(r,t);default:return yt(52216,{left:r})}}function Nl(r,t){return(r.values||[]).find(n=>di(n,t))!==void 0}function Qa(r,t){if(r===t)return 0;const n=jr(r),s=jr(t);if(n!==s)return Ct(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=ge(c.integerValue||c.doubleValue),p=ge(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return mv(r.timestampValue,t.timestampValue);case 4:return mv(Dl(r),Dl(t));case 5:return Xd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=Br(c),p=Br(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Ct(g[_],p[_]);if(T!==0)return T}return Ct(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=Ct(ge(c.latitude),ge(f.latitude));return g!==0?g:Ct(ge(c.longitude),ge(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return gv(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,_,T;const w=c.fields||{},C=f.fields||{},z=(g=w[Gc])===null||g===void 0?void 0:g.arrayValue,H=(p=C[Gc])===null||p===void 0?void 0:p.arrayValue,J=Ct(((_=z?.values)===null||_===void 0?void 0:_.length)||0,((T=H?.values)===null||T===void 0?void 0:T.length)||0);return J!==0?J:gv(z,H)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===Tc.mapValue&&f===Tc.mapValue)return 0;if(c===Tc.mapValue)return 1;if(f===Tc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const C=Xd(p[w],T[w]);if(C!==0)return C;const z=Qa(g[p[w]],_[T[w]]);if(z!==0)return z}return Ct(p.length,T.length)}(r.mapValue,t.mapValue);default:throw yt(23264,{le:n})}}function mv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const n=zr(r),s=zr(t),o=Ct(n.seconds,s.seconds);return o!==0?o:Ct(n.nanos,s.nanos)}function gv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Qa(n[o],s[o]);if(c)return c}return Ct(n.length,s.length)}function Ka(r){return $d(r)}function $d(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=zr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Br(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return dt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=$d(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${$d(n.fields[f])}`;return o+"}"}(r.mapValue):yt(61005,{value:r})}function Dc(r){switch(jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(r);return t?16+Dc(t):16;case 5:return 2*r.stringValue.length;case 6:return Br(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Dc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Fr(s.fields,(c,f)=>{o+=c.length+Dc(f)}),o}(r.mapValue);default:throw yt(13486,{value:r})}}function pv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Zd(r){return!!r&&"integerValue"in r}function Om(r){return!!r&&"arrayValue"in r}function yv(r){return!!r&&"nullValue"in r}function _v(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oc(r){return!!r&&"mapValue"in r}function SR(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[mE])===null||n===void 0?void 0:n.stringValue)===gE}function Al(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Fr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Al(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Al(r.arrayValue.values[n]);return t}return Object.assign({},r)}function bR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===AR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Oc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=g.popLast()}f?s[g.lastSegment()]=Al(f):o.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(t){const n=this.field(t.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Oc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Fr(n,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new on(Al(this.value))}}function pE(r){const t=[];return Fr(r.fields,(n,s)=>{const o=new qe([n]);if(Oc(s)){const c=pE(s.mapValue).fields;if(c.length===0)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)}),new yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,n,s,o,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,Tt.min(),Tt.min(),Tt.min(),on.empty(),0)}static newFoundDocument(t,n,s,o){return new $e(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new $e(t,2,n,Tt.min(),Tt.min(),on.empty(),0)}static newUnknownDocument(t,n){return new $e(t,3,n,Tt.min(),Tt.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n){this.position=t,this.inclusive=n}}function vv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],f=r.position[o];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(f.referenceValue),n.key):s=Qa(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ev(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n="asc"){this.field=t,this.dir=n}}function wR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{}class Te extends yE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new IR(t,n,s):n==="array-contains"?new OR(t,s):n==="in"?new NR(t,s):n==="not-in"?new VR(t,s):n==="array-contains-any"?new MR(t,s):new Te(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new CR(t,s):new DR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qa(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends yE{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new qn(t,n)}matches(t){return _E(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function _E(r){return r.op==="and"}function vE(r){return RR(r)&&_E(r)}function RR(r){for(const t of r.filters)if(t instanceof qn)return!1;return!0}function Jd(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+Ka(r.value);if(vE(r))return r.filters.map(t=>Jd(t)).join(",");{const t=r.filters.map(n=>Jd(n)).join(",");return`${r.op}(${t})`}}function EE(r,t){return r instanceof Te?function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)}(r,t):r instanceof qn?function(s,o){return o instanceof qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,g)=>c&&EE(f,o.filters[g]),!0):!1}(r,t):void yt(19439)}function TE(r){return r instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${Ka(n.value)}`}(r):r instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(TE).join(" ,")+"}"}(r):"Filter"}class IR extends Te{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class CR extends Te{constructor(t,n){super(t,"in",n),this.keys=AE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class DR extends Te{constructor(t,n){super(t,"not-in",n),this.keys=AE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function AE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>dt.fromName(s.referenceValue))}class OR extends Te{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Om(n)&&Nl(n.arrayValue,this.value)}}class NR extends Te{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Nl(this.value.arrayValue,n)}}class VR extends Te{constructor(t,n){super(t,"not-in",n)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nl(this.value.arrayValue,n)}}class MR extends Te{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Om(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Nl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,n=null,s=[],o=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=g,this.Pe=null}}function Tv(r,t=null,n=[],s=[],o=null,c=null,f=null){return new xR(r,t,n,s,o,c,f)}function Nm(r){const t=St(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Jd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),ah(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ka(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ka(s)).join(",")),t.Pe=n}return t.Pe}function Vm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!wR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!EE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Ev(r.startAt,t.startAt)&&Ev(r.endAt,t.endAt)}function Wd(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n=null,s=[],o=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function PR(r,t,n,s,o,c,f,g){return new ql(r,t,n,s,o,c,f,g)}function lh(r){return new ql(r)}function Av(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function SE(r){return r.collectionGroup!==null}function Sl(r){const t=St(r);if(t.Te===null){t.Te=[];const n=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ce(qe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Te.push(new Kc(c,s))}),n.has(qe.keyField().canonicalString())||t.Te.push(new Kc(qe.keyField(),s))}return t.Te}function ui(r){const t=St(r);return t.Ie||(t.Ie=kR(t,Sl(r))),t.Ie}function kR(r,t){if(r.limitType==="F")return Tv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Kc(o.field,c)});const n=r.endAt?new Qc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Qc(r.startAt.position,r.startAt.inclusive):null;return Tv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function tm(r,t){const n=r.filters.concat([t]);return new ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function em(r,t,n){return new ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function uh(r,t){return Vm(ui(r),ui(t))&&r.limitType===t.limitType}function bE(r){return`${Nm(ui(r))}|lt:${r.limitType}`}function Ma(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>TE(o)).join(", ")}]`),ah(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ka(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ka(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function ch(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of Sl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,g,p){const _=vv(f,g,p);return f.inclusive?_<=0:_<0}(s.startAt,Sl(s),o)||s.endAt&&!function(f,g,p){const _=vv(f,g,p);return f.inclusive?_>=0:_>0}(s.endAt,Sl(s),o))}(r,t)}function UR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wE(r){return(t,n)=>{let s=!1;for(const o of Sl(r)){const c=LR(o,t,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function LR(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Qa(p,_):yt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Fr(this.inner,(n,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new oe(dt.comparator);function Yi(){return zR}const RE=new oe(dt.comparator);function pl(...r){let t=RE;for(const n of r)t=t.insert(n.key,n);return t}function IE(r){let t=RE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Os(){return bl()}function CE(){return bl()}function bl(){return new Ls(r=>r.toString(),(r,t)=>r.isEqual(t))}const BR=new oe(dt.comparator),jR=new Ce(dt.comparator);function Pt(...r){let t=jR;for(const n of r)t=t.add(n);return t}const qR=new Ce(Ct);function HR(){return qR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function DE(r){return{integerValue:""+r}}function FR(r,t){return yR(t)?DE(t):Mm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function GR(r,t,n){return r instanceof Yc?function(o,c){const f={fields:{[hE]:{stringValue:cE},[dE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Dm(c)&&(c=oh(c)),c&&(f.fields[fE]=c),{mapValue:f}}(n,t):r instanceof Vl?NE(r,t):r instanceof Ml?VE(r,t):function(o,c){const f=OE(o,c),g=Sv(f)+Sv(o.Ee);return Zd(f)&&Zd(o.Ee)?DE(g):Mm(o.serializer,g)}(r,t)}function QR(r,t,n){return r instanceof Vl?NE(r,t):r instanceof Ml?VE(r,t):n}function OE(r,t){return r instanceof Xc?function(s){return Zd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Yc extends hh{}class Vl extends hh{constructor(t){super(),this.elements=t}}function NE(r,t){const n=ME(t);for(const s of r.elements)n.some(o=>di(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ml extends hh{constructor(t){super(),this.elements=t}}function VE(r,t){let n=ME(t);for(const s of r.elements)n=n.filter(o=>!di(o,s));return{arrayValue:{values:n}}}class Xc extends hh{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function Sv(r){return ge(r.integerValue||r.doubleValue)}function ME(r){return Om(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function KR(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Vl&&o instanceof Vl||s instanceof Ml&&o instanceof Ml?Ga(s.elements,o.elements,di):s instanceof Xc&&o instanceof Xc?di(s.Ee,o.Ee):s instanceof Yc&&o instanceof Yc}(r.transform,t.transform)}class YR{constructor(t,n){this.version=t,this.transformResults=n}}class jn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new jn}static exists(t){return new jn(void 0,t)}static updateTime(t){return new jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class fh{}function xE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new kE(r.key,jn.none()):new Hl(r.key,r.data,jn.none());{const n=r.data,s=on.empty();let o=new Ce(qe.comparator);for(let c of t.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Gr(r.key,s,new yn(o.toArray()),jn.none())}}function XR(r,t,n){r instanceof Hl?function(o,c,f){const g=o.value.clone(),p=wv(o.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Gr?function(o,c,f){if(!Nc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const g=wv(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(PE(o)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function wl(r,t,n,s){return r instanceof Hl?function(c,f,g,p){if(!Nc(c.precondition,f))return g;const _=c.value.clone(),T=Rv(c.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Gr?function(c,f,g,p){if(!Nc(c.precondition,f))return g;const _=Rv(c.fieldTransforms,p,f),T=f.data;return T.setAll(PE(c)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,t,n,s):function(c,f,g){return Nc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function $R(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=OE(s.transform,o||null);c!=null&&(n===null&&(n=on.empty()),n.set(s.field,c))}return n||null}function bv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ga(s,o,(c,f)=>KR(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Hl extends fh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gr extends fh{constructor(t,n,s,o,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function PE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function wv(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,g=t.data.field(c.field);s.set(c.field,QR(f,g,n[o]))}return s}function Rv(r,t,n){const s=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);s.set(o.field,GR(c,f,t))}return s}class kE extends fh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZR extends fh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&XR(c,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=wl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=wl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=CE();return this.mutations.forEach(o=>{const c=t.get(o.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(o.key)?null:g;const p=xE(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&Ga(this.mutations,t.mutations,(n,s)=>bv(n,s))&&Ga(this.baseMutations,t.baseMutations,(n,s)=>bv(n,s))}}class xm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=function(){return BR}();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new xm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,zt;function eI(r){switch(r){case K.OK:return yt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function UE(r){if(r===void 0)return Ki("GRPC error has no .code"),K.UNKNOWN;switch(r){case Ee.OK:return K.OK;case Ee.CANCELLED:return K.CANCELLED;case Ee.UNKNOWN:return K.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return K.INTERNAL;case Ee.UNAVAILABLE:return K.UNAVAILABLE;case Ee.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ee.NOT_FOUND:return K.NOT_FOUND;case Ee.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ee.ABORTED:return K.ABORTED;case Ee.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ee.DATA_LOSS:return K.DATA_LOSS;default:return yt(39323,{code:r})}}(zt=Ee||(Ee={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new xr([4294967295,4294967295],0);function Iv(r){const t=rE().encode(r),n=new $0;return n.update(t),new Uint8Array(n.digest())}function Cv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new xr([n,s],0),new xr([o,c],0)]}class Pm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yl(`Invalid padding: ${n}`);if(s<0)throw new yl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new yl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=xr.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(xr.fromNumber(s)));return o.compare(nI)===1&&(o=new xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=Iv(t),[s,o]=Cv(n);for(let c=0;c<this.hashCount;c++){const f=this.pe(s,o,c);if(!this.ye(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Pm(c,o,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.fe===0)return;const n=Iv(t),[s,o]=Cv(n);for(let c=0;c<this.hashCount;c++){const f=this.pe(s,o,c);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,n,s,o,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new dh(Tt.min(),o,new oe(Ct),Yi(),Pt())}}class Fl{constructor(t,n,s,o,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Fl(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class LE{constructor(t,n){this.targetId=t,this.De=n}}class zE{constructor(t,n,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Dv{constructor(){this.ve=0,this.Ce=Ov(),this.Fe=Fe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Pt(),n=Pt(),s=Pt();return this.Ce.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:c})}}),new Fl(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=Ov()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class iI{constructor(t){this.We=t,this.Ge=new Map,this.ze=Yi(),this.je=Ac(),this.Je=Ac(),this.He=new oe(Ct)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:yt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const c=o.target;if(Wd(c))if(s===0){const f=new dt(c.path);this.Xe(n,f,$e.newNoDocument(f,Tt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const g=this._t(t),p=g?this.ut(g,t,f):1;if(p!==0){this.rt(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,_)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,g;try{f=Br(s).toUint8Array()}catch(p){if(p instanceof uE)return Ur("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Pm(f,o,c)}catch(p){return Ur(p instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.fe===0?null:g}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(c=>{const f=this.We.lt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Xe(n,c,null),o++)}),o}Pt(t){const n=new Map;this.Ge.forEach((c,f)=>{const g=this.st(f);if(g){if(c.current&&Wd(g.target)){const p=new dt(g.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,$e.newNoDocument(p,t))}c.Ne&&(n.set(f,c.Le()),c.ke())}});let s=Pt();this.Je.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const _=this.st(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ze.forEach((c,f)=>f.setReadTime(t));const o=new dh(t,n,this.He,this.ze,s);return this.ze=Yi(),this.je=Ac(),this.Je=Ac(),this.He=new oe(Ct),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new Dv,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Ce(Ct),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Ce(Ct),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new Dv),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function Ac(){return new oe(dt.comparator)}function Ov(){return new oe(dt.comparator)}const rI={asc:"ASCENDING",desc:"DESCENDING"},sI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aI={and:"AND",or:"OR"};class oI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function nm(r,t){return r.useProto3Json||ah(t)?t:{value:t}}function $c(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function lI(r,t){return $c(r,t.toTimestamp())}function ci(r){return Ft(!!r,49232),Tt.fromTimestamp(function(n){const s=zr(n);return new ie(s.seconds,s.nanos)}(r))}function km(r,t){return im(r,t).canonicalString()}function im(r,t){const n=function(o){return new ne(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function jE(r){const t=ne.fromString(r);return Ft(QE(t),10190,{key:t.toString()}),t}function rm(r,t){return km(r.databaseId,t.path)}function kd(r,t){const n=jE(t);if(n.get(1)!==r.databaseId.projectId)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(HE(n))}function qE(r,t){return km(r.databaseId,t)}function uI(r){const t=jE(r);return t.length===4?ne.emptyPath():HE(t)}function sm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function HE(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Nv(r,t,n){return{name:rm(r,t),fields:n.value.mapValue.fields}}function cI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(_,T){return _.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Fe.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Fe.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(_){const T=_.code===void 0?K.UNKNOWN:UE(_.code);return new it(T,_.message||"")}(f);n=new zE(s,o,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=kd(r,s.document.name),c=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):Tt.min(),g=new on({mapValue:{fields:s.document.fields}}),p=$e.newFoundDocument(o,c,f,g),_=s.targetIds||[],T=s.removedTargetIds||[];n=new Vc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=kd(r,s.document),c=s.readTime?ci(s.readTime):Tt.min(),f=$e.newNoDocument(o,c),g=s.removedTargetIds||[];n=new Vc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=kd(r,s.document),c=s.removedTargetIds||[];n=new Vc([],c,o,null)}else{if(!("filter"in t))return yt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new tI(o,c),g=s.targetId;n=new LE(g,f)}}return n}function hI(r,t){let n;if(t instanceof Hl)n={update:Nv(r,t.key,t.value)};else if(t instanceof kE)n={delete:rm(r,t.key)};else if(t instanceof Gr)n={update:Nv(r,t.key,t.data),updateMask:EI(t.fieldMask)};else{if(!(t instanceof ZR))return yt(16599,{Rt:t.type});n={verify:rm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof Yc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Vl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ml)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Xc)return{fieldPath:f.field.canonicalString(),increment:g.Ee};throw yt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:lI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)}(r,t.precondition)),n}function fI(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map(n=>function(o,c){let f=o.updateTime?ci(o.updateTime):ci(c);return f.isEqual(Tt.min())&&(f=ci(c)),new YR(f,o.transformResults||[])}(n,t))):[]}function dI(r,t){return{documents:[qE(r,t.path)]}}function mI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qE(r,o);const c=function(_){if(_.length!==0)return GE(qn.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(T=>function(C){return{field:xa(C.field),direction:yI(C.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=nm(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{Vt:n,parent:o}}function gI(r){let t=uI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(w){const C=FE(w);return C instanceof qn&&vE(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(C=>function(H){return new Kc(Pa(H.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(C))}(n.orderBy));let g=null;n.limit&&(g=function(w){let C;return C=typeof w=="object"?w.value:w,ah(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(w){const C=!!w.before,z=w.values||[];return new Qc(z,C)}(n.startAt));let _=null;return n.endAt&&(_=function(w){const C=!w.before,z=w.values||[];return new Qc(z,C)}(n.endAt)),PR(t,o,f,c,g,"F",p,_)}function pI(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function FE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Pa(n.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Pa(n.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Pa(n.unaryFilter.field);return Te.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Pa(n.unaryFilter.field);return Te.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Te.create(Pa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(s=>FE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(n.compositeFilter.op))}(r):yt(30097,{filter:r})}function yI(r){return rI[r]}function _I(r){return sI[r]}function vI(r){return aI[r]}function xa(r){return{fieldPath:r.canonicalString()}}function Pa(r){return qe.fromServerFormat(r.fieldPath)}function GE(r){return r instanceof Te?function(n){if(n.op==="=="){if(_v(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NAN"}};if(yv(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_v(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NAN"}};if(yv(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(n.field),op:_I(n.op),value:n.value}}}(r):r instanceof qn?function(n){const s=n.getFilters().map(o=>GE(o));return s.length===1?s[0]:{compositeFilter:{op:vI(n.op),filters:s}}}(r):yt(54877,{filter:r})}function EI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function QE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,n,s,o,c=Tt.min(),f=Tt.min(),g=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t){this.gt=t}}function AI(r){const t=gI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?em(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.Dn=new bI}addToCollectionParentIndex(t,n){return this.Dn.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve(Lr.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve(Lr.min())}updateCollectionGroup(t,n,s){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class bI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ce(ne.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KE=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(KE,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ya(0)}static ur(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LruGarbageCollector",wI=1048576;function xv([r,t],[n,s]){const o=Ct(r,n);return o===0?Ct(t,s):o}class RI{constructor(t){this.Tr=t,this.buffer=new Ce(xv),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();xv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class II{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){rt(Mv,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eo(n)?rt(Mv,"Ignoring IndexedDB error during garbage collection: ",n):await to(n)}await this.Rr(3e5)})}}class CI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return X.resolve(sh.ue);const s=new RI(n);return this.Vr.forEachTarget(t,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(t,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Vv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vv):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,c,f,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(s=w,g=Date.now(),this.removeTargets(t,s,n))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(w=>(_=Date.now(),Va()<=xt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function DI(r,t){return new CI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.changes=new Ls(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&wl(s.mutation,o,yn.empty(),ie.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Pt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Pt()){const o=Os();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(c=>{let f=pl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Os();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Pt()))}populateOverlays(t,n,s){const o=[];return s.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,o){let c=Yi();const f=bl(),g=function(){return bl()}();return n.forEach((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Gr)?c=c.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),wl(T.mutation,_,T.mutation.getFieldMask(),ie.now())):f.set(_.key,yn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var w;return g.set(_,new NI(T,(w=f.get(_))!==null&&w!==void 0?w:null))}),g))}recalculateAndSaveOverlays(t,n){const s=bl();let o=new oe((f,g)=>f-g),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||yn.empty();T=g.applyToLocalView(_,T),s.set(p,T);const w=(o.get(g.batchId)||Pt()).add(p);o=o.insert(g.batchId,w)})}).next(()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,w=CE();T.forEach(C=>{if(!c.has(C)){const z=xE(n.get(C),s.get(C));z!==null&&w.set(C,z),c=c.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(t,_,w))}return X.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return dt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):SE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-c.size):X.resolve(Os());let g=Cl,p=c;return f.next(_=>X.forEach(_,(T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(t,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Pt())).next(T=>({batchId:g,changes:IE(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next(s=>{let o=pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const c=n.collectionGroup;let f=pl();return this.indexManager.getCollectionParents(t,c).next(g=>X.forEach(g,p=>{const _=function(w,C){return new ql(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,o).next(T=>{T.forEach((w,C)=>{f=f.insert(w,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,o))).next(f=>{c.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,$e.newInvalidDocument(T)))});let g=pl();return f.forEach((p,_)=>{const T=c.get(p);T!==void 0&&wl(T.mutation,_,yn.empty(),ie.now()),ch(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return X.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(n)),X.resolve()}getNamedQuery(t,n){return X.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:AI(o.bundledQuery),readTime:ci(o.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.overlays=new oe(dt.comparator),this.kr=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Os();return X.forEach(n,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,c)=>{this.wt(t,n,c)}),X.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),X.resolve()}getOverlaysForCollection(t,n,s){const o=Os(),c=n.length+1,f=new dt(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let c=new oe((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=Os(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Os(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=o)););return X.resolve(g)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new WR(n,s));let c=this.kr.get(n);c===void 0&&(c=Pt(),this.kr.set(n,c)),this.kr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.qr=new Ce(Pe.Qr),this.$r=new Ce(Pe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Wr(new Pe(t,n))}Gr(t,n){t.forEach(s=>this.removeReference(s,n))}zr(t){const n=new dt(new ne([])),s=new Pe(n,t),o=new Pe(n,t+1),c=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),c.push(f.key)}),c}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new dt(new ne([])),s=new Pe(n,t),o=new Pe(n,t+1);let c=Pt();return this.$r.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Pe(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return dt.comparator(t.key,n.key)||Ct(t.Hr,n.Hr)}static Ur(t,n){return Ct(t.Hr,n.Hr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ce(Pe.Qr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new JR(c,n,s,o);this.mutationQueue.push(f);for(const g of o)this.Yr=this.Yr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(f)}lookupMutationBatch(t,n){return X.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Cm:this.er-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,o],f=>{const g=this.Zr(f.Hr);c.push(g)}),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ce(Ct);return n.forEach(o=>{const c=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,f],g=>{s=s.add(g.Hr)})}),X.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const f=new Pe(new dt(c),0);let g=new Ce(Ct);return this.Yr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(p.Hr)),!0)},f),X.resolve(this.ei(g))}ei(t){const n=[];return t.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ft(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return X.forEach(n.mutations,o=>{const c=new Pe(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,n){const s=new Pe(n,0),o=this.Yr.firstAfterOrEqual(s);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t){this.ni=t,this.docs=function(){return new oe(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(t,n){let s=Yi();return n.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():$e.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let c=Yi();const f=n.path,g=new dt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||dR(fR(T),s)<=0||(o.has(T.key)||ch(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,n,s,o){yt(9500)}ri(t,n){return X.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new LI(this)}getSize(t){return X.resolve(this.size)}}class LI extends OI{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)}),X.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.persistence=t,this.ii=new Ls(n=>Nm(n),Vm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.si=0,this.oi=new Um,this.targetCount=0,this._i=Ya.ar()}forEachTarget(t,n){return this.ii.forEach((s,o)=>n(o)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),X.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Ya(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.hr(n),X.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,s){let o=0;const c=[];return this.ii.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ii.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),X.waitFor(c).next(()=>o)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return X.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),X.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(f=>{c.push(o.markPotentiallyOrphaned(t,f))}),X.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),X.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return X.resolve(s)}containsKey(t,n){return X.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,n){this.ai={},this.overlays={},this.ui=new sh(0),this.ci=!1,this.ci=!0,this.li=new PI,this.referenceDelegate=t(this),this.hi=new zI(this),this.indexManager=new SI,this.remoteDocumentCache=function(o){return new UI(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new TI(n),this.Ti=new MI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new xI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new kI(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const o=new BI(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(t,n){return X.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,n)))}}class BI extends gR{constructor(t){super(),this.currentSequenceNumber=t}}class Lm{constructor(t){this.persistence=t,this.Ai=new Um,this.Ri=null}static Vi(t){return new Lm(t)}get mi(){if(this.Ri)return this.Ri;throw yt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),X.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),X.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.mi,s=>{const o=dt.fromPath(s);return this.fi(t,o).next(c=>{c||n.removeEntry(o,Tt.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return X.or([()=>X.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Zc{constructor(t,n){this.persistence=t,this.gi=new Ls(s=>_R(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=DI(this,n)}static Vi(t,n){return new Zc(t,n)}Ii(){}di(t){return X.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}yr(t){let n=0;return this.gr(t,s=>{n++}).next(()=>n)}gr(t,n){return X.forEach(this.gi,(s,o)=>this.Sr(t,s,o).next(c=>c?X.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(t,f=>this.Sr(t,f,n).next(g=>{g||(s++,c.removeEntry(f,Tt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),X.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),X.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Dc(t.data.value)),n}Sr(t,n,s){return X.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Pt(),o=Pt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new zm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return xS()?8:pR(Ze())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const c={result:null};return this.ps(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ys(t,n,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new jI;return this.ws(t,n,f).next(g=>{if(c.result=g,this.Rs)return this.Ss(t,n,f,g.size)})}).next(()=>c.result)}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(Va()<=xt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Va()<=xt.DEBUG&&rt("QueryEngine","Query:",Ma(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Va()<=xt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ui(n))):X.resolve())}ps(t,n){if(Av(n))return X.resolve(null);let s=ui(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=em(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Pt(...c);return this.gs.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.bs(n,g);return this.Ds(n,_,f,p.readTime)?this.ps(t,em(n,null,"F")):this.vs(t,_,n,p)}))})))}ys(t,n,s,o){return Av(n)||o.isEqual(Tt.min())?X.resolve(null):this.gs.getDocuments(t,s).next(c=>{const f=this.bs(n,c);return this.Ds(n,f,s,o)?X.resolve(null):(Va()<=xt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ma(n)),this.vs(t,f,n,hR(o,Cl)).next(g=>g))})}bs(t,n){let s=new Ce(wE(t));return n.forEach((o,c)=>{ch(t,c)&&(s=s.add(c))}),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(t,n,s){return Va()<=xt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.gs.getDocumentsMatchingQuery(t,n,Lr.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="LocalStore",HI=3e8;class FI{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new oe(Ct),this.Ms=new Ls(c=>Nm(c),Vm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function GI(r,t,n,s){return new FI(r,t,n,s)}async function XE(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,n.Ns(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Pt();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Bs:_,removedBatchIds:f,addedBatchIds:g}))})})}function QI(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=n.Os.newChangeBuffer({trackRemovals:!0});return function(g,p,_,T){const w=_.batch,C=w.keys();let z=X.resolve();return C.forEach(H=>{z=z.next(()=>T.getEntry(p,H)).next(J=>{const $=_.docVersions.get(H);Ft($!==null,48541),J.version.compareTo($)<0&&(w.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),T.addEntry(J)))})}),z.next(()=>g.mutationQueue.removeMutationBatch(p,w))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Pt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function $E(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function KI(r,t){const n=St(r),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const g=[];t.targetChanges.forEach((T,w)=>{const C=o.get(w);if(!C)return;g.push(n.hi.removeMatchingKeys(c,T.removedDocuments,w).next(()=>n.hi.addMatchingKeys(c,T.addedDocuments,w)));let z=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?z=z.withResumeToken(Fe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,s)),o=o.insert(w,z),function(J,$,ut){return J.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=HI?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0}(C,z,T)&&g.push(n.hi.updateTargetData(c,z))});let p=Yi(),_=Pt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(YI(c,f,t.documentUpdates).next(T=>{p=T.Ls,_=T.ks})),!s.isEqual(Tt.min())){const T=n.hi.getLastRemoteSnapshotVersion(c).next(w=>n.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return X.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Fs=o,c))}function YI(r,t,n){let s=Pt(),o=Pt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Yi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):rt(Bm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{Ls:f,ks:o}})}function XI(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Cm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function $I(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,t).next(c=>c?(o=c,X.resolve(o)):n.hi.allocateTargetId(s).next(f=>(o=new Or(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s})}async function am(r,t,n){const s=St(r),o=s.Fs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!eo(f))throw f;rt(Bm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function Pv(r,t,n){const s=St(r);let o=Tt.min(),c=Pt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const w=St(p),C=w.Ms.get(T);return C!==void 0?X.resolve(w.Fs.get(C)):w.hi.getTargetData(_,T)}(s,f,ui(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?c:Pt())).next(g=>(ZI(s,UR(t),g),{documents:g,qs:c})))}function ZI(r,t,n){let s=r.xs.get(t)||Tt.min();n.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.xs.set(t,s)}class kv{constructor(){this.activeTargetIds=HR()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JI{constructor(){this.Fo=new kv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new kv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="ConnectivityMonitor";class Lv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){rt(Uv,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){rt(Uv,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function om(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="RestConnection",t2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e2{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Fc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,c){const f=om(),g=this.Go(t,n.toUriEncodedString());rt(Ud,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,c);const{host:_}=new URL(g),T=$a(_);return this.jo(t,g,p,s,T).then(w=>(rt(Ud,`Received RPC '${t}' ${f}: `,w),w),w=>{throw Ur(Ud,`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",s),w})}Jo(t,n,s,o,c,f){return this.Wo(t,n,s,o,c)}zo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}Go(t,n){const s=t2[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class i2 extends e2{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,c){const f=om();return new Promise((g,p)=>{const _=new Z0;_.setWithCredentials(!0),_.listenOnce(J0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Cc.NO_ERROR:const w=_.getResponseJson();rt(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(w)),g(w);break;case Cc.TIMEOUT:rt(Ye,`RPC '${t}' ${f} timed out`),p(new it(K.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const C=_.getStatus();if(rt(Ye,`RPC '${t}' ${f} failed with status:`,C,"response text:",_.getResponseText()),C>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const H=z?.error;if(H&&H.status&&H.message){const J=function(ut){const lt=ut.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(lt)>=0?lt:K.UNKNOWN}(H.status);p(new it(J,H.message))}else p(new it(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new it(K.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{c_:t,streamId:f,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{rt(Ye,`RPC '${t}' ${f} completed.`)}});const T=JSON.stringify(o);rt(Ye,`RPC '${t}' ${f} sending request:`,o),_.send(n,"POST",T,s,15)})}P_(t,n,s){const o=om(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=eE(),g=tE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");rt(Ye,`Creating RPC '${t}' stream ${o}: ${T}`,p);const w=f.createWebChannel(T,p);this.T_(w);let C=!1,z=!1;const H=new n2({Ho:$=>{z?rt(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(C||(rt(Ye,`Opening RPC '${t}' stream ${o} transport.`),w.open(),C=!0),rt(Ye,`RPC '${t}' stream ${o} sending:`,$),w.send($))},Yo:()=>w.close()}),J=($,ut,lt)=>{$.listen(ut,st=>{try{lt(st)}catch(bt){setTimeout(()=>{throw bt},0)}})};return J(w,gl.EventType.OPEN,()=>{z||(rt(Ye,`RPC '${t}' stream ${o} transport opened.`),H.s_())}),J(w,gl.EventType.CLOSE,()=>{z||(z=!0,rt(Ye,`RPC '${t}' stream ${o} transport closed`),H.__(),this.I_(w))}),J(w,gl.EventType.ERROR,$=>{z||(z=!0,Ur(Ye,`RPC '${t}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),H.__(new it(K.UNAVAILABLE,"The operation could not be completed")))}),J(w,gl.EventType.MESSAGE,$=>{var ut;if(!z){const lt=$.data[0];Ft(!!lt,16349);const st=lt,bt=st?.error||((ut=st[0])===null||ut===void 0?void 0:ut.error);if(bt){rt(Ye,`RPC '${t}' stream ${o} received error:`,bt);const ct=bt.status;let wt=function(I){const N=Ee[I];if(N!==void 0)return UE(N)}(ct),V=bt.message;wt===void 0&&(wt=K.INTERNAL,V="Unknown error status: "+ct+" with message "+bt.message),z=!0,H.__(new it(wt,V)),w.close()}else rt(Ye,`RPC '${t}' stream ${o} received:`,lt),H.a_(lt)}}),J(g,W0.STAT_EVENT,$=>{$.stat===Yd.PROXY?rt(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):$.stat===Yd.NOPROXY&&rt(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.o_()},0),H}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function Ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r){return new oI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,n,s=1e3,o=1.5,c=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="PersistentStream";class JE{constructor(t,n,s,o,c,f,g,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ZE(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Ki(n.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{t(()=>{const o=new it(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return rt(zv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(rt(zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r2 extends JE{constructor(t,n,s,o,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=cI(this.serializer,t),s=function(c){if(!("targetChange"in c))return Tt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?ci(f.readTime):Tt.min()}(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=sm(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=Wd(p)?{documents:dI(c,p)}:{query:mI(c,p).Vt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=BE(c,f.resumeToken);const _=nm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(Tt.min())>0){g.readTime=$c(c,f.snapshotVersion.toTimestamp());const _=nm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=pI(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=sm(this.serializer),n.removeTarget=t,this.k_(n)}}class s2 extends JE{constructor(t,n,s,o,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=fI(t.writeResults,t.commitTime),s=ci(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=sm(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>hI(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{}class o2 extends a2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Wo(t,im(n,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(K.UNKNOWN,c.toString())})}Jo(t,n,s,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Jo(t,im(n,s),o,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new it(K.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class l2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ki(n),this._a=!1):rt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class u2{constructor(t,n,s,o,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{zs(this)&&(rt(ks,"Restarting streams for network reachability change."),await async function(p){const _=St(p);_.Ia.add(4),await Gl(_),_.Aa.set("Unknown"),_.Ia.delete(4),await gh(_)}(this))})}),this.Aa=new l2(s,o)}}async function gh(r){if(zs(r))for(const t of r.da)await t(!0)}async function Gl(r){for(const t of r.da)await t(!1)}function WE(r,t){const n=St(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Fm(n)?Hm(n):no(n).x_()&&qm(n,t))}function jm(r,t){const n=St(r),s=no(n);n.Ta.delete(t),s.x_()&&tT(n,t),n.Ta.size===0&&(s.x_()?s.B_():zs(n)&&n.Aa.set("Unknown"))}function qm(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}no(r).H_(t)}function tT(r,t){r.Ra.$e(t),no(r).Y_(t)}function Hm(r){r.Ra=new iI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),no(r).start(),r.Aa.aa()}function Fm(r){return zs(r)&&!no(r).M_()&&r.Ta.size>0}function zs(r){return St(r).Ia.size===0}function eT(r){r.Ra=void 0}async function c2(r){r.Aa.set("Online")}async function h2(r){r.Ta.forEach((t,n)=>{qm(r,t)})}async function f2(r,t){eT(r),Fm(r)?(r.Aa.la(t),Hm(r)):r.Aa.set("Unknown")}async function d2(r,t,n){if(r.Aa.set("Online"),t instanceof zE&&t.state===2&&t.cause)try{await async function(o,c){const f=c.cause;for(const g of c.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ta.delete(g),o.Ra.removeTarget(g))}(r,t)}catch(s){rt(ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Jc(r,s)}else if(t instanceof Vc?r.Ra.Ye(t):t instanceof LE?r.Ra.it(t):r.Ra.et(t),!n.isEqual(Tt.min()))try{const s=await $E(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.Ra.Pt(f);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ta.get(_);T&&c.Ta.set(_,T.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,_)=>{const T=c.Ta.get(p);if(!T)return;c.Ta.set(p,T.withResumeToken(Fe.EMPTY_BYTE_STRING,T.snapshotVersion)),tT(c,p);const w=new Or(T.target,p,_,T.sequenceNumber);qm(c,w)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){rt(ks,"Failed to raise snapshot:",s),await Jc(r,s)}}async function Jc(r,t,n){if(!eo(t))throw t;r.Ia.add(1),await Gl(r),r.Aa.set("Offline"),n||(n=()=>$E(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{rt(ks,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await gh(r)})}function nT(r,t){return t().catch(n=>Jc(r,n,t))}async function ph(r){const t=St(r),n=qr(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Cm;for(;m2(t);)try{const o=await XI(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,g2(t,o)}catch(o){await Jc(t,o)}iT(t)&&rT(t)}function m2(r){return zs(r)&&r.Pa.length<10}function g2(r,t){r.Pa.push(t);const n=qr(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function iT(r){return zs(r)&&!qr(r).M_()&&r.Pa.length>0}function rT(r){qr(r).start()}async function p2(r){qr(r).na()}async function y2(r){const t=qr(r);for(const n of r.Pa)t.X_(n.mutations)}async function _2(r,t,n){const s=r.Pa.shift(),o=xm.from(s,t,n);await nT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await ph(r)}async function v2(r,t){t&&qr(r).Z_&&await async function(s,o){if(function(f){return eI(f)&&f!==K.ABORTED}(o.code)){const c=s.Pa.shift();qr(s).N_(),await nT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await ph(s)}}(r,t),iT(r)&&rT(r)}async function Bv(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),rt(ks,"RemoteStore received new credentials");const s=zs(n);n.Ia.add(3),await Gl(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await gh(n)}async function E2(r,t){const n=St(r);t?(n.Ia.delete(2),await gh(n)):t||(n.Ia.add(2),await Gl(n),n.Aa.set("Unknown"))}function no(r){return r.Va||(r.Va=function(n,s,o){const c=St(n);return c.ia(),new r2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Zo:c2.bind(null,r),e_:h2.bind(null,r),n_:f2.bind(null,r),J_:d2.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Fm(r)?Hm(r):r.Aa.set("Unknown")):(await r.Va.stop(),eT(r))})),r.Va}function qr(r){return r.ma||(r.ma=function(n,s,o){const c=St(n);return c.ia(),new s2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:p2.bind(null,r),n_:v2.bind(null,r),ea:y2.bind(null,r),ta:_2.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await ph(r)):(await r.ma.stop(),r.Pa.length>0&&(rt(ks,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,n,s,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,c){const f=Date.now()+s,g=new Gm(t,n,f,o,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(r,t){if(Ki("AsyncQueue",`${t}: ${r}`),eo(r))return new it(K.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=pl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ba;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.fa=new oe(dt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):yt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Xa{constructor(t,n,s,o,c,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,o,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Xa(t,n,Ba.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class A2{constructor(){this.queries=qv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=St(n),c=o.queries;o.queries=qv(),c.forEach((f,g)=>{for(const p of g.wa)p.onError(s)})})(this,new it(K.ABORTED,"Firestore shutting down"))}}function qv(){return new Ls(r=>bE(r),uh)}async function sT(r,t){const n=St(r);let s=3;const o=t.query;let c=n.queries.get(o);c?!c.Sa()&&t.ba()&&(s=2):(c=new T2,s=t.ba()?0:1);try{switch(s){case 0:c.ya=await n.onListen(o,!0);break;case 1:c.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=Qm(f,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(g)}n.queries.set(o,c),c.wa.push(t),t.va(n.onlineState),c.ya&&t.Ca(c.ya)&&Km(n)}async function aT(r,t){const n=St(r),s=t.query;let o=3;const c=n.queries.get(s);if(c){const f=c.wa.indexOf(t);f>=0&&(c.wa.splice(f,1),c.wa.length===0?o=t.ba()?0:1:!c.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function S2(r,t){const n=St(r);let s=!1;for(const o of t){const c=o.query,f=n.queries.get(c);if(f){for(const g of f.wa)g.Ca(o)&&(s=!0);f.ya=o}}s&&Km(n)}function b2(r,t,n){const s=St(r),o=s.queries.get(t);if(o)for(const c of o.wa)c.onError(n);s.queries.delete(t)}function Km(r){r.Da.forEach(t=>{t.next()})}var lm,Hv;(Hv=lm||(lm={})).Fa="default",Hv.Cache="cache";class oT{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Xa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t){this.key=t}}class uT{constructor(t){this.key=t}}class w2{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pt(),this.mutatedKeys=Pt(),this.Xa=wE(t),this.eu=new Ba(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new jv,o=n?n.eu:this.eu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,w)=>{const C=o.get(T),z=ch(this.query,w)?w:null,H=!!C&&this.mutatedKeys.has(C.key),J=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let $=!1;C&&z?C.data.isEqual(z.data)?H!==J&&(s.track({type:3,doc:z}),$=!0):this.iu(C,z)||(s.track({type:2,doc:z}),$=!0,(p&&this.Xa(z,p)>0||_&&this.Xa(z,_)<0)&&(g=!0)):!C&&z?(s.track({type:0,doc:z}),$=!0):C&&!z&&(s.track({type:1,doc:C}),$=!0,(p||_)&&(g=!0)),$&&(z?(f=f.add(z),c=J?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{eu:f,ru:s,Ds:g,mutatedKeys:c}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const c=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort((T,w)=>function(z,H){const J=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{At:$})}};return J(z)-J(H)}(T.type,w.type)||this.Xa(T.doc,w.doc)),this.su(s),o=o!=null&&o;const g=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,_=p!==this.Ya;return this.Ya=p,f.length!==0||_?{snapshot:new Xa(this.query,t.eu,c,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new jv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Pt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return t.forEach(s=>{this.Za.has(s)||n.push(new uT(s))}),this.Za.forEach(s=>{t.has(s)||n.push(new lT(s))}),n}uu(t){this.Ha=t.qs,this.Za=Pt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Xa.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ym="SyncEngine";class R2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class I2{constructor(t){this.key=t,this.lu=!1}}class C2{constructor(t,n,s,o,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Ls(g=>bE(g),uh),this.Tu=new Map,this.Iu=new Set,this.du=new oe(dt.comparator),this.Eu=new Map,this.Au=new Um,this.Ru={},this.Vu=new Map,this.mu=Ya.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function D2(r,t,n=!0){const s=gT(r);let o;const c=s.Pu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await cT(s,t,n,!0),o}async function O2(r,t){const n=gT(r);await cT(n,t,!0,!1)}async function cT(r,t,n,s){const o=await $I(r.localStore,ui(t)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await N2(r,t,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&WE(r.remoteStore,o),g}async function N2(r,t,n,s,o){r.gu=(w,C,z)=>async function(J,$,ut,lt){let st=$.view.nu(ut);st.Ds&&(st=await Pv(J.localStore,$.query,!1).then(({documents:V})=>$.view.nu(V,st)));const bt=lt&&lt.targetChanges.get($.targetId),ct=lt&&lt.targetMismatches.get($.targetId)!=null,wt=$.view.applyChanges(st,J.isPrimaryClient,bt,ct);return Gv(J,$.targetId,wt._u),wt.snapshot}(r,w,C,z);const c=await Pv(r.localStore,t,!0),f=new w2(t,c.qs),g=f.nu(c.documents),p=Fl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(g,r.isPrimaryClient,p);Gv(r,n,_._u);const T=new R2(t,n,f);return r.Pu.set(t,T),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),_.snapshot}async function V2(r,t,n){const s=St(r),o=s.Pu.get(t),c=s.Tu.get(o.targetId);if(c.length>1)return s.Tu.set(o.targetId,c.filter(f=>!uh(f,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await am(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&jm(s.remoteStore,o.targetId),um(s,o.targetId)}).catch(to)):(um(s,o.targetId),await am(s.localStore,o.targetId,!0))}async function M2(r,t){const n=St(r),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jm(n.remoteStore,s.targetId))}async function x2(r,t,n){const s=j2(r);try{const o=await function(f,g){const p=St(f),_=ie.now(),T=g.reduce((z,H)=>z.add(H.key),Pt());let w,C;return p.persistence.runTransaction("Locally write mutations","readwrite",z=>{let H=Yi(),J=Pt();return p.Os.getEntries(z,T).next($=>{H=$,H.forEach((ut,lt)=>{lt.isValidDocument()||(J=J.add(ut))})}).next(()=>p.localDocuments.getOverlayedDocuments(z,H)).next($=>{w=$;const ut=[];for(const lt of g){const st=$R(lt,w.get(lt.key).overlayedDocument);st!=null&&ut.push(new Gr(lt.key,st,pE(st.value.mapValue),jn.exists(!0)))}return p.mutationQueue.addMutationBatch(z,_,ut,g)}).next($=>{C=$;const ut=$.applyToLocalDocumentSet(w,J);return p.documentOverlayCache.saveOverlays(z,$.batchId,ut)})}).then(()=>({batchId:C.batchId,changes:IE(w)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,g,p){let _=f.Ru[f.currentUser.toKey()];_||(_=new oe(Ct)),_=_.insert(g,p),f.Ru[f.currentUser.toKey()]=_}(s,o.batchId,n),await Ql(s,o.changes),await ph(s.remoteStore)}catch(o){const c=Qm(o,"Failed to persist write");n.reject(c)}}async function hT(r,t){const n=St(r);try{const s=await KI(n.localStore,t);t.targetChanges.forEach((o,c)=>{const f=n.Eu.get(c);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Ft(f.lu,14607):o.removedDocuments.size>0&&(Ft(f.lu,42227),f.lu=!1))}),await Ql(n,s,t)}catch(s){await to(s)}}function Fv(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((c,f)=>{const g=f.view.va(t);g.snapshot&&o.push(g.snapshot)}),function(f,g){const p=St(f);p.onlineState=g;let _=!1;p.queries.forEach((T,w)=>{for(const C of w.wa)C.va(g)&&(_=!0)}),_&&Km(p)}(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function P2(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),c=o&&o.key;if(c){let f=new oe(dt.comparator);f=f.insert(c,$e.newNoDocument(c,Tt.min()));const g=Pt().add(c),p=new dh(Tt.min(),new Map,new oe(Ct),f,g);await hT(s,p),s.du=s.du.remove(c),s.Eu.delete(t),Xm(s)}else await am(s.localStore,t,!1).then(()=>um(s,t,n)).catch(to)}async function k2(r,t){const n=St(r),s=t.batch.batchId;try{const o=await QI(n.localStore,t);dT(n,s,null),fT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ql(n,o)}catch(o){await to(o)}}async function U2(r,t,n){const s=St(r);try{const o=await function(f,g){const p=St(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next(w=>(Ft(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(_,w))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,t);dT(s,t,n),fT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ql(s,o)}catch(o){await to(o)}}function fT(r,t){(r.Vu.get(t)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(t)}function dT(r,t,n){const s=St(r);let o=s.Ru[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(n?c.reject(n):c.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function um(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||mT(r,s)})}function mT(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(jm(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),Xm(r))}function Gv(r,t,n){for(const s of n)s instanceof lT?(r.Au.addReference(s.key,t),L2(r,s)):s instanceof uT?(rt(Ym,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||mT(r,s.key)):yt(19791,{yu:s})}function L2(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(rt(Ym,"New document in limbo: "+n),r.Iu.add(s),Xm(r))}function Xm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new dt(ne.fromString(t)),s=r.mu.next();r.Eu.set(s,new I2(n)),r.du=r.du.insert(n,s),WE(r.remoteStore,new Or(ui(lh(n.path)),s,"TargetPurposeLimboResolution",sh.ue))}}async function Ql(r,t,n){const s=St(r),o=[],c=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((g,p)=>{f.push(s.gu(p,t,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const w=_?!_.fromCache:(T=n?.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(_){o.push(_);const w=zm.Es(p.targetId,_);c.push(w)}}))}),await Promise.all(f),s.hu.J_(o),await async function(p,_){const T=St(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>X.forEach(_,C=>X.forEach(C.Is,z=>T.persistence.referenceDelegate.addReference(w,C.targetId,z)).next(()=>X.forEach(C.ds,z=>T.persistence.referenceDelegate.removeReference(w,C.targetId,z)))))}catch(w){if(!eo(w))throw w;rt(Bm,"Failed to update sequence numbers: "+w)}for(const w of _){const C=w.targetId;if(!w.fromCache){const z=T.Fs.get(C),H=z.snapshotVersion,J=z.withLastLimboFreeSnapshotVersion(H);T.Fs=T.Fs.insert(C,J)}}}(s.localStore,c))}async function z2(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){rt(Ym,"User change. New user:",t.toKey());const s=await XE(n.localStore,t);n.currentUser=t,function(c,f){c.Vu.forEach(g=>{g.forEach(p=>{p.reject(new it(K.CANCELLED,f))})}),c.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ql(n,s.Bs)}}function B2(r,t){const n=St(r),s=n.Eu.get(t);if(s&&s.lu)return Pt().add(s.key);{let o=Pt();const c=n.Tu.get(t);if(!c)return o;for(const f of c){const g=n.Pu.get(f);o=o.unionWith(g.view.tu)}return o}}function gT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=hT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=B2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=P2.bind(null,t),t.hu.J_=S2.bind(null,t.eventManager),t.hu.pu=b2.bind(null,t.eventManager),t}function j2(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=k2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=U2.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return GI(this.persistence,new qI,t.initialUser,this.serializer)}Du(t){return new YE(Lm.Vi,this.serializer)}bu(t){return new JI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class q2 extends Wc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Ft(this.persistence.referenceDelegate instanceof Zc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new II(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new YE(s=>Zc.Vi(s,n),this.serializer)}}class cm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Fv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z2.bind(null,this.syncEngine),await E2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new A2}()}createDatastore(t){const n=mh(t.databaseInfo.databaseId),s=function(c){return new i2(c)}(t.databaseInfo);return function(c,f,g,p){return new o2(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,c,f,g){return new u2(s,o,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Fv(this.syncEngine,n,0),function(){return Lv.C()?new Lv:new WI}())}createSyncEngine(t,n){return function(o,c,f,g,p,_,T){const w=new C2(o,c,f,g,p,_);return T&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const c=St(o);rt(ks,"RemoteStore shutting down."),c.Ia.add(5),await Gl(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cm.provider={build:()=>new cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Ki("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="FirestoreClient";class H2{constructor(t,n,s,o,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{rt(Hr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(rt(Hr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Qm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function zd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(Hr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await XE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>{Ur("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{rt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Ur("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=t}async function Qv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await F2(r);rt(Hr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Bv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Bv(t.remoteStore,o)),r._onlineComponents=t}async function F2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(Hr,"Using user provided OfflineComponentProvider");try{await zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ur("Error using user provided cache. Falling back to memory cache: "+n),await zd(r,new Wc)}}else rt(Hr,"Using default OfflineComponentProvider"),await zd(r,new q2(void 0));return r._offlineComponents}async function yT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(Hr,"Using user provided OnlineComponentProvider"),await Qv(r,r._uninitializedComponentsProvider._online)):(rt(Hr,"Using default OnlineComponentProvider"),await Qv(r,new cm))),r._onlineComponents}function G2(r){return yT(r).then(t=>t.syncEngine)}async function hm(r){const t=await yT(r),n=t.eventManager;return n.onListen=D2.bind(null,t.syncEngine),n.onUnlisten=V2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=O2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=M2.bind(null,t.syncEngine),n}function Q2(r,t,n={}){const s=new Pr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,_){const T=new pT({next:C=>{T.Ou(),f.enqueueAndForget(()=>aT(c,w));const z=C.docs.has(g);!z&&C.fromCache?_.reject(new it(K.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&C.fromCache&&p&&p.source==="server"?_.reject(new it(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),w=new oT(lh(g.path),T,{includeMetadataChanges:!0,ka:!0});return sT(c,w)}(await hm(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firestore.googleapis.com",Yv=!0;class Xv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new it(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vT,this.ssl=Yv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Yv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=KE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wI)throw new it(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eR;switch(s.type){case"firstParty":return new sR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Kv.get(n);s&&(rt("ComponentProvider","Removing Datastore"),Kv.delete(n),s.terminate())}(this),Promise.resolve()}}function K2(r,t,n,s={}){var o;r=Bn(r,yh);const c=$a(t),f=r._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(h0(`https://${p}`),f0("Firestore",!0)),f.host!==vT&&f.host!==p&&Ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},f),{host:p,ssl:c,emulatorOptions:s});if(!Vs(_,g)&&(r._setSettings(_),s.mockUserToken)){let T,w;if(typeof s.mockUserToken=="string")T=s.mockUserToken,w=Xe.MOCK_USER;else{T=wS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new it(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Xe(C)}r._authCredentials=new nR(new iE(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new io(this.firestore,t,this._query)}}class he{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new he(this.firestore,t,this._key)}toJSON(){return{type:he._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(jl(n,he._jsonSchema))return new he(t,s||null,new dt(ne.fromString(n.referencePath)))}}he._jsonSchemaVersion="firestore/documentReference/1.0",he._jsonSchema={type:Ae("string",he._jsonSchemaVersion),referencePath:Ae("string")};class kr extends io{constructor(t,n,s){super(t,n,lh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new he(this.firestore,null,new dt(t))}withConverter(t){return new kr(this.firestore,t,this._path)}}function Y2(r,t,...n){if(r=He(r),sE("collection","path",t),r instanceof yh){const s=ne.fromString(t,...n);return lv(s),new kr(r,null,s)}{if(!(r instanceof he||r instanceof kr))throw new it(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return lv(s),new kr(r.firestore,null,s)}}function ja(r,t,...n){if(r=He(r),arguments.length===1&&(t=Im.newId()),sE("doc","path",t),r instanceof yh){const s=ne.fromString(t,...n);return ov(s),new he(r,null,new dt(s))}{if(!(r instanceof he||r instanceof kr))throw new it(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return ov(s),new he(r.firestore,r instanceof kr?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="AsyncQueue";class Zv{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ZE(this,"async_queue_retry"),this.oc=()=>{const s=Ld();s&&rt($v,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Ld();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Ld();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Pr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!eo(t))throw t;rt($v,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,Ki("INTERNAL UNHANDLED ERROR: ",Jv(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=Gm.createAndSchedule(this,t,n,s,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&yt(47125,{hc:Jv(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function Jv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Us extends yh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Zv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Zv(t),this._firestoreClient=void 0,await t}}}function X2(r,t){const n=typeof r=="object"?r:p0(),s=typeof r=="string"?r:Fc,o=pm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=SS("firestore");c&&K2(o,...c)}return o}function $m(r){if(r._terminated)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$2(r),r._firestoreClient}function $2(r){var t,n,s;const o=r._freezeSettings(),c=function(g,p,_,T){return new TR(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,_T(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new H2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g?._online.build();return{_offline:g?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(Fe.fromBase64String(t))}catch(n){throw new it(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Vn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jl(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Ae("string",Vn._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(t){if(jl(t,hi._jsonSchema))return new hi(t.latitude,t.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:Ae("string",hi._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jl(t,fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new fi(t.vectorValues);throw new it(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Ae("string",fi._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=/^__.*__$/;class J2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Hl(t,this.data,n,this.fieldTransforms)}}class ET{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Gr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function TT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ec:r})}}class Jm{constructor(t,n,s,o,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Jm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return th(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(TT(this.Ec)&&Z2.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class W2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||mh(t)}Dc(t,n,s,o=!1){return new Jm({Ec:t,methodName:n,bc:s,path:qe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vh(r){const t=r._freezeSettings(),n=mh(r._databaseId);return new W2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function AT(r,t,n,s,o,c={}){const f=r.Dc(c.merge||c.mergeFields?2:0,t,n,o);Wm("Data must be an object, but it was:",f,s);const g=ST(s,f);let p,_;if(c.merge)p=new yn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const C=fm(t,w,n);if(!f.contains(C))throw new it(K.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);wT(T,C)||T.push(C)}p=new yn(T),_=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,_=f.fieldTransforms;return new J2(new on(g),p,_)}class Eh extends Zm{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Eh}}function tC(r,t,n,s){const o=r.Dc(1,t,n);Wm("Data must be an object, but it was:",o,s);const c=[],f=on.empty();Fr(s,(p,_)=>{const T=tg(t,p,n);_=He(_);const w=o.gc(T);if(_ instanceof Eh)c.push(T);else{const C=Kl(_,w);C!=null&&(c.push(T),f.set(T,C))}});const g=new yn(c);return new ET(f,g,o.fieldTransforms)}function eC(r,t,n,s,o,c){const f=r.Dc(1,t,n),g=[fm(t,s,n)],p=[o];if(c.length%2!=0)throw new it(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(fm(t,c[C])),p.push(c[C+1]);const _=[],T=on.empty();for(let C=g.length-1;C>=0;--C)if(!wT(_,g[C])){const z=g[C];let H=p[C];H=He(H);const J=f.gc(z);if(H instanceof Eh)_.push(z);else{const $=Kl(H,J);$!=null&&(_.push(z),T.set(z,$))}}const w=new yn(_);return new ET(T,w,f.fieldTransforms)}function nC(r,t,n,s=!1){return Kl(n,r.Dc(s?4:3,t))}function Kl(r,t){if(bT(r=He(r)))return Wm("Unsupported field value:",t,r),ST(r,t);if(r instanceof Zm)return function(s,o){if(!TT(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const g of s){let p=Kl(g,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=He(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ie.fromDate(s);return{timestampValue:$c(o.serializer,c)}}if(s instanceof ie){const c=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$c(o.serializer,c)}}if(s instanceof hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:BE(o.serializer,s._byteString)};if(s instanceof he){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:km(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fi)return function(f,g){return{mapValue:{fields:{[mE]:{stringValue:gE},[Gc]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw g.wc("VectorValues must only contain numeric values.");return Mm(g.serializer,_)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${rh(s)}`)}(r,t)}function ST(r,t){const n={};return lE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fr(r,(s,o)=>{const c=Kl(o,t.Vc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function bT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof hi||r instanceof Vn||r instanceof he||r instanceof Zm||r instanceof fi)}function Wm(r,t,n){if(!bT(n)||!aE(n)){const s=rh(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function fm(r,t,n){if((t=He(t))instanceof _h)return t._internalPath;if(typeof t=="string")return tg(r,t);throw th("Field path arguments must be of type string or ",r,!1,void 0,n)}const iC=new RegExp("[~\\*/\\[\\]]");function tg(r,t,n){if(t.search(iC)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new _h(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function th(r,t,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new it(K.INVALID_ARGUMENT,g+r+p)}function wT(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,n,s,o,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new he(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(eg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rC extends RT{data(){return super.data()}}function eg(r,t){return typeof t=="string"?tg(r,t):t instanceof _h?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class aC extends ng{}function oC(r,t,...n){let s=[];t instanceof ng&&s.push(t),s=s.concat(n),function(c){const f=c.filter(p=>p instanceof ig).length,g=c.filter(p=>p instanceof Th).length;if(f>1||f>0&&g>0)throw new it(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Th extends aC{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Th(t,n,s)}_apply(t){const n=this._parse(t);return IT(t._query,n),new io(t.firestore,t.converter,tm(t._query,n))}_parse(t){const n=vh(t.firestore);return function(c,f,g,p,_,T,w){let C;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new it(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){e0(w,T);const H=[];for(const J of w)H.push(t0(p,c,J));C={arrayValue:{values:H}}}else C=t0(p,c,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||e0(w,T),C=nC(g,f,w,T==="in"||T==="not-in");return Te.create(_,T,C)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function lC(r,t,n){const s=t,o=eg("where",r);return Th._create(o,s,n)}class ig extends ng{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ig(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,c){let f=o;const g=c.getFlattenedFilters();for(const p of g)IT(f,p),f=tm(f,p)}(t._query,n),new io(t.firestore,t.converter,tm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function t0(r,t,n){if(typeof(n=He(n))=="string"){if(n==="")throw new it(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SE(t)&&n.indexOf("/")!==-1)throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!dt.isDocumentKey(s))throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pv(r,new dt(s))}if(n instanceof he)return pv(r,n._key);throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(n)}.`)}function e0(r,t){if(!Array.isArray(r)||r.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IT(r,t){const n=function(o,c){for(const f of o)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class uC{convertValue(t,n="none"){switch(jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Fr(t,(o,c)=>{s[o]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,o;const c=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Gc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ge(f.doubleValue));return new fi(c)}convertGeoPoint(t){return new hi(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=oh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const n=zr(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Ft(QE(s),9688,{name:t});const o=new Ol(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return o.isEqual(n)||Ki(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class _l{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ns extends RT{constructor(t,n,s,o,c,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(eg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ns._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:Ae("string",Ns._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Mc extends Ns{data(t={}){return super.data(t)}}class qa{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new _l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Mc(this._firestore,this._userDataWriter,s.key,s,new _l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(g=>{const p=new Mc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new _l(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Mc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new _l(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:cC(g.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function cC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(r){r=Bn(r,he);const t=Bn(r.firestore,Us);return Q2($m(t),r._key).then(n=>NT(t,r,n))}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:Ae("string",qa._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class DT extends uC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new he(this.firestore,null,n)}}function hC(r,t,n){r=Bn(r,he);const s=Bn(r.firestore,Us),o=CT(r.converter,t);return rg(s,[AT(vh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,jn.none())])}function vl(r,t,n,...s){r=Bn(r,he);const o=Bn(r.firestore,Us),c=vh(o);let f;return f=typeof(t=He(t))=="string"||t instanceof _h?eC(c,"updateDoc",r._key,t,n,s):tC(c,"updateDoc",r._key,t),rg(o,[f.toMutation(r._key,jn.exists(!0))])}function fC(r,t){const n=Bn(r.firestore,Us),s=ja(r),o=CT(r.converter,t);return rg(n,[AT(vh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then(()=>s)}function OT(r,...t){var n,s,o;r=He(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||Wv(t[f])||(c=t[f++]);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Wv(t[f])){const w=t[f];t[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),t[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),t[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,_,T;if(r instanceof he)_=Bn(r.firestore,Us),T=lh(r._key.path),p={next:w=>{t[f]&&t[f](NT(_,r,w))},error:t[f+1],complete:t[f+2]};else{const w=Bn(r,io);_=Bn(w.firestore,Us),T=w._query;const C=new DT(_);p={next:z=>{t[f]&&t[f](new qa(_,C,w,z))},error:t[f+1],complete:t[f+2]},sC(r._query)}return function(C,z,H,J){const $=new pT(J),ut=new oT(z,$,H);return C.asyncQueue.enqueueAndForget(async()=>sT(await hm(C),ut)),()=>{$.Ou(),C.asyncQueue.enqueueAndForget(async()=>aT(await hm(C),ut))}}($m(_),T,g,p)}function rg(r,t){return function(s,o){const c=new Pr;return s.asyncQueue.enqueueAndForget(async()=>x2(await G2(s),o,c)),c.promise}($m(r),t)}function NT(r,t,n){const s=n.docs.get(t._key),o=new DT(r);return new Ns(r,o,t._key,s,new _l(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Wa=o})(Za),Fa(new Ms("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Us(new iR(s.getProvider("auth-internal")),new aR(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(_.options.projectId,T)}(f,o),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Mr(nv,iv,t),Mr(nv,iv,"esm2017")})();const n0=120,xc=200,dC=3e3,mC=1500,sg=Yt.createContext(null),i0=()=>{const r=["+","-","*","/"],t=r[Math.floor(Math.random()*r.length)];let n,s,o;switch(t){case"+":case"-":n=Math.floor(Math.random()*99)+2,s=Math.floor(Math.random()*99)+2,n<s&&([n,s]=[s,n]),o=t==="+"?n+s:n-s;break;case"*":let c=Math.floor(Math.random()*11)+2,f=Math.floor(Math.random()*99)+2;Math.random()<.5?(n=c,s=f):(n=f,s=c),o=n*s;break;case"/":let g=Math.floor(Math.random()*11)+2,p=Math.floor(Math.random()*99)+2;n=g*p,s=g,o=p;break;default:n=0,s=0,o=0;break}return{problem:`${n} ${t} ${s}`,answer:o}},VT=({isOpen:r,title:t,message:n,onClose:s,showCancel:o=!1,onConfirm:c})=>r?at.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:at.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full border border-gray-300 transform transition-all scale-100 ease-out duration-300",children:[at.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800 text-center",children:t}),at.jsx("p",{className:"text-gray-700 text-center mb-6 text-lg whitespace-pre-wrap",children:n}),at.jsxs("div",{className:"flex justify-center space-x-4",children:[o&&at.jsx("button",{onClick:s,className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75 text-lg font-semibold transition duration-200 ease-in-out shadow-md",children:"Cancel"}),at.jsx("button",{onClick:c||s,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 text-lg font-semibold transition duration-200 ease-in-out shadow-lg",children:"OK"})]})]})}):null,gC=({children:r})=>{const[t,n]=Yt.useState(null),[s,o]=Yt.useState(null),[c,f]=Yt.useState(null),[g,p]=Yt.useState(!0),[_,T]=Yt.useState(null);return Yt.useEffect(()=>{try{const w="zetamac-multiplayer-game-1096642033412",C={apiKey:"AIzaSyAjpyi4F-AlbkvOPKtQYXk0fT_FVXPyWto",authDomain:"zetamac-multiplayer-game.firebaseapp.com",projectId:"zetamac-multiplayer-game",storageBucket:"zetamac-multiplayer-game.appspot.com",messagingSenderId:"1096642033412",appId:"1:1096642033412:web:00d355f525568d981a8251",measurementId:"G-KHMTENJKV4"},z=typeof __app_id<"u"?__app_id:w,H=typeof __firebase_config<"u"?JSON.parse(__firebase_config):C,J=typeof __initial_auth_token<"u"?__initial_auth_token:null;if(console.log("Firebase Init: Using appId:",z),console.log("Firebase Init: Using firebaseConfig:",H),!H||Object.keys(H).length===0||!H.apiKey||!H.authDomain||!H.projectId){console.error("Firebase config is missing or incomplete. Required fields: apiKey, authDomain, projectId."),T("Firebase configuration is missing or incomplete. Please check your config in src/App.jsx and Firebase Console."),p(!1);return}const $=g0(H),ut=Ww($),lt=X2($);o(ut),n(lt);const st=q1(ut,async bt=>{if(bt){f(bt.uid),console.log("Firebase Auth: User signed in with UID:",bt.uid);try{const ct=ja(lt,`artifacts/${z}/users/${bt.uid}/profile`,bt.uid);(await Ha(ct)).exists()||(await hC(ct,{elo:xc,lastUpdated:Date.now()}),console.log("User profile created for UID:",bt.uid))}catch(ct){console.error("Error ensuring user profile exists:",ct)}finally{p(!1)}}else try{J?(await z1(ut,J),console.log("Firebase Auth: Signed in with custom token.")):(await G_(ut),console.log("Firebase Auth: Signed in anonymously."))}catch(ct){console.warn("Firebase Auth: Custom token sign-in failed, attempting anonymous sign-in:",ct);try{await G_(ut),console.log("Firebase Auth: Fallback to anonymous sign-in successful.")}catch(wt){console.error("Firebase Auth Error: Anonymous sign-in also failed:",wt),T(`Authentication failed: ${wt.message}`)}}finally{}});return()=>st()}catch(w){console.error("Error initializing Firebase:",w),T(`Failed to initialize Firebase: ${w.message}`),p(!1)}},[]),g?at.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-gray-100",children:at.jsx("p",{className:"text-2xl font-semibold animate-pulse",children:"Loading Firebase..."})}):_?at.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-red-900 text-white p-4",children:[at.jsx("p",{className:"text-2xl font-bold mb-4",children:"Error"}),at.jsx("p",{className:"text-lg text-center",children:_}),at.jsx("p",{className:"mt-4 text-sm",children:"Please check the console for more details."})]}):c?at.jsx(sg.Provider,{value:{db:t,auth:s,userId:c},children:r}):at.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-gray-100",children:at.jsx("p",{className:"text-2xl font-semibold animate-pulse",children:"Authenticating..."})})},pC=({onJoinGame:r})=>{const{db:t,userId:n}=Yt.useContext(sg),[s,o]=Yt.useState([]),[c,f]=Yt.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[g,p]=Yt.useState(""),_=typeof __app_id<"u"?__app_id:"zetamac-multiplayer-game",T=Y2(t,`artifacts/${_}/public/data/games`);Yt.useEffect(()=>{if(!t||!n)return;const z=oC(T,lC("status","==","waiting")),H=OT(z,J=>{const $=J.docs.map(ut=>({id:ut.id,...ut.data()}));o($)},J=>{console.error("Error fetching active games:",J),f({isOpen:!0,title:"Error",message:"Failed to load active games."})});return()=>H()},[t,n]);const w=async(z="human")=>{if(!t||!n){f({isOpen:!0,title:"Error",message:"Firebase not ready. Please try again."});return}try{const H=ja(t,`artifacts/${_}/users/${n}/profile`,n),J=await Ha(H),$=J.exists()?J.data().elo:xc;let ut=xc,lt=null;z==="bot-1000"?(lt="BOT-1000-"+crypto.randomUUID(),ut=1e3):z==="bot-2000"&&(lt="BOT-2000-"+crypto.randomUUID(),ut=2e3);const st=await fC(T,{player1Id:n,player1Score:0,player1EloAtStart:$,player2Id:lt,player2Score:0,player2EloAtStart:ut,status:z==="human"?"waiting":"ready",opponentType:z,currentProblem:null,currentAnswer:null,startTime:null,winnerId:null,eloCalculated:!1,createdAt:Date.now()});r(st.id)}catch(H){console.error("Error creating game:",H),f({isOpen:!0,title:"Error",message:`Failed to create game: ${H.message}`})}},C=async z=>{if(!t||!n){f({isOpen:!0,title:"Error",message:"Firebase not ready. Please try again."});return}if(!z){f({isOpen:!0,title:"Error",message:"Please enter a Game ID."});return}try{const H=ja(T,z),J=await Ha(H);if(!J.exists()){f({isOpen:!0,title:"Error",message:"Game not found."});return}const $=J.data();if($.player1Id===n){r(z);return}if($.player2Id&&$.player2Id!==n){f({isOpen:!0,title:"Game Full",message:"This game already has two players."});return}if($.status!=="waiting"){f({isOpen:!0,title:"Error",message:"This game is already in progress or finished."});return}const ut=ja(t,`artifacts/${_}/users/${n}/profile`,n),lt=await Ha(ut),st=lt.exists()?lt.data().elo:xc;await vl(H,{player2Id:n,player2EloAtStart:st,status:"ready"}),r(z)}catch(H){console.error("Error joining game:",H),f({isOpen:!0,title:"Error",message:`Failed to join game: ${H.message}`})}};return at.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-700 text-white flex flex-col items-center justify-center p-4",children:[at.jsx("h1",{className:"text-5xl font-extrabold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 animate-fade-in-down",children:"Zetamac Race"}),at.jsxs("p",{className:"text-lg mb-6 text-gray-300 text-center",children:["Your User ID: ",at.jsx("span",{className:"font-mono bg-gray-800 px-3 py-1 rounded-md text-sm",children:n})]}),at.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-700 max-w-md w-full mb-8 transform transition-all hover:scale-105 duration-300",children:[at.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-100",children:"Create New Game"}),at.jsx("button",{onClick:()=>w("human"),className:"w-full bg-green-600 text-white py-4 rounded-xl text-2xl font-bold shadow-lg hover:bg-green-700 transform hover:scale-105 transition duration-300 ease-in-out focus:outline-none focus:ring-4 focus:ring-green-500 focus:ring-opacity-75 mb-4",children:"Create Game (Vs Human)"}),at.jsx("button",{onClick:()=>w("bot-1000"),className:"w-full bg-indigo-600 text-white py-4 rounded-xl text-2xl font-bold shadow-lg hover:bg-indigo-700 transform hover:scale-105 transition duration-300 ease-in-out focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:ring-opacity-75 mb-4",children:"Create Game (Vs Bot 1000 Elo)"}),at.jsx("button",{onClick:()=>w("bot-2000"),className:"w-full bg-purple-600 text-white py-4 rounded-xl text-2xl font-bold shadow-lg hover:bg-purple-700 transform hover:scale-105 transition duration-300 ease-in-out focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-75",children:"Create Game (Vs Bot 2000 Elo)"})]}),at.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-700 max-w-2xl w-full",children:[at.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-100",children:"Active Games (Waiting)"}),s.length===0?at.jsx("p",{className:"text-gray-400 text-center text-lg",children:"No active games found. Create one!"}):at.jsx("ul",{className:"space-y-4",children:s.map(z=>at.jsxs("li",{className:"bg-gray-700 p-5 rounded-xl flex flex-col sm:flex-row justify-between items-center shadow-md border border-gray-600 transform transition-transform hover:scale-102 duration-200",children:[at.jsxs("div",{className:"text-xl font-semibold mb-2 sm:mb-0 text-gray-200",children:["Game ID: ",at.jsx("span",{className:"font-mono text-blue-300",children:z.id}),at.jsxs("p",{className:"text-base text-gray-400 mt-1",children:["Player 1: ",z.player1Id.substring(0,8),"..."]})]}),at.jsx("button",{onClick:()=>C(z.id),className:"bg-purple-600 text-white px-6 py-3 rounded-lg text-lg font-bold hover:bg-purple-700 transform hover:scale-105 transition duration-300 ease-in-out focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-75",children:"Join"})]},z.id))})]}),at.jsx(VT,{isOpen:c.isOpen,title:c.title,message:c.message,onClose:()=>f({...c,isOpen:!1}),onConfirm:c.onConfirm})]})},yC=({gameId:r,onGameEnd:t})=>{const{db:n,userId:s}=Yt.useContext(sg),[o,c]=Yt.useState(null),[f,g]=Yt.useState(!1),[p,_]=Yt.useState(n0),[T,w]=Yt.useState(""),[C,z]=Yt.useState(""),[H,J]=Yt.useState({isOpen:!1}),[$,ut]=Yt.useState(!1),lt=Yt.useRef(null),st=Yt.useRef(null),ct=ja(n,`artifacts/${typeof __app_id<"u"?__app_id:"zetamac-multiplayer-game"}/public/data/games`,r);Yt.useEffect(()=>{if(!n||!r)return;const S=OT(ct,At=>{At.exists()?c(At.data()):J({isOpen:!0,title:"Game Ended",message:"The game you were in no longer exists.",onConfirm:t})},At=>{console.error("GameRoom listener error:",At),J({isOpen:!0,title:"Connection Error",message:"Disconnected from game.",onConfirm:t})});return()=>S()},[n,r,t]),Yt.useEffect(()=>{if(o){if(o.status==="playing"){f||g(!0);const S=Math.floor((Date.now()-o.startTime)/1e3);if(_(Math.max(0,n0-S)),o.opponentType?.startsWith("bot")&&!st.current){const At=o.opponentType==="bot-1000"?dC:mC;st.current=setInterval(async()=>{const Dt=await Ha(ct);Dt.exists()&&Dt.data().status==="playing"&&await vl(ct,{player2Score:(Dt.data().player2Score||0)+1})},At)}}else o.status==="finished"&&(f&&g(!1),st.current&&(clearInterval(st.current),st.current=null),$||(I(o),ut(!0)));return()=>{st.current&&(clearInterval(st.current),st.current=null)}}},[o]),Yt.useEffect(()=>{let S;return f&&p>0?S=setInterval(()=>{_(At=>At-1)},1e3):f&&p===0&&b(),()=>clearInterval(S)},[f,p]),Yt.useEffect(()=>{f&&o?.status==="playing"&&lt.current?.focus()},[f,o?.status,o?.currentProblem]);const wt=async()=>{if(!(!o||o.player1Id!==s||o.status!=="ready"))try{const{problem:S,answer:At}=i0();await vl(ct,{status:"playing",startTime:Date.now(),currentProblem:S,currentAnswer:At})}catch(S){console.error("Error starting game:",S)}},V=async S=>{const At=S.target.value;if(w(At),!o||o.status!=="playing")return;const Dt=String(o.currentAnswer);if(At.length===Dt.length){if(At===Dt){z("Correct!"),w("");try{const F=(s===o.player1Id?o.player1Score:o.player2Score)+1,{problem:et,answer:ht}=i0();await vl(ct,{currentProblem:et,currentAnswer:ht,[s===o.player1Id?"player1Score":"player2Score"]:F})}catch(F){console.error("Error updating on correct answer:",F)}}else z("Incorrect!");setTimeout(()=>z(""),500)}},b=async()=>{const S=await Ha(ct);if(S.exists()&&S.data().status==="playing")try{const At=S.data();let Dt=null;At.player1Score>At.player2Score?Dt=At.player1Id:At.player2Score>At.player1Score&&(Dt=At.player2Id),await vl(ct,{status:"finished",winnerId:Dt})}catch(At){console.error("Error ending game:",At)}},I=S=>{const At=S.player1Id===s;let Dt=`Game Over!

Your Score: ${At?S.player1Score:S.player2Score}
Opponent's Score: ${At?S.player2Score:S.player1Score}

`;S.winnerId===s?Dt+=`You Win!
`:S.winnerId===null?Dt+=`It's a Draw!
`:Dt+=`You Lose!
`,J({isOpen:!0,title:"Game Over!",message:Dt,onConfirm:t})};if(!o)return at.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-gray-100",children:at.jsx("p",{className:"text-2xl font-semibold animate-pulse",children:"Loading Game Room..."})});const N=s===o.player1Id,M=N?o.player1Score:o.player2Score,P=N?o.player2Score:o.player1Score;return N?o.player2Id:o.player1Id,at.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-700 text-white flex flex-col items-center justify-center p-4 font-inter",children:[at.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-700 max-w-2xl w-full",children:[at.jsx("h2",{className:"text-4xl font-bold mb-6 text-center text-gray-100",children:"Zetamac Race"}),at.jsxs("div",{className:"flex justify-around items-center mb-6 text-xl",children:[at.jsxs("div",{className:"text-center w-1/3",children:[at.jsx("p",{className:"text-gray-400",children:"You"}),at.jsx("p",{className:"text-4xl font-extrabold text-green-400 mt-2",children:M})]}),at.jsxs("div",{className:"text-center w-1/3",children:[at.jsx("p",{className:"text-gray-400",children:"Time Left"}),at.jsx("p",{className:"text-5xl font-extrabold text-yellow-400 mt-2",children:p})]}),at.jsxs("div",{className:"text-center w-1/3",children:[at.jsx("p",{className:"text-gray-400",children:"Opponent"}),at.jsx("p",{className:"text-4xl font-extrabold text-red-400 mt-2",children:P})]})]}),o.status==="playing"&&at.jsxs("div",{className:"text-center mb-8 relative",children:[at.jsx("p",{className:"text-6xl font-bold text-white mb-4",children:o.currentProblem}),at.jsx("input",{ref:lt,type:"number",value:T,onChange:V,className:"w-2/3 p-4 text-center bg-gray-700 text-white border border-gray-600 rounded-lg text-4xl",placeholder:"Answer",autoComplete:"off"}),C&&at.jsx("p",{className:`absolute -bottom-8 left-1/2 -translate-x-1/2 text-2xl font-semibold ${C.startsWith("Correct")?"text-green-400":"text-red-400"}`,children:C})]}),o.status==="waiting"&&at.jsx("p",{className:"text-center text-2xl text-gray-400",children:"Waiting for an opponent..."}),o.status==="ready"&&N&&at.jsxs("div",{className:"text-center",children:[at.jsx("p",{className:"text-2xl text-gray-400 mb-4",children:"Opponent has joined. Ready to start?"}),at.jsx("button",{onClick:wt,className:"bg-green-600 text-white py-4 px-8 rounded-xl text-2xl font-bold shadow-lg hover:bg-green-700 transition",children:"Start Game"})]}),o.status==="ready"&&!N&&at.jsx("p",{className:"text-center text-2xl text-gray-400",children:"Waiting for Player 1 to start..."}),o.status==="finished"&&at.jsx("p",{className:"text-center text-2xl text-gray-300 mb-4",children:"Game has ended. Calculating results..."})]}),at.jsx(VT,{...H,onClose:H.onConfirm||(()=>J({isOpen:!1})),onConfirm:H.onConfirm})]})},_C=()=>{const[r,t]=Yt.useState(null),n=o=>{t(o)},s=()=>{t(null)};return Yt.useEffect(()=>(screen.orientation&&screen.orientation.lock?screen.orientation.lock("landscape").then(()=>console.log("Screen locked to landscape.")).catch(o=>console.warn("Could not lock screen orientation:",o)):window.screen.orientation&&window.screen.orientation.lock?window.screen.orientation.lock("landscape").then(()=>console.log("Screen locked to landscape (window.screen).")).catch(o=>console.warn("Could not lock screen orientation (window.screen):",o)):console.warn("Screen orientation API not supported or available."),()=>{screen.orientation&&screen.orientation.unlock}),[]),at.jsxs(gC,{children:[at.jsx("style",{children:`
          /* Base styling for the body */
          body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scroll */
            min-height: 100vh; /* Ensure body takes full viewport height */
            min-width: 100vw;  /* Ensure body takes full viewport width */
            display: flex; /* Enable flexbox */
            flex-direction: row; /* Default to row (horizontal) */
            justify-content: center; /* Center horizontally */
            align-items: center; /* Center vertically */
            background: linear-gradient(to bottom right, #1a202c, #2d3748); /* Background gradient */
            color: #ffffff; /* Default text color */
          }

          /* Media query for very small screens (portrait mobile) - stack vertically if too narrow */
          @media (max-width: 768px) and (orientation: portrait) {
            body {
              flex-direction: column; /* Revert to column for portrait on small screens */
            }
          }

          /* General styling for main content containers (the dark gray boxes) */
          .game-container-card {
            max-width: 95vw; /* Allow wider usage of horizontal space */
            max-height: 95vh; /* Limit height */
            margin: 1rem; /* Add some margin around the card */
            padding: 2rem; /* Add padding inside */
            border-radius: 1.5rem; /* More rounded corners for cards */
            background-color: #2d3748; /* Darker background for card */
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3); /* Stronger shadow */
            display: flex;
            flex-direction: column; /* Content inside card stacks vertically */
            align-items: center;
            justify-content: center;
          }

          /* Specific adjustments for elements to promote horizontal layout within cards */
          .game-info-row { /* Applied to div containing Your ID, Time Left, Opponent ID */
            display: flex;
            justify-content: space-around;
            width: 100%; /* Take full width of parent */
            flex-wrap: wrap; /* Allow wrapping on small screens */
            gap: 1rem; /* Space between items */
          }
          .game-info-row > div {
            flex-shrink: 0; /* Prevent shrinking */
            min-width: 120px; /* Ensure minimum width for info blocks */
          }


          /* Custom keyframe for fade-in-down animation */
          @keyframes fade-in-down {
            from {
              opacity: 0;
              transform: translateY(-20px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-down {
            animation: fade-in-down 1s ease-out forwards;
          }

          /* Ensure all elements have rounded corners for consistency */
          * {
            border-radius: 0.5rem; /* Apply to all elements */
          }

          /* Specific adjustments for buttons and inputs for a more rounded feel */
          button, input[type="text"], input[type="number"] {
            border-radius: 0.75rem; /* Slightly more rounded for interactive elements */
          }

          /* For shadow and hover effects consistency */
          .shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
          }
          .hover\\:scale-105:hover {
            transform: scale(1.05);
          }
          .transition-transform {
            transition-property: transform;
            transition-duration: 300ms;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
          }
        `}),r?at.jsx(yC,{gameId:r,onGameEnd:s}):at.jsx(pC,{onJoinGame:n})]})};mS.createRoot(document.getElementById("root")).render(at.jsx(aS.StrictMode,{children:at.jsx(_C,{})}));
